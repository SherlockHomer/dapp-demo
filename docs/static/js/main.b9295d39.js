/*! For license information please see main.b9295d39.js.LICENSE.txt */
(()=>{var e={70187:(e,t,n)=>{"use strict";n.d(t,{A:()=>En});var r=n(98728),i=n(72661),o=n(92423),a=n(42340),f=n(13960),s=n(90800),c=n(43666),l=n(63977),d=n.n(l),u=n(30385),h=n.n(u);const p=(0,f.createContext)({});var b=n(64399);const g="0x1E0049783F008A0085193E00003D00cd54003c71",v="0xfe8dc6394501a35ad1c4833f40f382e55dada4f3",y=function(){return{1:"0x458c761053bc46bc044bd7c9c68e58c5d44da45f",137:"0xd422e603cad822de9ff2ec61a8491164f748585a",66:"0xd422e603cad822de9ff2ec61a8491164f748585a"}[arguments.length>0&&void 0!==arguments[0]?arguments[0]:1]},m=function(){return{1:"0x300b6acb1851acd39104b99bbe540e02ed6eeec1",137:"0xeb0647bfd3def182e7cbc5bc266cc81ceb83862d"}[arguments.length>0&&void 0!==arguments[0]?arguments[0]:1]},C=function(){return{1:"0x411be70a215df02311d62f9a8cd201b38ae4effd",137:"0xde05fdad44c27365e4fbb91978dd778b4abd0575"}[arguments.length>0&&void 0!==arguments[0]?arguments[0]:1]};var w=n(98036),x=n(54342);const O=["1","137","11155111","314"],_={1:["0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","0x6b175474e89094c44da98b954eedeac495271d0f","0xdac17f958d2ee523a2206206994597c13d831ec7","0x1f9840a85d5af5bf1d1762f925bdaddc4201f984","0x95ad61b0a150d79219dcf64e1e6cc01f0b64c4ce","0x75231f58b43240c9718dd58b4967c5114342a86c"],137:["0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x3c499c542cef5e3811e1192ce70d8cc03d5c3359","0xac51c4c48dc3116487ed4bc16542e27b5694da1b","0x0000000000000000000000000000000000001010","0x53e0bca35ec356bd5dddfebbd1fc0fd03fabad39","0x1bfd67037b42cf73acf2047067bd4f2c47d9bfd6","0x2c89bbc92bd86f8075d1decc58c7f4e0107f286b"],11155111:["0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x3c499c542cef5e3811e1192ce70d8cc03d5c3359","0xac51c4c48dc3116487ed4bc16542e27b5694da1b","0x0000000000000000000000000000000000001010","0x53e0bca35ec356bd5dddfebbd1fc0fd03fabad39","0x1bfd67037b42cf73acf2047067bd4f2c47d9bfd6","0x2c89bbc92bd86f8075d1decc58c7f4e0107f286b"],314:["0x7b90337f65faa2b2b8ed583ba1ba6eb0c9d7ea44","0x8460766edc62b525fc1fa4d628fc79229dc73031","0xba5cd7ef1414c33e3a250fb89ad7c8f49844762d","0x005e02a4a934142d8dd476f192d0dd9c381b16b4","0xaaef78eaf86dcf34f275288752e892424dda9341","0x44f0f7c774c42dba388fff55c8057a71d5952044","0x8ed1137f81bf8108731735902c9428511347de16","0x4f180e118e8b20eeb87899ce6a497d05dc8319b6","0x422849b355039bc58f2780cc4854919fc9cfaf94"]};const E=function(e){let{chainId:t}=e;const n=y(t),r=C(t),{account:i,provider:a}=(0,f.useContext)(p),[l,h]=(0,f.useState)(!1),g=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0x68b3465833fb72A70ecDF485E0e4C7bD8665Fc45";return async()=>{try{h(!0);const n={types:{EIP712Domain:[{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],Permit:[{name:"owner",type:"address"},{name:"spender",type:"address"},{name:"value",type:"uint256"},{name:"nonce",type:"uint256"},{name:"deadline",type:"uint256"}]},domain:{name:"USD Coin",version:"2",verifyingContract:(0,u.sample)(_[t]),chainId:t},primaryType:"Permit",message:{owner:(0,u.sample)(_[t]),spender:e,value:"25000000",nonce:5,deadline:`${d()().add(2,"day").unix()}`}},r=await a.request({method:"eth_signTypedData_v4",params:[i,JSON.stringify(n)]});x.log(r),(0,b.t)()}catch(n){x.log(n),(0,b.i)()}finally{h(!1)}}},[m,E]=(0,f.useState)(!1),S=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0xef1c6e67703c7bd7107eed8303fbe6ec2554bf6b";return async()=>{try{E(!0);const n={types:{PermitSingle:[{name:"details",type:"PermitDetails"},{name:"spender",type:"address"},{name:"sigDeadline",type:"uint256"}],PermitDetails:[{name:"token",type:"address"},{name:"amount",type:"uint160"},{name:"expiration",type:"uint48"},{name:"nonce",type:"uint48"}],EIP712Domain:[{name:"name",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}]},domain:{name:"Permit2",chainId:t,verifyingContract:(0,u.sample)(_[t])},primaryType:"PermitSingle",message:{details:{token:(0,u.sample)(_[t]),amount:"1461501637330902918203684832716283019655932542975",expiration:`${d()().add(2,"day").unix()}`,nonce:"0"},spender:e,sigDeadline:`${d()().add(3,"day").unix()}`}},r=await a.request({method:"eth_signTypedData_v4",params:[i,JSON.stringify(n)]});x.log(r),(0,b.t)()}catch(n){x.log(n),(0,b.i)()}finally{E(!1)}}},[R,N]=(0,f.useState)(!1),k=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0xef1c6e67703c7bd7107eed8303fbe6ec2554bf6b";return async()=>{try{N(!0);const n={types:{PermitBatch:[{name:"details",type:"PermitDetails[]"},{name:"spender",type:"address"},{name:"sigDeadline",type:"uint256"}],PermitDetails:[{name:"token",type:"address"},{name:"amount",type:"uint160"},{name:"expiration",type:"uint48"},{name:"nonce",type:"uint48"}],EIP712Domain:[{name:"name",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}]},domain:{name:"Permit2",chainId:t,verifyingContract:(0,u.sample)(_[t])},primaryType:"PermitBatch",message:{details:[{token:(0,u.sample)(_[t]),amount:"1461501637330902918203684832716283019655932542975",expiration:`${d()().add(2,"day").unix()}`,nonce:"0"},{token:(0,u.sample)(_[t]),amount:"1461501637330902918203684832716283019655932542975",expiration:`${d()().add(2,"day").unix()}`,nonce:"0"},{token:(0,u.sample)(_[t]),amount:"1461501637330902918203684832716283019655932542975",expiration:`${d()().add(2,"day").unix()}`,nonce:"0"},{token:(0,u.sample)(_[t]),amount:"1461501637330902918203684832716283019655932542975",expiration:`${d()().add(2,"day").unix()}`,nonce:"0"}],spender:e,sigDeadline:`${d()().add(2,"day").unix()}`}},r=await a.request({method:"eth_signTypedData_v4",params:[i,JSON.stringify(n)]});x.log(r),(0,b.t)()}catch(n){x.log(n),(0,b.i)()}finally{N(!1)}}};return(0,w.jsx)(c.A,{xs:24,lg:12,children:(0,w.jsx)(o.Zp,{direction:"vertical",title:"Permit & Permit2 & Permit2 Batch",children:O.includes(`${t}`)?(0,w.jsxs)(s.A,{gutter:8,children:[(0,w.jsxs)(c.A,{xs:24,lg:8,children:[(0,w.jsx)(o.$n,{block:!0,disabled:!i,onClick:g(),loading:l,style:{marginBottom:8},children:"Permit"}),!!n&&(0,w.jsx)(o.$n,{block:!0,color:"danger",disabled:!i,onClick:g(n),loading:l,style:{marginBottom:8},children:"Black"}),!!r&&(0,w.jsx)(o.$n,{block:!0,color:"danger",disabled:!i,onClick:g(r),loading:l,style:{marginBottom:8},children:"StrongBlack"}),(0,w.jsx)(o.$n,{block:!0,disabled:!i,onClick:g(v),loading:l,style:{marginBottom:8},children:"EOA"})]}),(0,w.jsxs)(c.A,{xs:24,lg:8,children:[(0,w.jsx)(o.$n,{block:!0,disabled:!i,onClick:S(),loading:m,style:{marginBottom:8},children:"Permit2"}),!!n&&(0,w.jsx)(o.$n,{block:!0,color:"danger",disabled:!i,onClick:S(n),loading:m,style:{marginBottom:8},children:"Black"}),!!r&&(0,w.jsx)(o.$n,{block:!0,color:"danger",disabled:!i,onClick:g(r),loading:m,style:{marginBottom:8},children:"StrongBlack"}),(0,w.jsx)(o.$n,{block:!0,disabled:!i,loading:m,onClick:S(v),style:{marginBottom:8},children:"EOA"})]}),(0,w.jsxs)(c.A,{xs:24,lg:8,children:[(0,w.jsx)(o.$n,{block:!0,disabled:!i,onClick:k(),loading:R,style:{marginBottom:8},children:"Permit2 Batch"}),!!n&&(0,w.jsx)(o.$n,{block:!0,color:"danger",disabled:!i,onClick:k(n),loading:R,style:{marginBottom:8},children:"Black"}),!!r&&(0,w.jsx)(o.$n,{block:!0,color:"danger",disabled:!i,onClick:g(r),loading:R,style:{marginBottom:8},children:"StrongBlack"}),(0,w.jsx)(o.$n,{block:!0,disabled:!i,onClick:k(v),loading:R,style:{marginBottom:8},children:"EOA"})]})]}):(0,w.jsx)(o.$n,{block:!0,disabled:!i,onClick:()=>{a.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x1"}]})},children:"\u6682\u4e0d\u652f\u6301\u8be5\u7f51\u7edc - \u5207\u6362\u5230 eth \u4e3b\u7f51"})})})};var S=n(60930),R=n(54342);const N=function(){const{account:e,chainId:t,provider:n}=(0,f.useContext)(p),[r,i]=(0,f.useState)(!1),a=function(){let{verifyingContract:r="0xCcCCccccCCCCcCCCCCCcCcCccCcCCCcCcccccccC",fakeMsg:o=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return async()=>{const a={domain:{chainId:t.toString(),name:"Ether Mail",verifyingContract:r,version:"1"},message:o?{"\u2062target\uff02:\uff02THIS IS THE FAKE TARGET\uff02,\uff02message":"THIS IS THE FAKE MESSAGE\uff02\u2062}\u2062 }\u2062xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\u2062xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\u2062xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\u2062xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\u2062xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\u2062xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\u2062xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\u2062xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\u2062xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\u2062xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\u2062xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\u2062xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\u2062xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\u2062xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\u2062xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\u2062xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\u2062xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\u2062xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\u2062xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\u2062xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\u2062xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\u2062xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\u2062xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\u2062xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\u2062xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\u2062xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\u2062xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\u2062xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\u2062xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\u2062xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\u2062xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\u2062xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\u2062xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\u2062xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\u2062xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"}:{contents:"Hello, Bob!",from:{name:"Cow",wallets:["0xCD2a3d9F938E13CD947Ec05AbC7FE734Df8DD826","0xDeaDbeefdEAdbeefdEadbEEFdeadbeEFdEaDbeeF"]},to:[{name:"Bob",wallets:["0xCD2a3d9F938E13CD947Ec05AbC7FE734Df8DD826","0xDeaDbeefdEAdbeefdEadbEEFdeadbeEFdEaDbeeF"]}]},primaryType:"Mail",types:{EIP712Domain:[{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],Group:[{name:"name",type:"string"},{name:"members",type:"Person[]"}],Mail:[{name:"from",type:"Person"},{name:"to",type:"Person[]"},{name:"contents",type:"string"}],Person:[{name:"name",type:"string"},{name:"wallets",type:"address[]"}]}};try{i(!0);const t=await n.request({method:"eth_signTypedData_v4",params:[e,JSON.stringify(a)]});R.log(t),(0,b.t)()}catch(f){R.log(f),(0,b.i)()}finally{i(!1)}}};return(0,w.jsx)(c.A,{xs:24,lg:6,children:(0,w.jsx)(o.Zp,{direction:"vertical",title:"Sign Typed Data V4",children:(0,w.jsxs)(o.$x,{direction:"vertical",style:{width:"100%"},children:[(0,w.jsx)(o.$n,{block:!0,disabled:!e,onClick:a(),loading:r,children:"eth_signTypedData_v4"}),(0,w.jsx)(o.$n,{block:!0,disabled:!e,onClick:a({verifyingContract:"34567890ihdauhfljadfja"}),loading:r,children:"eip712NotStandard"}),(0,w.jsx)(o.$n,{block:!0,disabled:!e,onClick:a({fakeMsg:!0}),loading:r,children:"longSignText"}),(0,w.jsx)(S.A,{content:"eip712NotStandard & longSignText",children:(0,w.jsx)(o.$n,{block:!0,disabled:!e,onClick:a({verifyingContract:"34567890ihdauhfljadfja",fakeMsg:!0}),loading:r,children:"both"})}),(0,w.jsx)(o.$n,{block:!0,disabled:!e,onClick:async()=>{const r={types:{EIP712Domain:[{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],OrderComponents:[{name:"offerer",type:"address"},{name:"zone",type:"address"},{name:"offer",type:"OfferItem[]"},{name:"consideration",type:"ConsiderationItem[]"},{name:"orderType",type:"uint8"},{name:"startTime",type:"uint256"},{name:"endTime",type:"uint256"},{name:"zoneHash",type:"bytes32"},{name:"salt",type:"uint256"},{name:"conduitKey",type:"bytes32"},{name:"counter",type:"uint256"}],OfferItem:[{name:"itemType",type:"uint8"},{name:"token",type:"address"},{name:"identifierOrCriteria",type:"uint256"},{name:"startAmount",type:"uint256"},{name:"endAmount",type:"uint256"}],ConsiderationItem:[{name:"itemType",type:"uint8"},{name:"token",type:"address"},{name:"identifierOrCriteria",type:"uint256"},{name:"startAmount",type:"uint256"},{name:"endAmount",type:"uint256"},{name:"recipient",type:"address"}]},primaryType:"OrderComponents",domain:{name:"Seaport",version:"1.1",chainId:t.toString(10),verifyingContract:"0x00000000006c3852cbEf3e08E8dF289169EdE581"},message:{offerer:"0x6c8ee01f1f8b62e987b3d18f6f28b22a0ada755f",offer:[{itemType:"2",token:"0xBC4CA0EdA7647A8aB7C2061c2E118A18a936f13D",identifierOrCriteria:"5547",startAmount:"1",endAmount:"1"},{itemType:"2",token:"0x5Af0D9827E0c53E4799BB226655A1de152A425a5",identifierOrCriteria:"5547",startAmount:"1",endAmount:"1"}],consideration:[{itemType:"0",token:"0x0000000000000000000000000000000000000000",identifierOrCriteria:"0",startAmount:"1",endAmount:"1",recipient:"0x6c8ee01f1f8b62e987b3d18f6f28b22a0ada755f"},{itemType:"0",token:"0x0000000000000000000000000000000000000000",identifierOrCriteria:"0",startAmount:"2475000000000000000",endAmount:"2475000000000000000",recipient:"0x0000a26b00c1F0DF003000390027140000fAa719"},{itemType:"0",token:"0x0000000000000000000000000000000000000000",identifierOrCriteria:"0",startAmount:"2475000000000000000",endAmount:"2475000000000000000",recipient:"0xA858DDc0445d8131daC4d1DE01f834ffcbA52Ef1"}],startTime:"1664436437",endTime:"1667028437",orderType:"2",zone:"0x004C00500000aD104D7DBd00e3ae0A5C00560C00",zoneHash:"0x0000000000000000000000000000000000000000000000000000000000000000",salt:"24446860302761739304752683030156737591518664810215442929818054330004503495628",conduitKey:"0x0000007b02230091a7ed01230072f7006a004d60a8d4e71d599b8104250f0000",totalOriginalConsiderationItems:"3",counter:"53"}};try{i(!0);const t=await n.request({method:"eth_signTypedData_v4",params:[e,JSON.stringify(r)]});R.log(t),(0,b.t)()}catch(o){R.log(o),(0,b.i)()}finally{i(!1)}},loading:r,children:"0 \u5143\u8d2d"})]})})})};var k=n(54342);const T=function(){const{account:e,chainId:t,provider:n}=(0,f.useContext)(p),[r,i]=(0,f.useState)(!1),[a,l]=(0,f.useState)(!1),d=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Example `personal_sign` message";return async()=>{try{l(!0);const r=await n.request({method:"personal_sign",params:[t,e,"Example password"]});k.log(r),(0,b.t)()}catch(r){k.log(r),(0,b.i)()}finally{l(!1)}}},[u,h]=(0,f.useState)(!1),g=[{type:"string",name:"Name",value:"Luo Quan Quan"},{type:"uint32",name:"age",value:"18"},{type:"string",name:"Hobby",value:"sing dance rap basketball"}],[v,y]=(0,f.useState)(!1);return(0,w.jsx)(o.Zp,{title:"signMessage",children:(0,w.jsxs)(o.$x,{direction:"vertical",style:{width:"100%"},children:[(0,w.jsxs)(s.A,{gutter:16,children:[(0,w.jsx)(c.A,{xs:24,lg:8,children:(0,w.jsx)(o.Zp,{direction:"vertical",title:"Eth Sign",children:(0,w.jsx)(o.$x,{direction:"vertical",style:{width:"100%"},children:(0,w.jsx)(o.$n,{loading:r,disabled:!e,block:!0,onClick:async()=>{try{i(!0);const t="0x879a053d4800c6354e76c7985a865d2922c82fb5b3f4577b2fe08b998954f2e0",r=await n.request({method:"eth_sign",params:[e,t]});k.log(r),(0,b.t)()}catch(t){k.log(t),(0,b.i)()}finally{i(!1)}},children:"eth_sign"})})})}),(0,w.jsx)(c.A,{xs:24,lg:8,children:(0,w.jsx)(o.Zp,{direction:"vertical",title:"Personal Sign",children:(0,w.jsxs)(o.$x,{direction:"vertical",style:{width:"100%"},children:[(0,w.jsx)(o.$n,{block:!0,disabled:!e,onClick:d(),loading:a,children:"personal_sign"}),(0,w.jsx)(o.$n,{block:!0,disabled:!e,onClick:d("0x010000000f1088000000000055f7428300000001fe0065d1d2ad2105ff003cff5c3c80db8b05601f46c35b79f5c6ff3ef6f703fc"),loading:a,children:"personal_sign_with_Garbled"}),(0,w.jsx)(o.$n,{block:!0,disabled:!e,onClick:d("\u6211\u53eb\u7f57\u5708\u5708"),loading:a,children:"personal_sign_with_Chinese_char"})]})})}),(0,w.jsx)(c.A,{xs:24,lg:8,children:(0,w.jsx)(o.Zp,{direction:"vertical",title:"Sign Typed Data",children:(0,w.jsx)(o.$x,{direction:"vertical",style:{width:"100%"},children:(0,w.jsx)(o.$n,{block:!0,disabled:!e,loading:u,onClick:async()=>{try{h(!0);const t=await n.request({method:"eth_signTypedData",params:[g,e]});k.log(t),(0,b.t)()}catch(t){k.log(t),(0,b.i)()}finally{h(!1)}},children:"eth_signTypedData_v1"})})})})]}),(0,w.jsxs)(s.A,{gutter:8,children:[(0,w.jsx)(c.A,{xs:24,lg:6,children:(0,w.jsx)(o.Zp,{direction:"vertical",title:"Sign Typed Data V3",children:(0,w.jsx)(o.$x,{direction:"vertical",style:{width:"100%"},children:(0,w.jsx)(o.$n,{block:!0,disabled:!e,onClick:async()=>{const r={types:{EIP712Domain:[{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],Person:[{name:"name",type:"string"},{name:"wallet",type:"address"}],Mail:[{name:"from",type:"Person"},{name:"to",type:"Person"},{name:"contents",type:"string"}]},primaryType:"Mail",domain:{name:"Ether Mail",version:"1",chainId:t,verifyingContract:"0xCcCCccccCCCCcCCCCCCcCcCccCcCCCcCcccccccC"},message:{from:{name:"Cow",test:"0xCD2a3d9F938E13CD947Ec05AbC7FE734Df8DD826"},to:{name:"Bob",wallet:"0xbBbBBBBbbBBBbbbBbbBbbbbBBbBbbbbBbBbbBBbB"},contents:"Hello, Bob!"}};try{y(!1);const t=await n.request({method:"eth_signTypedData_v3",params:[e,JSON.stringify(r)]});k.log(t),(0,b.t)()}catch(i){k.log(i),(0,b.i)()}finally{y(!1)}},loading:v,children:"eth_signTypedData_v3"})})})}),(0,w.jsx)(N,{account:e}),(0,w.jsx)(E,{chainId:t})]})]})})};function A(){const{chainId:e}=(0,f.useContext)(p);return(0,w.jsxs)(o.Zp,{title:"Network",children:["ChainId:",e]})}var P=n(35316);function D(e){let{loading:t,handleConnect:n,account:r,children:i,handleDisConnect:a=()=>P.Ay.error("not supported ~")}=e;return(0,w.jsx)(o.Zp,{title:"Connect status",children:(0,w.jsxs)(o.$x,{wrap:!0,children:[(0,w.jsx)(o.$n,{color:"primary",loading:t,disabled:!!r,onClick:n,children:"Connect Wallet"}),i,(0,w.jsx)(o.$n,{color:"danger",loading:t,disabled:!r,onClick:a,children:"Disconnect"})]})})}var I=n(54342);const K={4e3:"\u540c\u4e00\u4e2a DApp \u5df2\u7ecf\u53d1\u8d77\u4e86\u8fde\u63a5\u7f51\u7ad9\u8bf7\u6c42",4001:"\u7528\u6237\u62d2\u7edd\u8fde\u63a5"};function j(e){let{account:t,children:n}=e;return(0,w.jsx)(o.Zp,{title:"Current connected account",children:(0,w.jsxs)(o.$x,{direction:"vertical",children:[t||"--",n]})})}var M=n(14141),U=n(84478),L=n(97957);const W=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"currentTokenId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"numberOfTokens",type:"uint256"}],name:"mintNFTs",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"}],B=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"ids",type:"uint256[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mintBatch",outputs:[],stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"ids",type:"uint256[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeBatchTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"newuri",type:"string"}],name:"setURI",outputs:[],stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256[]",name:"ids",type:"uint256[]"},{indexed:!1,internalType:"uint256[]",name:"values",type:"uint256[]"}],name:"TransferBatch",type:"event"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"id",type:"uint256"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"TransferSingle",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"value",type:"string"},{indexed:!0,internalType:"uint256",name:"id",type:"uint256"}],name:"URI",type:"event"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"id",type:"uint256"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"accounts",type:"address[]"},{internalType:"uint256[]",name:"ids",type:"uint256[]"}],name:"balanceOfBatch",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenid",type:"uint256"}],name:"uri",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],X=[{chain:"Polygon",chainId:"0x89",address:"0xbfc5224DF96f01ad37D874E5a477aAFb92a5E970"}];const $=function(){const{account:e,provider:t,chainId:n}=(0,f.useContext)(p),r=y(n),i=C(n),[a,l]=(0,f.useState)({}),[d,u]=(0,f.useState)(!1),h=(0,f.useRef)();(0,f.useEffect)((()=>{(async()=>{const n=new URLSearchParams(window.location.search).get("nftAddress");if(e&&n){var r;null===(r=h.current)||void 0===r||r.scrollIntoView({behavior:"smooth"});const e=X.find((e=>{let{address:t}=e;return t===n}));e&&await t.request({method:"wallet_switchEthereumChain",params:[{chainId:e.chainId}]});const i=new M.NZ(n,W,new U.j(t,"any").getSigner());l(i)}})()}),[e,t]);const[b,m]=(0,f.useState)(!1),[x,O]=(0,f.useState)("1"),[_,E]=(0,f.useState)(!1),[S,R]=(0,f.useState)("3"),N=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g;return async()=>{try{E(!0);const n=await a.approve(t,S,{from:e});await n.wait(),P.Ay.success("\u6388\u6743\u6210\u529f")}catch(n){P.Ay.error("\u6388\u6743\u5931\u8d25")}finally{E(!1)}}},[k,T]=(0,f.useState)(!1),A=function(){let{spender:e=g,isApprove:t=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return async()=>{try{T(!0);const n=await a.setApprovalForAll(e,t);await n.wait(),P.Ay.success("\u6388\u6743\u6210\u529f")}catch(n){P.Ay.error("\u6388\u6743\u5931\u8d25")}finally{T(!1)}}},[D,I]=(0,f.useState)("3"),[K,j]=(0,f.useState)(!1),[B,$]=(0,f.useState)(!1),H=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;return async()=>{try{$(!0);const n=await a.transferFrom(e,t,D||"1",{from:e});await n.wait(),P.Ay.success("\u8f6c\u79fb\u6210\u529f")}catch(n){P.Ay.error("\u8f6c\u79fb\u5931\u8d25")}finally{$(!1)}}},q=a.address&&e;return(0,w.jsx)("div",{ref:h,children:(0,w.jsx)(o.Zp,{direction:"vertical",title:"ERC721",children:(0,w.jsxs)(o.$x,{direction:"vertical",style:{width:"100%"},children:[(0,w.jsx)(L.A,{type:"info",message:"\u5408\u96c6\u5730\u5740",description:a.address}),(0,w.jsx)(o.$n,{block:!0,loading:d,onClick:async()=>{try{u(!0);const e=new M.PM(W,"0x60806040523480156200001157600080fd5b506040518060400160405280600c81526020017f54657374446170704e46547300000000000000000000000000000000000000008152506040518060400160405280600381526020017f54444e000000000000000000000000000000000000000000000000000000000081525081600090816200008f919062000324565b508060019081620000a1919062000324565b5050506200040b565b600081519050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b600060028204905060018216806200012c57607f821691505b602082108103620001425762000141620000e4565b5b50919050565b60008190508160005260206000209050919050565b60006020601f8301049050919050565b600082821b905092915050565b600060088302620001ac7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff826200016d565b620001b886836200016d565b95508019841693508086168417925050509392505050565b6000819050919050565b6000819050919050565b600062000205620001ff620001f984620001d0565b620001da565b620001d0565b9050919050565b6000819050919050565b6200022183620001e4565b6200023962000230826200020c565b8484546200017a565b825550505050565b600090565b6200025062000241565b6200025d81848462000216565b505050565b5b8181101562000285576200027960008262000246565b60018101905062000263565b5050565b601f821115620002d4576200029e8162000148565b620002a9846200015d565b81016020851015620002b9578190505b620002d1620002c8856200015d565b83018262000262565b50505b505050565b600082821c905092915050565b6000620002f960001984600802620002d9565b1980831691505092915050565b6000620003148383620002e6565b9150826002028217905092915050565b6200032f82620000aa565b67ffffffffffffffff8111156200034b576200034a620000b5565b5b62000357825462000113565b6200036482828562000289565b600060209050601f8311600181146200039c576000841562000387578287015190505b62000393858262000306565b86555062000403565b601f198416620003ac8662000148565b60005b82811015620003d657848901518255600182019150602085019450602081019050620003af565b86831015620003f65784890151620003f2601f891682620002e6565b8355505b6001600288020188555050505b505050505050565b612be6806200041b6000396000f3fe608060405234801561001057600080fd5b50600436106100f45760003560e01c806342842e0e11610097578063a22cb46511610066578063a22cb46514610283578063b88d4fde1461029f578063c87b56dd146102bb578063e985e9c5146102eb576100f4565b806342842e0e146101e95780636352211e1461020557806370a082311461023557806395d89b4114610265576100f4565b8063081812fc116100d3578063081812fc14610165578063095ea7b31461019557806323b872dd146101b15780633b4b1381146101cd576100f4565b80629a9b7b146100f957806301ffc9a71461011757806306fdde0314610147575b600080fd5b61010161031b565b60405161010e91906119ac565b60405180910390f35b610131600480360381019061012c9190611a33565b61032c565b60405161013e9190611a7b565b60405180910390f35b61014f61040e565b60405161015c9190611b26565b60405180910390f35b61017f600480360381019061017a9190611b74565b6104a0565b60405161018c9190611be2565b60405180910390f35b6101af60048036038101906101aa9190611c29565b6104e6565b005b6101cb60048036038101906101c69190611c69565b6105fd565b005b6101e760048036038101906101e29190611b74565b61065d565b005b61020360048036038101906101fe9190611c69565b6106ac565b005b61021f600480360381019061021a9190611b74565b6106cc565b60405161022c9190611be2565b60405180910390f35b61024f600480360381019061024a9190611cbc565b610752565b60405161025c91906119ac565b60405180910390f35b61026d610809565b60405161027a9190611b26565b60405180910390f35b61029d60048036038101906102989190611d15565b61089b565b005b6102b960048036038101906102b49190611e8a565b6108b1565b005b6102d560048036038101906102d09190611b74565b610913565b6040516102e29190611b26565b60405180910390f35b61030560048036038101906103009190611f0d565b6109ac565b6040516103129190611a7b565b60405180910390f35b60006103276006610a40565b905090565b60007f80ac58cd000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff191614806103f757507f5b5e139f000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916145b80610407575061040682610a4e565b5b9050919050565b60606000805461041d90611f7c565b80601f016020809104026020016040519081016040528092919081815260200182805461044990611f7c565b80156104965780601f1061046b57610100808354040283529160200191610496565b820191906000526020600020905b81548152906001019060200180831161047957829003601f168201915b5050505050905090565b60006104ab82610ab8565b6004600083815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff169050919050565b60006104f1826106cc565b90508073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff1603610561576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016105589061201f565b60405180910390fd5b8073ffffffffffffffffffffffffffffffffffffffff16610580610b03565b73ffffffffffffffffffffffffffffffffffffffff1614806105af57506105ae816105a9610b03565b6109ac565b5b6105ee576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016105e5906120b1565b60405180910390fd5b6105f88383610b0b565b505050565b61060e610608610b03565b82610bc4565b61064d576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161064490612143565b60405180910390fd5b610658838383610c59565b505050565b6000600190505b8181116106a8576106756006610f52565b60006106816006610a40565b905061069461068e610b03565b82610f68565b5080806106a090612192565b915050610664565b5050565b6106c7838383604051806020016040528060008152506108b1565b505050565b6000806106d883610f86565b9050600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1603610749576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161074090612226565b60405180910390fd5b80915050919050565b60008073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff16036107c2576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016107b9906122b8565b60405180910390fd5b600360008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020549050919050565b60606001805461081890611f7c565b80601f016020809104026020016040519081016040528092919081815260200182805461084490611f7c565b80156108915780601f1061086657610100808354040283529160200191610891565b820191906000526020600020905b81548152906001019060200180831161087457829003601f168201915b5050505050905090565b6108ad6108a6610b03565b8383610fc3565b5050565b6108c26108bc610b03565b83610bc4565b610901576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016108f890612143565b60405180910390fd5b61090d8484848461112f565b50505050565b6060600060405180610160016040528061013c8152602001612a7561013c9139905060006109408461118b565b61094983611259565b6109528661118b565b604051602001610964939291906124b6565b6040516020818303038152906040529050600061098082611259565b604051602001610990919061255f565b6040516020818303038152906040529050809350505050919050565b6000600560008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff16905092915050565b600081600001549050919050565b60007f01ffc9a7000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916149050919050565b610ac1816113d1565b610b00576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610af790612226565b60405180910390fd5b50565b600033905090565b816004600083815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550808273ffffffffffffffffffffffffffffffffffffffff16610b7e836106cc565b73ffffffffffffffffffffffffffffffffffffffff167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b92560405160405180910390a45050565b600080610bd0836106cc565b90508073ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff161480610c125750610c1181856109ac565b5b80610c5057508373ffffffffffffffffffffffffffffffffffffffff16610c38846104a0565b73ffffffffffffffffffffffffffffffffffffffff16145b91505092915050565b8273ffffffffffffffffffffffffffffffffffffffff16610c79826106cc565b73ffffffffffffffffffffffffffffffffffffffff1614610ccf576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610cc6906125f3565b60405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1603610d3e576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610d3590612685565b60405180910390fd5b610d4b8383836001611412565b8273ffffffffffffffffffffffffffffffffffffffff16610d6b826106cc565b73ffffffffffffffffffffffffffffffffffffffff1614610dc1576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610db8906125f3565b60405180910390fd5b6004600082815260200190815260200160002060006101000a81549073ffffffffffffffffffffffffffffffffffffffff02191690556001600360008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082825403925050819055506001600360008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008282540192505081905550816002600083815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550808273ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef60405160405180910390a4610f4d8383836001611418565b505050565b6001816000016000828254019250508190555050565b610f8282826040518060200160405280600081525061141e565b5050565b60006002600083815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff169050919050565b8173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff1603611031576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611028906126f1565b60405180910390fd5b80600560008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083151502179055508173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff167f17307eab39ab6107e8899845ad3d59bd9653f200f220920489ca2b5937696c31836040516111229190611a7b565b60405180910390a3505050565b61113a848484610c59565b61114684848484611479565b611185576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161117c90612783565b60405180910390fd5b50505050565b60606000600161119a84611600565b01905060008167ffffffffffffffff8111156111b9576111b8611d5f565b5b6040519080825280601f01601f1916602001820160405280156111eb5781602001600182028036833780820191505090505b509050600082602001820190505b60011561124e578080600190039150507f3031323334353637383961626364656600000000000000000000000000000000600a86061a8153600a8581611242576112416127a3565b5b049450600085036111f9575b819350505050919050565b6060600082510361127b576040518060200160405280600081525090506113cc565b6000604051806060016040528060408152602001612a3560409139905060006003600285516112aa91906127d2565b6112b49190612806565b60046112c09190612837565b905060006020826112d191906127d2565b67ffffffffffffffff8111156112ea576112e9611d5f565b5b6040519080825280601f01601f19166020018201604052801561131c5781602001600182028036833780820191505090505b509050818152600183018586518101602084015b8183101561138b576003830192508251603f8160121c168501518253600182019150603f81600c1c168501518253600182019150603f8160061c168501518253600182019150603f8116850151825360018201915050611330565b6003895106600181146113a557600281146113b5576113c0565b613d3d60f01b60028303526113c0565b603d60f81b60018303525b50505050508093505050505b919050565b60008073ffffffffffffffffffffffffffffffffffffffff166113f383610f86565b73ffffffffffffffffffffffffffffffffffffffff1614159050919050565b50505050565b50505050565b6114288383611753565b6114356000848484611479565b611474576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161146b90612783565b60405180910390fd5b505050565b600061149a8473ffffffffffffffffffffffffffffffffffffffff16611970565b156115f3578373ffffffffffffffffffffffffffffffffffffffff1663150b7a026114c3610b03565b8786866040518563ffffffff1660e01b81526004016114e594939291906128ce565b6020604051808303816000875af192505050801561152157506040513d601f19601f8201168201806040525081019061151e919061292f565b60015b6115a3573d8060008114611551576040519150601f19603f3d011682016040523d82523d6000602084013e611556565b606091505b50600081510361159b576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161159290612783565b60405180910390fd5b805181602001fd5b63150b7a0260e01b7bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916817bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916149150506115f8565b600190505b949350505050565b600080600090507a184f03e93ff9f4daa797ed6e38ed64bf6a1f010000000000000000831061165e577a184f03e93ff9f4daa797ed6e38ed64bf6a1f0100000000000000008381611654576116536127a3565b5b0492506040810190505b6d04ee2d6d415b85acef8100000000831061169b576d04ee2d6d415b85acef81000000008381611691576116906127a3565b5b0492506020810190505b662386f26fc1000083106116ca57662386f26fc1000083816116c0576116bf6127a3565b5b0492506010810190505b6305f5e10083106116f3576305f5e10083816116e9576116e86127a3565b5b0492506008810190505b612710831061171857612710838161170e5761170d6127a3565b5b0492506004810190505b6064831061173b5760648381611731576117306127a3565b5b0492506002810190505b600a831061174a576001810190505b80915050919050565b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff16036117c2576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016117b9906129a8565b60405180910390fd5b6117cb816113d1565b1561180b576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161180290612a14565b60405180910390fd5b611819600083836001611412565b611822816113d1565b15611862576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161185990612a14565b60405180910390fd5b6001600360008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008282540192505081905550816002600083815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550808273ffffffffffffffffffffffffffffffffffffffff16600073ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef60405160405180910390a461196c600083836001611418565b5050565b6000808273ffffffffffffffffffffffffffffffffffffffff163b119050919050565b6000819050919050565b6119a681611993565b82525050565b60006020820190506119c1600083018461199d565b92915050565b6000604051905090565b600080fd5b600080fd5b60007fffffffff0000000000000000000000000000000000000000000000000000000082169050919050565b611a10816119db565b8114611a1b57600080fd5b50565b600081359050611a2d81611a07565b92915050565b600060208284031215611a4957611a486119d1565b5b6000611a5784828501611a1e565b91505092915050565b60008115159050919050565b611a7581611a60565b82525050565b6000602082019050611a906000830184611a6c565b92915050565b600081519050919050565b600082825260208201905092915050565b60005b83811015611ad0578082015181840152602081019050611ab5565b60008484015250505050565b6000601f19601f8301169050919050565b6000611af882611a96565b611b028185611aa1565b9350611b12818560208601611ab2565b611b1b81611adc565b840191505092915050565b60006020820190508181036000830152611b408184611aed565b905092915050565b611b5181611993565b8114611b5c57600080fd5b50565b600081359050611b6e81611b48565b92915050565b600060208284031215611b8a57611b896119d1565b5b6000611b9884828501611b5f565b91505092915050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000611bcc82611ba1565b9050919050565b611bdc81611bc1565b82525050565b6000602082019050611bf76000830184611bd3565b92915050565b611c0681611bc1565b8114611c1157600080fd5b50565b600081359050611c2381611bfd565b92915050565b60008060408385031215611c4057611c3f6119d1565b5b6000611c4e85828601611c14565b9250506020611c5f85828601611b5f565b9150509250929050565b600080600060608486031215611c8257611c816119d1565b5b6000611c9086828701611c14565b9350506020611ca186828701611c14565b9250506040611cb286828701611b5f565b9150509250925092565b600060208284031215611cd257611cd16119d1565b5b6000611ce084828501611c14565b91505092915050565b611cf281611a60565b8114611cfd57600080fd5b50565b600081359050611d0f81611ce9565b92915050565b60008060408385031215611d2c57611d2b6119d1565b5b6000611d3a85828601611c14565b9250506020611d4b85828601611d00565b9150509250929050565b600080fd5b600080fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b611d9782611adc565b810181811067ffffffffffffffff82111715611db657611db5611d5f565b5b80604052505050565b6000611dc96119c7565b9050611dd58282611d8e565b919050565b600067ffffffffffffffff821115611df557611df4611d5f565b5b611dfe82611adc565b9050602081019050919050565b82818337600083830152505050565b6000611e2d611e2884611dda565b611dbf565b905082815260208101848484011115611e4957611e48611d5a565b5b611e54848285611e0b565b509392505050565b600082601f830112611e7157611e70611d55565b5b8135611e81848260208601611e1a565b91505092915050565b60008060008060808587031215611ea457611ea36119d1565b5b6000611eb287828801611c14565b9450506020611ec387828801611c14565b9350506040611ed487828801611b5f565b925050606085013567ffffffffffffffff811115611ef557611ef46119d6565b5b611f0187828801611e5c565b91505092959194509250565b60008060408385031215611f2457611f236119d1565b5b6000611f3285828601611c14565b9250506020611f4385828601611c14565b9150509250929050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b60006002820490506001821680611f9457607f821691505b602082108103611fa757611fa6611f4d565b5b50919050565b7f4552433732313a20617070726f76616c20746f2063757272656e74206f776e6560008201527f7200000000000000000000000000000000000000000000000000000000000000602082015250565b6000612009602183611aa1565b915061201482611fad565b604082019050919050565b6000602082019050818103600083015261203881611ffc565b9050919050565b7f4552433732313a20617070726f76652063616c6c6572206973206e6f7420746f60008201527f6b656e206f776e6572206f7220617070726f76656420666f7220616c6c000000602082015250565b600061209b603d83611aa1565b91506120a68261203f565b604082019050919050565b600060208201905081810360008301526120ca8161208e565b9050919050565b7f4552433732313a2063616c6c6572206973206e6f7420746f6b656e206f776e6560008201527f72206f7220617070726f76656400000000000000000000000000000000000000602082015250565b600061212d602d83611aa1565b9150612138826120d1565b604082019050919050565b6000602082019050818103600083015261215c81612120565b9050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b600061219d82611993565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff82036121cf576121ce612163565b5b600182019050919050565b7f4552433732313a20696e76616c696420746f6b656e2049440000000000000000600082015250565b6000612210601883611aa1565b915061221b826121da565b602082019050919050565b6000602082019050818103600083015261223f81612203565b9050919050565b7f4552433732313a2061646472657373207a65726f206973206e6f74206120766160008201527f6c6964206f776e65720000000000000000000000000000000000000000000000602082015250565b60006122a2602983611aa1565b91506122ad82612246565b604082019050919050565b600060208201905081810360008301526122d181612295565b9050919050565b600081905092915050565b7f7b226e616d65223a2022546573742044617070204e4654732023000000000000600082015250565b6000612319601a836122d8565b9150612324826122e3565b601a82019050919050565b600061233a82611a96565b61234481856122d8565b9350612354818560208601611ab2565b80840191505092915050565b7f222c20226465736372697074696f6e223a2022546573742044617070204e465460008201527f7320666f722074657374696e672e222c2022696d616765223a2022646174613a60208201527f696d6167652f7376672b786d6c3b6261736536342c0000000000000000000000604082015250565b60006123e26055836122d8565b91506123ed82612360565b605582019050919050565b7f222c202261747472696275746573223a205b7b2274726169745f74797065223a60008201527f2022546f6b656e204964222c202276616c7565223a2022000000000000000000602082015250565b60006124546037836122d8565b915061245f826123f8565b603782019050919050565b7f227d5d7d00000000000000000000000000000000000000000000000000000000600082015250565b60006124a06004836122d8565b91506124ab8261246a565b600482019050919050565b60006124c18261230c565b91506124cd828661232f565b91506124d8826123d5565b91506124e4828561232f565b91506124ef82612447565b91506124fb828461232f565b915061250682612493565b9150819050949350505050565b7f646174613a6170706c69636174696f6e2f6a736f6e3b6261736536342c000000600082015250565b6000612549601d836122d8565b915061255482612513565b601d82019050919050565b600061256a8261253c565b9150612576828461232f565b915081905092915050565b7f4552433732313a207472616e736665722066726f6d20696e636f72726563742060008201527f6f776e6572000000000000000000000000000000000000000000000000000000602082015250565b60006125dd602583611aa1565b91506125e882612581565b604082019050919050565b6000602082019050818103600083015261260c816125d0565b9050919050565b7f4552433732313a207472616e7366657220746f20746865207a65726f2061646460008201527f7265737300000000000000000000000000000000000000000000000000000000602082015250565b600061266f602483611aa1565b915061267a82612613565b604082019050919050565b6000602082019050818103600083015261269e81612662565b9050919050565b7f4552433732313a20617070726f766520746f2063616c6c657200000000000000600082015250565b60006126db601983611aa1565b91506126e6826126a5565b602082019050919050565b6000602082019050818103600083015261270a816126ce565b9050919050565b7f4552433732313a207472616e7366657220746f206e6f6e20455243373231526560008201527f63656976657220696d706c656d656e7465720000000000000000000000000000602082015250565b600061276d603283611aa1565b915061277882612711565b604082019050919050565b6000602082019050818103600083015261279c81612760565b9050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601260045260246000fd5b60006127dd82611993565b91506127e883611993565b9250828201905080821115612800576127ff612163565b5b92915050565b600061281182611993565b915061281c83611993565b92508261282c5761282b6127a3565b5b828204905092915050565b600061284282611993565b915061284d83611993565b925082820261285b81611993565b9150828204841483151761287257612871612163565b5b5092915050565b600081519050919050565b600082825260208201905092915050565b60006128a082612879565b6128aa8185612884565b93506128ba818560208601611ab2565b6128c381611adc565b840191505092915050565b60006080820190506128e36000830187611bd3565b6128f06020830186611bd3565b6128fd604083018561199d565b818103606083015261290f8184612895565b905095945050505050565b60008151905061292981611a07565b92915050565b600060208284031215612945576129446119d1565b5b60006129538482850161291a565b91505092915050565b7f4552433732313a206d696e7420746f20746865207a65726f2061646472657373600082015250565b6000612992602083611aa1565b915061299d8261295c565b602082019050919050565b600060208201905081810360008301526129c181612985565b9050919050565b7f4552433732313a20746f6b656e20616c7265616479206d696e74656400000000600082015250565b60006129fe601c83611aa1565b9150612a09826129c8565b602082019050919050565b60006020820190508181036000830152612a2d816129f1565b905091905056fe4142434445464748494a4b4c4d4e4f505152535455565758595a6162636465666768696a6b6c6d6e6f707172737475767778797a303132333435363738392b2f3c737667206865696768743d22333530222077696474683d22333530222076696577426f783d2230203020313030203130302220786d6c6e733d22687474703a2f2f7777772e77332e6f72672f323030302f737667223e3c646566733e3c706174682069643d224d7950617468222066696c6c3d226e6f6e6522207374726f6b653d227265642220643d224d31302c3930205139302c39302039302c3435205139302c31302035302c3130205131302c31302031302c3430205131302c37302034352c3730205137302c37302037352c353022202f3e3c2f646566733e3c746578743e3c746578745061746820687265663d22234d7950617468223e517569636b2062726f776e20666f78206a756d7073206f76657220746865206c617a7920646f672e3c2f74657874506174683e3c2f746578743e3c2f7376673ea2646970667358221220922487cf7bfec55ad9cf0c646397333bb79204b1a8ef63134f78b23d697570ef64736f6c63430008120033",new U.j(t,"any").getSigner()),n=await e.deploy();await n.deployTransaction.wait(),l(n),P.Ay.success("\u521b\u5efa\u6210\u529f")}catch(e){P.Ay.error("\u521b\u5efa\u5931\u8d25")}finally{u(!1)}},disabled:a.address||!e,children:"Deploy"}),(0,w.jsx)(o.pd,{value:x,disabled:!q,placeholder:"\u8bf7\u8f93\u5165 mint \u6570\u91cf",onChange:O}),(0,w.jsx)(o.$n,{block:!0,loading:b,onClick:async()=>{try{m(!0);const t=await a.mintNFTs(x||"1",{from:e});await t.wait(),P.Ay.success("mint \u6210\u529f")}catch(t){P.Ay.error("mint \u5931\u8d25")}finally{m(!1)}},disabled:!q||!x,children:"Mint"}),(0,w.jsx)(o.pd,{placeholder:"\u8bf7\u8f93\u5165\u6388\u6743 nft id",value:S,onChange:R}),(0,w.jsx)(o.$n,{block:!0,loading:_,onClick:N(),disabled:!q||!S,children:"approve"}),!!r&&(0,w.jsx)(o.$n,{block:!0,color:"danger",loading:_,onClick:N(r),disabled:!q||!S,children:"approve Black Address"}),!!i&&(0,w.jsx)(o.$n,{block:!0,color:"danger",loading:_,onClick:N(i),disabled:!q||!S,children:"approve Strong Black Address"}),(0,w.jsx)(o.$n,{block:!0,color:"warning",loading:_,onClick:N(v),disabled:!q||!S,children:"approve to EOA"}),(0,w.jsx)(o.$n,{block:!0,loading:k,onClick:A(),disabled:!q,children:"setApprovalForAll"}),!!r&&(0,w.jsx)(o.$n,{block:!0,color:"danger",loading:k,onClick:A({spender:r}),disabled:!q,children:"setApprovalForAll Black Address"}),!!r&&(0,w.jsx)(o.$n,{block:!0,color:"danger",loading:k,onClick:A({spender:i}),disabled:!q,children:"setApprovalForAll Strong Black Address"}),(0,w.jsx)(o.$n,{block:!0,color:"warning",loading:k,onClick:A({spender:v}),disabled:!q,children:"setApprovalForAll to EOA"}),(0,w.jsx)(o.$n,{block:!0,onClick:A({isApprove:!1}),loading:k,disabled:!q,children:"revoke"}),(0,w.jsx)(o.pd,{value:D,placeholder:"\u8bf7\u8bbe\u7f6e\u8f6c\u79fb\u6570\u91cf",onChange:e=>{let{target:{value:t}}=e;I(t)}}),(0,w.jsx)(o.$n,{block:!0,onClick:async()=>{try{j(!0);const t=await a.transferFrom(e,g,D||"1",{from:e});await t.wait(),P.Ay.success("\u8f6c\u79fb\u6210\u529f")}catch(t){P.Ay.error("\u8f6c\u79fb\u5931\u8d25")}finally{j(!1)}},loading:K,disabled:!q,children:"\u8f6c\u79fb NFT"}),!!r&&(0,w.jsx)(o.$n,{block:!0,color:"danger",onClick:H(),loading:B,disabled:!q,children:"Transfer NFT to Black Address"}),!!i&&(0,w.jsx)(o.$n,{block:!0,color:"danger",onClick:H(i),loading:B,disabled:!q,children:"Transfer NFT to Strong Black Address"}),(0,w.jsx)(L.A,{type:"info",message:"\u6d4b\u8bd5 NFT",description:(0,w.jsx)(s.A,{gutter:12,children:X.map((e=>(0,w.jsx)(c.A,{children:(0,w.jsx)("a",{href:`/dapp-demo/?nftAddress=${e.address}`,children:e.chain})},e.address)))})})]})})})};var H=n(51954),q=n(19094);const F=[{chain:"Polygon",chainId:"0x89",address:"0x2bf22a1143f406C2DEb7ECEBfEd26755d1124683"}];const J=function(){const{account:e,provider:t,chainId:n}=(0,f.useContext)(p),r=y(n),i=C(n),[a,l]=(0,f.useState)({}),d=(0,f.useRef)(),[u,h]=(0,f.useState)(!1);(0,f.useEffect)((()=>{(async()=>{const n=new URLSearchParams(window.location.search).get("erc1155Address");if(e&&n){var r;null===(r=d.current)||void 0===r||r.scrollIntoView({behavior:"smooth"});const e=F.find((e=>{let{address:t}=e;return t===n}));e&&await t.request({method:"wallet_switchEthereumChain",params:[{chainId:e.chainId}]});const i=new M.NZ(n,B,new U.j(t,"any").getSigner());l(i)}})()}),[e,t]);const[b,m]=(0,f.useState)(!1),[x,O]=(0,f.useState)("1, 2, 3"),[_,E]=(0,f.useState)("1, 5, 7"),[S,R]=(0,f.useState)(!1),N=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v;return async()=>{try{R(!0),await a.safeBatchTransferFrom(e,t,x.split(",").map(Number),_.split(",").map(Number),"0x")}catch(n){P.Ay.error(n.message)}finally{R(!1)}}},[k,T]=(0,f.useState)(!1),A=function(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g;return async()=>{try{T(!0);const r=await a.setApprovalForAll(n,t,{from:e});await r.wait()}catch(r){P.Ay.error(r.message)}finally{T(!1)}}};return(0,w.jsx)("div",{ref:d,children:(0,w.jsx)(o.Zp,{direction:"vertical",title:"ERC1155",children:(0,w.jsxs)(o.$x,{direction:"vertical",style:{width:"100%"},children:[(0,w.jsx)(L.A,{type:"info",message:"\u5408\u96c6\u5730\u5740",description:a.address}),(0,w.jsx)(o.$n,{block:!0,loading:u,onClick:async()=>{try{h(!0);const e=new M.PM(B,"0x60806040523480156200001157600080fd5b5060405180608001604052806043815260200162003893604391396200003d816200006460201b60201c565b506200005e620000526200007960201b60201c565b6200008160201b60201c565b620004a8565b8060029081620000759190620003c1565b5050565b600033905090565b6000600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905081600360006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508173ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a35050565b600081519050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b60006002820490506001821680620001c957607f821691505b602082108103620001df57620001de62000181565b5b50919050565b60008190508160005260206000209050919050565b60006020601f8301049050919050565b600082821b905092915050565b600060088302620002497fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff826200020a565b6200025586836200020a565b95508019841693508086168417925050509392505050565b6000819050919050565b6000819050919050565b6000620002a26200029c62000296846200026d565b62000277565b6200026d565b9050919050565b6000819050919050565b620002be8362000281565b620002d6620002cd82620002a9565b84845462000217565b825550505050565b600090565b620002ed620002de565b620002fa818484620002b3565b505050565b5b81811015620003225762000316600082620002e3565b60018101905062000300565b5050565b601f82111562000371576200033b81620001e5565b6200034684620001fa565b8101602085101562000356578190505b6200036e6200036585620001fa565b830182620002ff565b50505b505050565b600082821c905092915050565b6000620003966000198460080262000376565b1980831691505092915050565b6000620003b1838362000383565b9150826002028217905092915050565b620003cc8262000147565b67ffffffffffffffff811115620003e857620003e762000152565b5b620003f48254620001b0565b6200040182828562000326565b600060209050601f83116001811462000439576000841562000424578287015190505b620004308582620003a3565b865550620004a0565b601f1984166200044986620001e5565b60005b8281101562000473578489015182556001820191506020850194506020810190506200044c565b868310156200049357848901516200048f601f89168262000383565b8355505b6001600288020188555050505b505050505050565b6133db80620004b86000396000f3fe608060405234801561001057600080fd5b50600436106100e95760003560e01c80634e1273f41161008c578063a22cb46511610066578063a22cb46514610248578063e985e9c514610264578063f242432a14610294578063f2fde38b146102b0576100e9565b80634e1273f4146101f0578063715018a6146102205780638da5cb5b1461022a576100e9565b806306fdde03116100c857806306fdde031461016a5780630e89341c146101885780631f7fdffa146101b85780632eb2c2d6146101d4576100e9565b8062fdd58e146100ee57806301ffc9a71461011e57806302fe53051461014e575b600080fd5b61010860048036038101906101039190611bb3565b6102cc565b6040516101159190611c02565b60405180910390f35b61013860048036038101906101339190611c75565b610394565b6040516101459190611cbd565b60405180910390f35b61016860048036038101906101639190611e1e565b610476565b005b61017261048a565b60405161017f9190611ee6565b60405180910390f35b6101a2600480360381019061019d9190611f08565b6104c3565b6040516101af9190611ee6565b60405180910390f35b6101d260048036038101906101cd919061209e565b6104fe565b005b6101ee60048036038101906101e99190612159565b610518565b005b61020a600480360381019061020591906122eb565b6105b9565b6040516102179190612421565b60405180910390f35b6102286106d2565b005b6102326106e6565b60405161023f9190612452565b60405180910390f35b610262600480360381019061025d9190612499565b610710565b005b61027e600480360381019061027991906124d9565b610726565b60405161028b9190611cbd565b60405180910390f35b6102ae60048036038101906102a99190612519565b6107ba565b005b6102ca60048036038101906102c591906125b0565b61085b565b005b60008073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff160361033c576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016103339061264f565b60405180910390fd5b60008083815260200190815260200160002060008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054905092915050565b60007fd9b67a26000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916148061045f57507f0e89341c000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916145b8061046f575061046e826108de565b5b9050919050565b61047e610948565b610487816109c6565b50565b6040518060400160405280600781526020017f455243313135350000000000000000000000000000000000000000000000000081525081565b60606104ce826109d9565b6104d783610a6d565b6040516020016104e89291906126f7565b6040516020818303038152906040529050919050565b610506610948565b61051284848484610b3b565b50505050565b610520610d67565b73ffffffffffffffffffffffffffffffffffffffff168573ffffffffffffffffffffffffffffffffffffffff161480610566575061056585610560610d67565b610726565b5b6105a5576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161059c90612798565b60405180910390fd5b6105b28585858585610d6f565b5050505050565b606081518351146105ff576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016105f69061282a565b60405180910390fd5b6000835167ffffffffffffffff81111561061c5761061b611cf3565b5b60405190808252806020026020018201604052801561064a5781602001602082028036833780820191505090505b50905060005b84518110156106c75761069785828151811061066f5761066e61284a565b5b602002602001015185838151811061068a5761068961284a565b5b60200260200101516102cc565b8282815181106106aa576106a961284a565b5b602002602001018181525050806106c0906128a8565b9050610650565b508091505092915050565b6106da610948565b6106e46000611090565b565b6000600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b61072261071b610d67565b8383611156565b5050565b6000600160008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff16905092915050565b6107c2610d67565b73ffffffffffffffffffffffffffffffffffffffff168573ffffffffffffffffffffffffffffffffffffffff161480610808575061080785610802610d67565b610726565b5b610847576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161083e90612798565b60405180910390fd5b61085485858585856112c2565b5050505050565b610863610948565b600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff16036108d2576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016108c990612962565b60405180910390fd5b6108db81611090565b50565b60007f01ffc9a7000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916149050919050565b610950610d67565b73ffffffffffffffffffffffffffffffffffffffff1661096e6106e6565b73ffffffffffffffffffffffffffffffffffffffff16146109c4576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016109bb906129ce565b60405180910390fd5b565b80600290816109d59190612bfa565b5050565b6060600280546109e890612a1d565b80601f0160208091040260200160405190810160405280929190818152602001828054610a1490612a1d565b8015610a615780601f10610a3657610100808354040283529160200191610a61565b820191906000526020600020905b815481529060010190602001808311610a4457829003601f168201915b50505050509050919050565b606060006001610a7c8461155d565b01905060008167ffffffffffffffff811115610a9b57610a9a611cf3565b5b6040519080825280601f01601f191660200182016040528015610acd5781602001600182028036833780820191505090505b509050600082602001820190505b600115610b30578080600190039150507f3031323334353637383961626364656600000000000000000000000000000000600a86061a8153600a8581610b2457610b23612ccc565b5b04945060008503610adb575b819350505050919050565b600073ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff1603610baa576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610ba190612d6d565b60405180910390fd5b8151835114610bee576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610be590612dff565b60405180910390fd5b6000610bf8610d67565b9050610c09816000878787876116b0565b60005b8451811015610cc257838181518110610c2857610c2761284a565b5b6020026020010151600080878481518110610c4657610c4561284a565b5b6020026020010151815260200190815260200160002060008873ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000828254610ca89190612e1f565b925050819055508080610cba906128a8565b915050610c0c565b508473ffffffffffffffffffffffffffffffffffffffff16600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff167f4a39dc06d4c0dbc64b70af90fd698a233a518aa5d07e595d983b8c0526c8f7fb8787604051610d3a929190612e53565b60405180910390a4610d51816000878787876116b8565b610d60816000878787876116c0565b5050505050565b600033905090565b8151835114610db3576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610daa90612dff565b60405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff1603610e22576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610e1990612efc565b60405180910390fd5b6000610e2c610d67565b9050610e3c8187878787876116b0565b60005b8451811015610fed576000858281518110610e5d57610e5c61284a565b5b602002602001015190506000858381518110610e7c57610e7b61284a565b5b60200260200101519050600080600084815260200190815260200160002060008b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054905081811015610f1d576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610f1490612f8e565b60405180910390fd5b81810360008085815260200190815260200160002060008c73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508160008085815260200190815260200160002060008b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000828254610fd29190612e1f565b9250508190555050505080610fe6906128a8565b9050610e3f565b508473ffffffffffffffffffffffffffffffffffffffff168673ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff167f4a39dc06d4c0dbc64b70af90fd698a233a518aa5d07e595d983b8c0526c8f7fb8787604051611064929190612e53565b60405180910390a461107a8187878787876116b8565b6110888187878787876116c0565b505050505050565b6000600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905081600360006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508173ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a35050565b8173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff16036111c4576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016111bb90613020565b60405180910390fd5b80600160008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083151502179055508173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff167f17307eab39ab6107e8899845ad3d59bd9653f200f220920489ca2b5937696c31836040516112b59190611cbd565b60405180910390a3505050565b600073ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff1603611331576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161132890612efc565b60405180910390fd5b600061133b610d67565b9050600061134885611897565b9050600061135585611897565b90506113658389898585896116b0565b600080600088815260200190815260200160002060008a73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020549050858110156113fc576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016113f390612f8e565b60405180910390fd5b85810360008089815260200190815260200160002060008b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508560008089815260200190815260200160002060008a73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008282546114b19190612e1f565b925050819055508773ffffffffffffffffffffffffffffffffffffffff168973ffffffffffffffffffffffffffffffffffffffff168573ffffffffffffffffffffffffffffffffffffffff167fc3d58168c5ae7397731d063d5bbf3d657854427343f4c083240f7aacaa2d0f628a8a60405161152e929190613040565b60405180910390a4611544848a8a86868a6116b8565b611552848a8a8a8a8a611911565b505050505050505050565b600080600090507a184f03e93ff9f4daa797ed6e38ed64bf6a1f01000000000000000083106115bb577a184f03e93ff9f4daa797ed6e38ed64bf6a1f01000000000000000083816115b1576115b0612ccc565b5b0492506040810190505b6d04ee2d6d415b85acef810000000083106115f8576d04ee2d6d415b85acef810000000083816115ee576115ed612ccc565b5b0492506020810190505b662386f26fc10000831061162757662386f26fc10000838161161d5761161c612ccc565b5b0492506010810190505b6305f5e1008310611650576305f5e100838161164657611645612ccc565b5b0492506008810190505b612710831061167557612710838161166b5761166a612ccc565b5b0492506004810190505b60648310611698576064838161168e5761168d612ccc565b5b0492506002810190505b600a83106116a7576001810190505b80915050919050565b505050505050565b505050505050565b6116df8473ffffffffffffffffffffffffffffffffffffffff16611ae8565b1561188f578373ffffffffffffffffffffffffffffffffffffffff1663bc197c8187878686866040518663ffffffff1660e01b81526004016117259594939291906130be565b6020604051808303816000875af192505050801561176157506040513d601f19601f8201168201806040525081019061175e919061313b565b60015b6118065761176d613175565b806308c379a0036117c95750611781613197565b8061178c57506117cb565b806040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016117c09190611ee6565b60405180910390fd5b505b6040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016117fd90613299565b60405180910390fd5b63bc197c8160e01b7bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916817bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19161461188d576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016118849061332b565b60405180910390fd5b505b505050505050565b60606000600167ffffffffffffffff8111156118b6576118b5611cf3565b5b6040519080825280602002602001820160405280156118e45781602001602082028036833780820191505090505b50905082816000815181106118fc576118fb61284a565b5b60200260200101818152505080915050919050565b6119308473ffffffffffffffffffffffffffffffffffffffff16611ae8565b15611ae0578373ffffffffffffffffffffffffffffffffffffffff1663f23a6e6187878686866040518663ffffffff1660e01b815260040161197695949392919061334b565b6020604051808303816000875af19250505080156119b257506040513d601f19601f820116820180604052508101906119af919061313b565b60015b611a57576119be613175565b806308c379a003611a1a57506119d2613197565b806119dd5750611a1c565b806040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611a119190611ee6565b60405180910390fd5b505b6040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611a4e90613299565b60405180910390fd5b63f23a6e6160e01b7bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916817bffffffffffffffffffffffffffffffffffffffffffffffffffffffff191614611ade576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611ad59061332b565b60405180910390fd5b505b505050505050565b6000808273ffffffffffffffffffffffffffffffffffffffff163b119050919050565b6000604051905090565b600080fd5b600080fd5b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000611b4a82611b1f565b9050919050565b611b5a81611b3f565b8114611b6557600080fd5b50565b600081359050611b7781611b51565b92915050565b6000819050919050565b611b9081611b7d565b8114611b9b57600080fd5b50565b600081359050611bad81611b87565b92915050565b60008060408385031215611bca57611bc9611b15565b5b6000611bd885828601611b68565b9250506020611be985828601611b9e565b9150509250929050565b611bfc81611b7d565b82525050565b6000602082019050611c176000830184611bf3565b92915050565b60007fffffffff0000000000000000000000000000000000000000000000000000000082169050919050565b611c5281611c1d565b8114611c5d57600080fd5b50565b600081359050611c6f81611c49565b92915050565b600060208284031215611c8b57611c8a611b15565b5b6000611c9984828501611c60565b91505092915050565b60008115159050919050565b611cb781611ca2565b82525050565b6000602082019050611cd26000830184611cae565b92915050565b600080fd5b600080fd5b6000601f19601f8301169050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b611d2b82611ce2565b810181811067ffffffffffffffff82111715611d4a57611d49611cf3565b5b80604052505050565b6000611d5d611b0b565b9050611d698282611d22565b919050565b600067ffffffffffffffff821115611d8957611d88611cf3565b5b611d9282611ce2565b9050602081019050919050565b82818337600083830152505050565b6000611dc1611dbc84611d6e565b611d53565b905082815260208101848484011115611ddd57611ddc611cdd565b5b611de8848285611d9f565b509392505050565b600082601f830112611e0557611e04611cd8565b5b8135611e15848260208601611dae565b91505092915050565b600060208284031215611e3457611e33611b15565b5b600082013567ffffffffffffffff811115611e5257611e51611b1a565b5b611e5e84828501611df0565b91505092915050565b600081519050919050565b600082825260208201905092915050565b60005b83811015611ea1578082015181840152602081019050611e86565b60008484015250505050565b6000611eb882611e67565b611ec28185611e72565b9350611ed2818560208601611e83565b611edb81611ce2565b840191505092915050565b60006020820190508181036000830152611f008184611ead565b905092915050565b600060208284031215611f1e57611f1d611b15565b5b6000611f2c84828501611b9e565b91505092915050565b600067ffffffffffffffff821115611f5057611f4f611cf3565b5b602082029050602081019050919050565b600080fd5b6000611f79611f7484611f35565b611d53565b90508083825260208201905060208402830185811115611f9c57611f9b611f61565b5b835b81811015611fc55780611fb18882611b9e565b845260208401935050602081019050611f9e565b5050509392505050565b600082601f830112611fe457611fe3611cd8565b5b8135611ff4848260208601611f66565b91505092915050565b600067ffffffffffffffff82111561201857612017611cf3565b5b61202182611ce2565b9050602081019050919050565b600061204161203c84611ffd565b611d53565b90508281526020810184848401111561205d5761205c611cdd565b5b612068848285611d9f565b509392505050565b600082601f83011261208557612084611cd8565b5b813561209584826020860161202e565b91505092915050565b600080600080608085870312156120b8576120b7611b15565b5b60006120c687828801611b68565b945050602085013567ffffffffffffffff8111156120e7576120e6611b1a565b5b6120f387828801611fcf565b935050604085013567ffffffffffffffff81111561211457612113611b1a565b5b61212087828801611fcf565b925050606085013567ffffffffffffffff81111561214157612140611b1a565b5b61214d87828801612070565b91505092959194509250565b600080600080600060a0868803121561217557612174611b15565b5b600061218388828901611b68565b955050602061219488828901611b68565b945050604086013567ffffffffffffffff8111156121b5576121b4611b1a565b5b6121c188828901611fcf565b935050606086013567ffffffffffffffff8111156121e2576121e1611b1a565b5b6121ee88828901611fcf565b925050608086013567ffffffffffffffff81111561220f5761220e611b1a565b5b61221b88828901612070565b9150509295509295909350565b600067ffffffffffffffff82111561224357612242611cf3565b5b602082029050602081019050919050565b600061226761226284612228565b611d53565b9050808382526020820190506020840283018581111561228a57612289611f61565b5b835b818110156122b3578061229f8882611b68565b84526020840193505060208101905061228c565b5050509392505050565b600082601f8301126122d2576122d1611cd8565b5b81356122e2848260208601612254565b91505092915050565b6000806040838503121561230257612301611b15565b5b600083013567ffffffffffffffff8111156123205761231f611b1a565b5b61232c858286016122bd565b925050602083013567ffffffffffffffff81111561234d5761234c611b1a565b5b61235985828601611fcf565b9150509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b61239881611b7d565b82525050565b60006123aa838361238f565b60208301905092915050565b6000602082019050919050565b60006123ce82612363565b6123d8818561236e565b93506123e38361237f565b8060005b838110156124145781516123fb888261239e565b9750612406836123b6565b9250506001810190506123e7565b5085935050505092915050565b6000602082019050818103600083015261243b81846123c3565b905092915050565b61244c81611b3f565b82525050565b60006020820190506124676000830184612443565b92915050565b61247681611ca2565b811461248157600080fd5b50565b6000813590506124938161246d565b92915050565b600080604083850312156124b0576124af611b15565b5b60006124be85828601611b68565b92505060206124cf85828601612484565b9150509250929050565b600080604083850312156124f0576124ef611b15565b5b60006124fe85828601611b68565b925050602061250f85828601611b68565b9150509250929050565b600080600080600060a0868803121561253557612534611b15565b5b600061254388828901611b68565b955050602061255488828901611b68565b945050604061256588828901611b9e565b935050606061257688828901611b9e565b925050608086013567ffffffffffffffff81111561259757612596611b1a565b5b6125a388828901612070565b9150509295509295909350565b6000602082840312156125c6576125c5611b15565b5b60006125d484828501611b68565b91505092915050565b7f455243313135353a2061646472657373207a65726f206973206e6f742061207660008201527f616c6964206f776e657200000000000000000000000000000000000000000000602082015250565b6000612639602a83611e72565b9150612644826125dd565b604082019050919050565b600060208201905081810360008301526126688161262c565b9050919050565b600081905092915050565b600061268582611e67565b61268f818561266f565b935061269f818560208601611e83565b80840191505092915050565b7f2e6a736f6e000000000000000000000000000000000000000000000000000000600082015250565b60006126e160058361266f565b91506126ec826126ab565b600582019050919050565b6000612703828561267a565b915061270f828461267a565b915061271a826126d4565b91508190509392505050565b7f455243313135353a2063616c6c6572206973206e6f7420746f6b656e206f776e60008201527f6572206f7220617070726f766564000000000000000000000000000000000000602082015250565b6000612782602e83611e72565b915061278d82612726565b604082019050919050565b600060208201905081810360008301526127b181612775565b9050919050565b7f455243313135353a206163636f756e747320616e6420696473206c656e67746860008201527f206d69736d617463680000000000000000000000000000000000000000000000602082015250565b6000612814602983611e72565b915061281f826127b8565b604082019050919050565b6000602082019050818103600083015261284381612807565b9050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b60006128b382611b7d565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff82036128e5576128e4612879565b5b600182019050919050565b7f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160008201527f6464726573730000000000000000000000000000000000000000000000000000602082015250565b600061294c602683611e72565b9150612957826128f0565b604082019050919050565b6000602082019050818103600083015261297b8161293f565b9050919050565b7f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e6572600082015250565b60006129b8602083611e72565b91506129c382612982565b602082019050919050565b600060208201905081810360008301526129e7816129ab565b9050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b60006002820490506001821680612a3557607f821691505b602082108103612a4857612a476129ee565b5b50919050565b60008190508160005260206000209050919050565b60006020601f8301049050919050565b600082821b905092915050565b600060088302612ab07fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff82612a73565b612aba8683612a73565b95508019841693508086168417925050509392505050565b6000819050919050565b6000612af7612af2612aed84611b7d565b612ad2565b611b7d565b9050919050565b6000819050919050565b612b1183612adc565b612b25612b1d82612afe565b848454612a80565b825550505050565b600090565b612b3a612b2d565b612b45818484612b08565b505050565b5b81811015612b6957612b5e600082612b32565b600181019050612b4b565b5050565b601f821115612bae57612b7f81612a4e565b612b8884612a63565b81016020851015612b97578190505b612bab612ba385612a63565b830182612b4a565b50505b505050565b600082821c905092915050565b6000612bd160001984600802612bb3565b1980831691505092915050565b6000612bea8383612bc0565b9150826002028217905092915050565b612c0382611e67565b67ffffffffffffffff811115612c1c57612c1b611cf3565b5b612c268254612a1d565b612c31828285612b6d565b600060209050601f831160018114612c645760008415612c52578287015190505b612c5c8582612bde565b865550612cc4565b601f198416612c7286612a4e565b60005b82811015612c9a57848901518255600182019150602085019450602081019050612c75565b86831015612cb75784890151612cb3601f891682612bc0565b8355505b6001600288020188555050505b505050505050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601260045260246000fd5b7f455243313135353a206d696e7420746f20746865207a65726f2061646472657360008201527f7300000000000000000000000000000000000000000000000000000000000000602082015250565b6000612d57602183611e72565b9150612d6282612cfb565b604082019050919050565b60006020820190508181036000830152612d8681612d4a565b9050919050565b7f455243313135353a2069647320616e6420616d6f756e7473206c656e6774682060008201527f6d69736d61746368000000000000000000000000000000000000000000000000602082015250565b6000612de9602883611e72565b9150612df482612d8d565b604082019050919050565b60006020820190508181036000830152612e1881612ddc565b9050919050565b6000612e2a82611b7d565b9150612e3583611b7d565b9250828201905080821115612e4d57612e4c612879565b5b92915050565b60006040820190508181036000830152612e6d81856123c3565b90508181036020830152612e8181846123c3565b90509392505050565b7f455243313135353a207472616e7366657220746f20746865207a65726f20616460008201527f6472657373000000000000000000000000000000000000000000000000000000602082015250565b6000612ee6602583611e72565b9150612ef182612e8a565b604082019050919050565b60006020820190508181036000830152612f1581612ed9565b9050919050565b7f455243313135353a20696e73756666696369656e742062616c616e636520666f60008201527f72207472616e7366657200000000000000000000000000000000000000000000602082015250565b6000612f78602a83611e72565b9150612f8382612f1c565b604082019050919050565b60006020820190508181036000830152612fa781612f6b565b9050919050565b7f455243313135353a2073657474696e6720617070726f76616c2073746174757360008201527f20666f722073656c660000000000000000000000000000000000000000000000602082015250565b600061300a602983611e72565b915061301582612fae565b604082019050919050565b6000602082019050818103600083015261303981612ffd565b9050919050565b60006040820190506130556000830185611bf3565b6130626020830184611bf3565b9392505050565b600081519050919050565b600082825260208201905092915050565b600061309082613069565b61309a8185613074565b93506130aa818560208601611e83565b6130b381611ce2565b840191505092915050565b600060a0820190506130d36000830188612443565b6130e06020830187612443565b81810360408301526130f281866123c3565b9050818103606083015261310681856123c3565b9050818103608083015261311a8184613085565b90509695505050505050565b60008151905061313581611c49565b92915050565b60006020828403121561315157613150611b15565b5b600061315f84828501613126565b91505092915050565b60008160e01c9050919050565b600060033d11156131945760046000803e613191600051613168565b90505b90565b600060443d10613224576131a9611b0b565b60043d036004823e80513d602482011167ffffffffffffffff821117156131d1575050613224565b808201805167ffffffffffffffff8111156131ef5750505050613224565b80602083010160043d03850181111561320c575050505050613224565b61321b82602001850186611d22565b82955050505050505b90565b7f455243313135353a207472616e7366657220746f206e6f6e2d4552433131353560008201527f526563656976657220696d706c656d656e746572000000000000000000000000602082015250565b6000613283603483611e72565b915061328e82613227565b604082019050919050565b600060208201905081810360008301526132b281613276565b9050919050565b7f455243313135353a204552433131353552656365697665722072656a6563746560008201527f6420746f6b656e73000000000000000000000000000000000000000000000000602082015250565b6000613315602883611e72565b9150613320826132b9565b604082019050919050565b6000602082019050818103600083015261334481613308565b9050919050565b600060a0820190506133606000830188612443565b61336d6020830187612443565b61337a6040830186611bf3565b6133876060830185611bf3565b81810360808301526133998184613085565b9050969550505050505056fea2646970667358221220de231ea0ba52331673a6ab1f561443459e5e047d956a2026f062e8977c23fe6d64736f6c63430008110033697066733a2f2f626166796265696478666d777963677a6370347632746f67666c70716832676e69627565786a79346d347171777870376e68336a78357a6c6834792f",new U.j(t,"any").getSigner()),n=await e.deploy();await n.deployTransaction.wait(),l(n),P.Ay.success("\u521b\u5efa\u6210\u529f")}catch(e){P.Ay.error("\u521b\u5efa\u5931\u8d25")}finally{h(!1)}},disabled:a.address||!e,children:"Deploy"}),(0,w.jsxs)("div",{children:[(0,w.jsx)(H.A.Title,{level:5,children:"Token IDs"}),(0,w.jsx)(q.A,{value:x,onChange:e=>O(e.target.value)})]}),(0,w.jsxs)("div",{children:[(0,w.jsx)(H.A.Title,{level:5,children:"Token Amounts"}),(0,w.jsx)(q.A,{value:_,onChange:e=>E(e.target.value)})]}),(0,w.jsx)(o.$n,{block:!0,loading:b,onClick:async()=>{try{m(!0);const t=[e,x.split(",").map(Number),_.split(",").map(Number),"0x"];await a.mintBatch(...t),P.Ay.success("mint \u6210\u529f")}catch(t){P.Ay.error("mint \u5931\u8d25")}finally{m(!1)}},disabled:!a.address||!e,children:"Mint"}),(0,w.jsx)(o.$n,{block:!0,loading:S,onClick:N(),disabled:!a.address,children:"Transfer"}),!!r&&(0,w.jsx)(o.$n,{block:!0,color:"danger",loading:S,onClick:N(r),disabled:!a.address,children:"Transfer Black Address"}),!!i&&(0,w.jsx)(o.$n,{block:!0,color:"danger",loading:S,onClick:N(i),disabled:!a.address,children:"Transfer Strong Black Address"}),(0,w.jsx)(o.$n,{block:!0,loading:k,onClick:A(),disabled:!a.address,children:"setApprovalForAll"}),!!r&&(0,w.jsx)(o.$n,{block:!0,color:"danger",loading:k,onClick:A(!0,r),disabled:!a.address,children:"setApprovalForAll Black Address"}),!!i&&(0,w.jsx)(o.$n,{block:!0,color:"danger",loading:k,onClick:A(!0,i),disabled:!a.address,children:"setApprovalForAll Strong Black Address"}),(0,w.jsx)(o.$n,{block:!0,loading:k,onClick:A(!0,v),disabled:!a.address,children:"setApprovalForAll to EOA"}),(0,w.jsx)(o.$n,{block:!0,loading:k,onClick:A(!1),disabled:!a.address,children:"revoke"}),(0,w.jsx)(L.A,{type:"info",message:"\u6d4b\u8bd5 NFT",description:(0,w.jsx)(s.A,{gutter:12,children:F.map((e=>(0,w.jsx)(c.A,{children:(0,w.jsx)("a",{href:`/dapp-demo/?erc1155Address=${e.address}`,children:e.chain})},e.address)))})})]})})})};const V=function(){return(0,w.jsx)(c.A,{xs:24,lg:12,children:(0,w.jsx)(o.$x,{direction:"vertical",style:{width:"100%"},children:(0,w.jsx)(o.Zp,{direction:"vertical",title:"NFT",children:(0,w.jsxs)(s.A,{gutter:12,children:[(0,w.jsx)(c.A,{xs:24,lg:12,children:(0,w.jsx)($,{})}),(0,w.jsx)(c.A,{xs:24,lg:12,children:(0,w.jsx)(J,{})})]})})})})};const z=function(){const{account:e,provider:t}=(0,f.useContext)(p),[n,r]=(0,f.useState)(!1),i=function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return async()=>{try{r(!0),await t.request({method:"eth_sendTransaction",params:[{from:e,to:v,value:`0x${(10**9).toString(16)}`,...n}]})}catch(i){P.Ay.error(i.message)}finally{r(!1)}}},a=`0x${21e3.toString(16)}`,s=`0x${(300*10**9).toString(16)}`,l=`0x${(400*10**9).toString(16)}`,d=`0x${(40*10**9).toString(16)}`;return(0,w.jsx)(c.A,{xs:24,lg:12,children:(0,w.jsx)(o.Zp,{direction:"vertical",title:"Gas Checker - dapp \u5404\u79cd\u4f20\u53c2",children:(0,w.jsxs)(o.$x,{direction:"vertical",style:{width:"100%"},children:[(0,w.jsx)(o.$n,{loading:n,block:!0,onClick:i({gas:a,gasPrice:s,maxFeePerGas:l,maxPriorityFeePerGas:d}),children:"all"}),(0,w.jsx)(o.$n,{loading:n,block:!0,onClick:i({gas:a,gasPrice:s}),children:"Legacy"}),(0,w.jsx)(o.$n,{loading:n,block:!0,onClick:i({gas:a,maxFeePerGas:l,maxPriorityFeePerGas:d}),children:"1559"}),(0,w.jsx)(o.$n,{loading:n,block:!0,onClick:i({gas:a,gasPrice:s,maxFeePerGas:l}),children:"gasPrice & maxFeePerGas"}),(0,w.jsx)(o.$n,{loading:n,block:!0,onClick:i({gas:a,gasPrice:s,maxPriorityFeePerGas:d}),children:"gasPrice & maxPriorityFeePerGas"}),(0,w.jsx)(o.$n,{loading:n,block:!0,onClick:i({gas:a,maxFeePerGas:l}),children:"maxFeePerGas"}),(0,w.jsx)(o.$n,{loading:n,block:!0,onClick:i({gas:a,maxPriorityFeePerGas:d}),children:"maxPriorityFeePerGas"}),(0,w.jsx)(o.$n,{loading:n,block:!0,onClick:i({gas:`0x${10..toString(16)}`,gasPrice:s,maxFeePerGas:l,maxPriorityFeePerGas:d}),children:"Low gas Limit"})]})})})};const G=function(){const{account:e,chainId:t,provider:n}=(0,f.useContext)(p),r=y(t),i=C(t),[a,s]=(0,f.useState)(!1),[l,d]=(0,f.useState)(!1),u=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;return async()=>{try{d(!0);const r={from:e,to:t,value:`0x${(10**9).toString(16)}`};await n.request({method:"eth_sendTransaction",params:[r]})}catch(r){P.Ay.error(r.message)}finally{d(!1)}}},[h,b]=(0,f.useState)(!1),[g,m]=(0,f.useState)(!1),[x,O]=(0,f.useState)(!1),[_,E]=(0,f.useState)(!1),[S,R]=(0,f.useState)(!1),[N,k]=(0,f.useState)(!1);return(0,w.jsx)(c.A,{xs:24,lg:12,children:(0,w.jsx)(o.Zp,{direction:"vertical",title:"BatchTransfer",children:(0,w.jsxs)(o.$x,{direction:"vertical",style:{width:"100%"},children:[(0,w.jsx)(o.$n,{block:!0,loading:a,onClick:async()=>{try{s(!0),await n.request({method:"eth_sendTransaction",params:[{from:e,to:v,value:`0x${(10**10).toString(16)}`}]})}catch(t){P.Ay.error(t.message)}finally{s(!1)}},disabled:!e,children:"transfer baseCoin"}),!!r&&(0,w.jsx)(o.$n,{block:!0,color:"danger",loading:l,onClick:u(),disabled:!e,children:"transfer baseCoin to GrayAddress"}),!!i&&(0,w.jsx)(o.$n,{block:!0,color:"danger",loading:l,onClick:u(i),disabled:!e,children:"transfer baseCoin to Strong Black Address"}),(0,w.jsx)(o.$n,{block:!0,loading:h,onClick:async()=>{try{b(!0),await n.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x89"}]}),await n.request({method:"eth_sendTransaction",params:[{from:e,to:"0xd152f549545093347a162dce210e7293f1452150",value:"0x6f05b59d3b20000",data:"0xe63d38ed000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000c00000000000000000000000000000000000000000000000000000000000000003000000000000000000000000fe8dc6394501a35ad1c4833f40f382e55dada4f3000000000000000000000000e5a85089a3da45b5460a59b1d4cf181e01fe7681000000000000000000000000f27b3ba38ea4077423f8edaae0e2c9fedb8fda6d0000000000000000000000000000000000000000000000000000000000000003000000000000000000000000000000000000000000000000016345785d8a000000000000000000000000000000000000000000000000000002c68af0bb14000000000000000000000000000000000000000000000000000002c68af0bb140000"}]})}catch(t){P.Ay.error(t.message)}finally{b(!1)}},disabled:!e,children:"batchTransfer baseCoin"}),(0,w.jsx)(o.$n,{block:!0,onClick:async()=>{try{b(!0),await n.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x89"}]}),await n.request({method:"eth_sendTransaction",params:[{from:e,to:"0xd152f549545093347a162dce210e7293f1452150",value:"0x6f05b59d3b20000",data:"0xe6d3d38ed000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000c00000000000000000000000000000000000000000000000000000000000000003000000000000000000000000fe8dc6394501a35ad1c4833f40f382e55dada4f3000000000000000000000000e5a85089a3da45b5460a59b1d4cf181e01fe7681000000000000000000000000f27b3ba38ea4077423f8edaae0e2c9fedb8fda6d0000000000000000000000000000000000000000000000000000000000000003000000000000000000000000000000000000000000000000016345785d8a000000000000000000000000000000000000000000000000000002c68af0bb14000000000000000000000000000000000000000000000000000002c68af0bb1400001121"}]})}catch(t){P.Ay.error(t.message)}finally{b(!1)}},disabled:!e,children:"transferBaseTokenWithError"})]})})})},Z=[{inputs:[{internalType:"uint256",name:"initialAmount",type:"uint256"},{internalType:"string",name:"tokenName",type:"string"},{internalType:"uint8",name:"decimalUnits",type:"uint8"},{internalType:"string",name:"tokenSymbol",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}];var Y=n(54342);const Q="anchorUsedTokens",ee="CIRCLE_LUO",te=[{chain:"Polygon",symbol:ee,chainId:137,address:"0x6615a6c72b04f8Ec45cd2a3576e403c111623111"},{chain:"Polygon",symbol:"USDT",chainId:137,address:"0xc2132d05d31c914a87c6611c10748aeb04b58e8f"},{chain:"Polygon",symbol:"QUANQU...QUAN",chainId:137,address:"0x6Ed7E67F6ee4833Fd4b461c0ce5F1949c133d4ed"},{chain:"Holesky Test Network",symbol:ee,chainId:17e3,address:"0x76bC79EB3bf2156a148793E8363D81c663B18957"}];const ne=function(){const e=(0,f.useRef)(),t=`${window.location.origin}/dapp-demo/favicon.png`,{account:n,provider:r,chainId:i}=(0,f.useContext)(p),a=y(i),l=C(i),[d,u]=(0,f.useState)(4),[m,x]=(0,f.useState)(),[O,_]=(0,f.useState)({}),[E,S]=(0,f.useState)(!1);(0,f.useEffect)((()=>{(async()=>{const t=new URLSearchParams(window.location.search).get("tokenAddress");if(n&&t){var i;S(!1),x(void 0),_({}),u(4),null===(i=e.current)||void 0===i||i.scrollIntoView({behavior:"smooth"});const o=te.find((e=>{let{address:n}=e;return n===t}));o&&await r.request({method:"wallet_switchEthereumChain",params:[{chainId:`0x${o.chainId.toString(16)}`}]});const a=new M.NZ(t,Z,new U.j(r,"any").getSigner()),f=await a.symbol();x(f);const s=await a.decimals();(await a.balanceOf(n)).eq(0)?S(!0):S(!1),u(s),_(a)}})()}),[n,r]);const[R,N]=(0,f.useState)(!1),[k,T]=(0,f.useState)(!1),[A,P]=(0,f.useState)(!1),D=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:v;return async()=>{try{t&&P(!0),await O.transfer(r,`${10**d}`,{from:n,gasLimit:void 0,gas:void 0,...e})}catch(i){Y.log(i),(0,b.i)()}finally{P(!1)}}},[I,K]=(0,f.useState)(!1),j=e=>{let{gasInfo:t,needLoading:r=!0,amount:i="12222222222123234324324234234324232342",spender:o=g}=e;return async()=>{try{r&&K(!0),await O.approve(o,i,{from:n,...t})}catch(e){Y.log(e),(0,b.i)()}finally{K(!1)}}},[W,B]=(0,f.useState)(!1),X=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g;return async()=>{try{B(!0),await O.increaseAllowance(e,""+100*10**d,{from:n})}catch(t){Y.log(t),(0,b.i)()}finally{B(!1)}}},[$,H]=(0,f.useState)(!1);return(0,w.jsx)(c.A,{xs:24,lg:12,ref:e,children:(0,w.jsx)(o.Zp,{direction:"vertical",title:m||"--",extra:!O.address&&(0,w.jsx)("strong",{children:(0,w.jsx)("a",{href:`#${Q}`,children:"Common token"})}),children:(0,w.jsxs)(o.$x,{direction:"vertical",style:{width:"100%"},children:[(0,w.jsx)(L.A,{type:"info",message:"Contract address",description:O.address||""}),(0,w.jsx)(o.$n,{block:!0,loading:R,onClick:async()=>{try{N(!0);const e=new M.PM(Z,"0x6101406040523480156200001257600080fd5b506040516200323e3803806200323e83398181016040528101906200003891906200065b565b82806040518060400160405280600181526020017f310000000000000000000000000000000000000000000000000000000000000081525085848682600390816200008491906200094c565b5081600490816200009691906200094c565b5080600560006101000a81548160ff021916908360ff160217905550505050620000d5620000c9620001ce60201b60201c565b620001d660201b60201c565b60008280519060200120905060008280519060200120905060007f8b73c3c69bb8fe3d512ecc4cf759cc79239f7b179b0ffacaa9a75d522b39400f90508260e081815250508161010081815250504660a081815250506200013e8184846200029c60201b60201c565b608081815250503073ffffffffffffffffffffffffffffffffffffffff1660c08173ffffffffffffffffffffffffffffffffffffffff1681525050806101208181525050505050505050620001c433600560009054906101000a900460ff16600a620001ab919062000bb6565b86620001b8919062000c07565b620002d860201b60201c565b5050505062000dfb565b600033905090565b6000600560019054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905081600560016101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508173ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a35050565b60008383834630604051602001620002b995949392919062000cc3565b6040516020818303038152906040528051906020012090509392505050565b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff16036200034a576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401620003419062000d81565b60405180910390fd5b6200035e600083836200044560201b60201c565b806002600082825462000372919062000da3565b92505081905550806000808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082825401925050819055508173ffffffffffffffffffffffffffffffffffffffff16600073ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef8360405162000425919062000dde565b60405180910390a362000441600083836200044a60201b60201c565b5050565b505050565b505050565b6000604051905090565b600080fd5b600080fd5b6000819050919050565b620004788162000463565b81146200048457600080fd5b50565b60008151905062000498816200046d565b92915050565b600080fd5b600080fd5b6000601f19601f8301169050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b620004f382620004a8565b810181811067ffffffffffffffff82111715620005155762000514620004b9565b5b80604052505050565b60006200052a6200044f565b9050620005388282620004e8565b919050565b600067ffffffffffffffff8211156200055b576200055a620004b9565b5b6200056682620004a8565b9050602081019050919050565b60005b838110156200059357808201518184015260208101905062000576565b60008484015250505050565b6000620005b6620005b0846200053d565b6200051e565b905082815260208101848484011115620005d557620005d4620004a3565b5b620005e284828562000573565b509392505050565b600082601f8301126200060257620006016200049e565b5b8151620006148482602086016200059f565b91505092915050565b600060ff82169050919050565b62000635816200061d565b81146200064157600080fd5b50565b60008151905062000655816200062a565b92915050565b6000806000806080858703121562000678576200067762000459565b5b6000620006888782880162000487565b945050602085015167ffffffffffffffff811115620006ac57620006ab6200045e565b5b620006ba87828801620005ea565b9350506040620006cd8782880162000644565b925050606085015167ffffffffffffffff811115620006f157620006f06200045e565b5b620006ff87828801620005ea565b91505092959194509250565b600081519050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b600060028204905060018216806200075e57607f821691505b60208210810362000774576200077362000716565b5b50919050565b60008190508160005260206000209050919050565b60006020601f8301049050919050565b600082821b905092915050565b600060088302620007de7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff826200079f565b620007ea86836200079f565b95508019841693508086168417925050509392505050565b6000819050919050565b60006200082d62000827620008218462000463565b62000802565b62000463565b9050919050565b6000819050919050565b62000849836200080c565b62000861620008588262000834565b848454620007ac565b825550505050565b600090565b6200087862000869565b620008858184846200083e565b505050565b5b81811015620008ad57620008a16000826200086e565b6001810190506200088b565b5050565b601f821115620008fc57620008c6816200077a565b620008d1846200078f565b81016020851015620008e1578190505b620008f9620008f0856200078f565b8301826200088a565b50505b505050565b600082821c905092915050565b6000620009216000198460080262000901565b1980831691505092915050565b60006200093c83836200090e565b9150826002028217905092915050565b62000957826200070b565b67ffffffffffffffff811115620009735762000972620004b9565b5b6200097f825462000745565b6200098c828285620008b1565b600060209050601f831160018114620009c45760008415620009af578287015190505b620009bb85826200092e565b86555062000a2b565b601f198416620009d4866200077a565b60005b82811015620009fe57848901518255600182019150602085019450602081019050620009d7565b8683101562000a1e578489015162000a1a601f8916826200090e565b8355505b6001600288020188555050505b505050505050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b60008160011c9050919050565b6000808291508390505b600185111562000ac15780860481111562000a995762000a9862000a33565b5b600185161562000aa95780820291505b808102905062000ab98562000a62565b945062000a79565b94509492505050565b60008262000adc576001905062000baf565b8162000aec576000905062000baf565b816001811462000b05576002811462000b105762000b46565b600191505062000baf565b60ff84111562000b255762000b2462000a33565b5b8360020a91508482111562000b3f5762000b3e62000a33565b5b5062000baf565b5060208310610133831016604e8410600b841016171562000b805782820a90508381111562000b7a5762000b7962000a33565b5b62000baf565b62000b8f848484600162000a6f565b9250905081840481111562000ba95762000ba862000a33565b5b81810290505b9392505050565b600062000bc38262000463565b915062000bd0836200061d565b925062000bff7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff848462000aca565b905092915050565b600062000c148262000463565b915062000c218362000463565b925082820262000c318162000463565b9150828204841483151762000c4b5762000c4a62000a33565b5b5092915050565b6000819050919050565b62000c678162000c52565b82525050565b62000c788162000463565b82525050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600062000cab8262000c7e565b9050919050565b62000cbd8162000c9e565b82525050565b600060a08201905062000cda600083018862000c5c565b62000ce9602083018762000c5c565b62000cf8604083018662000c5c565b62000d07606083018562000c6d565b62000d16608083018462000cb2565b9695505050505050565b600082825260208201905092915050565b7f45524332303a206d696e7420746f20746865207a65726f206164647265737300600082015250565b600062000d69601f8362000d20565b915062000d768262000d31565b602082019050919050565b6000602082019050818103600083015262000d9c8162000d5a565b9050919050565b600062000db08262000463565b915062000dbd8362000463565b925082820190508082111562000dd85762000dd762000a33565b5b92915050565b600060208201905062000df5600083018462000c6d565b92915050565b60805160a05160c05160e05161010051610120516123f362000e4b6000396000610ed901526000610f1b01526000610efa01526000610e2f01526000610e8501526000610eae01526123f36000f3fe608060405234801561001057600080fd5b50600436106101165760003560e01c8063715018a6116100a2578063a457c2d711610071578063a457c2d7146102e5578063a9059cbb14610315578063d505accf14610345578063dd62ed3e14610361578063f2fde38b1461039157610116565b8063715018a61461026f5780637ecebe00146102795780638da5cb5b146102a957806395d89b41146102c757610116565b8063313ce567116100e9578063313ce567146101b75780633644e515146101d557806339509351146101f357806340c10f191461022357806370a082311461023f57610116565b806306fdde031461011b578063095ea7b31461013957806318160ddd1461016957806323b872dd14610187575b600080fd5b6101236103ad565b60405161013091906115f5565b60405180910390f35b610153600480360381019061014e91906116b0565b61043f565b604051610160919061170b565b60405180910390f35b610171610462565b60405161017e9190611735565b60405180910390f35b6101a1600480360381019061019c9190611750565b61046c565b6040516101ae919061170b565b60405180910390f35b6101bf61049b565b6040516101cc91906117bf565b60405180910390f35b6101dd6104ae565b6040516101ea91906117f3565b60405180910390f35b61020d600480360381019061020891906116b0565b6104bd565b60405161021a919061170b565b60405180910390f35b61023d600480360381019061023891906116b0565b6104f4565b005b6102596004803603810190610254919061180e565b61050a565b6040516102669190611735565b60405180910390f35b610277610552565b005b610293600480360381019061028e919061180e565b610566565b6040516102a09190611735565b60405180910390f35b6102b16105b6565b6040516102be919061184a565b60405180910390f35b6102cf6105e0565b6040516102dc91906115f5565b60405180910390f35b6102ff60048036038101906102fa91906116b0565b610672565b60405161030c919061170b565b60405180910390f35b61032f600480360381019061032a91906116b0565b6106e9565b60405161033c919061170b565b60405180910390f35b61035f600480360381019061035a91906118bd565b61070c565b005b61037b6004803603810190610376919061195f565b61084e565b6040516103889190611735565b60405180910390f35b6103ab60048036038101906103a6919061180e565b6108d5565b005b6060600380546103bc906119ce565b80601f01602080910402602001604051908101604052809291908181526020018280546103e8906119ce565b80156104355780601f1061040a57610100808354040283529160200191610435565b820191906000526020600020905b81548152906001019060200180831161041857829003601f168201915b5050505050905090565b60008061044a610958565b9050610457818585610960565b600191505092915050565b6000600254905090565b600080610477610958565b9050610484858285610b29565b61048f858585610bb5565b60019150509392505050565b600560009054906101000a900460ff1681565b60006104b8610e2b565b905090565b6000806104c8610958565b90506104e98185856104da858961084e565b6104e49190611a2e565b610960565b600191505092915050565b6104fc610f45565b6105068282610fc3565b5050565b60008060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020549050919050565b61055a610f45565b6105646000611119565b565b60006105af600660008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206111df565b9050919050565b6000600560019054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b6060600480546105ef906119ce565b80601f016020809104026020016040519081016040528092919081815260200182805461061b906119ce565b80156106685780601f1061063d57610100808354040283529160200191610668565b820191906000526020600020905b81548152906001019060200180831161064b57829003601f168201915b5050505050905090565b60008061067d610958565b9050600061068b828661084e565b9050838110156106d0576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016106c790611ad4565b60405180910390fd5b6106dd8286868403610960565b60019250505092915050565b6000806106f4610958565b9050610701818585610bb5565b600191505092915050565b8342111561074f576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161074690611b40565b60405180910390fd5b60007f6e71edae12b1b97f4d1f60370fef10105fa2faae0126114a169c64845d6126c988888861077e8c6111ed565b8960405160200161079496959493929190611b60565b60405160208183030381529060405280519060200120905060006107b78261124b565b905060006107c782878787611265565b90508973ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1614610837576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161082e90611c0d565b60405180910390fd5b6108428a8a8a610960565b50505050505050505050565b6000600160008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054905092915050565b6108dd610f45565b600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff160361094c576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161094390611c9f565b60405180910390fd5b61095581611119565b50565b600033905090565b600073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff16036109cf576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016109c690611d31565b60405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1603610a3e576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610a3590611dc3565b60405180910390fd5b80600160008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b92583604051610b1c9190611735565b60405180910390a3505050565b6000610b35848461084e565b90507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8114610baf5781811015610ba1576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b9890611e2f565b60405180910390fd5b610bae8484848403610960565b5b50505050565b600073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff1603610c24576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610c1b90611ec1565b60405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1603610c93576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610c8a90611f53565b60405180910390fd5b610c9e838383611290565b60008060008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054905081811015610d24576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610d1b90611fe5565b60405180910390fd5b8181036000808673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002081905550816000808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082825401925050819055508273ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef84604051610e129190611735565b60405180910390a3610e25848484611295565b50505050565b60007f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff163073ffffffffffffffffffffffffffffffffffffffff16148015610ea757507f000000000000000000000000000000000000000000000000000000000000000046145b15610ed4577f00000000000000000000000000000000000000000000000000000000000000009050610f42565b610f3f7f00000000000000000000000000000000000000000000000000000000000000007f00000000000000000000000000000000000000000000000000000000000000007f000000000000000000000000000000000000000000000000000000000000000061129a565b90505b90565b610f4d610958565b73ffffffffffffffffffffffffffffffffffffffff16610f6b6105b6565b73ffffffffffffffffffffffffffffffffffffffff1614610fc1576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610fb890612051565b60405180910390fd5b565b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1603611032576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611029906120bd565b60405180910390fd5b61103e60008383611290565b80600260008282546110509190611a2e565b92505081905550806000808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082825401925050819055508173ffffffffffffffffffffffffffffffffffffffff16600073ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef836040516111019190611735565b60405180910390a361111560008383611295565b5050565b6000600560019054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905081600560016101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508173ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a35050565b600081600001549050919050565b600080600660008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020905061123a816111df565b9150611245816112d4565b50919050565b600061125e611258610e2b565b836112ea565b9050919050565b60008060006112768787878761131d565b91509150611283816113ff565b8192505050949350505050565b505050565b505050565b600083838346306040516020016112b59594939291906120dd565b6040516020818303038152906040528051906020012090509392505050565b6001816000016000828254019250508190555050565b600082826040516020016112ff9291906121a8565b60405160208183030381529060405280519060200120905092915050565b6000807f7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a08360001c11156113585760006003915091506113f6565b60006001878787876040516000815260200160405260405161137d94939291906121df565b6020604051602081039080840390855afa15801561139f573d6000803e3d6000fd5b505050602060405103519050600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff16036113ed576000600192509250506113f6565b80600092509250505b94509492505050565b6000600481111561141357611412612224565b5b81600481111561142657611425612224565b5b031561156257600160048111156114405761143f612224565b5b81600481111561145357611452612224565b5b03611493576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161148a9061229f565b60405180910390fd5b600260048111156114a7576114a6612224565b5b8160048111156114ba576114b9612224565b5b036114fa576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016114f19061230b565b60405180910390fd5b6003600481111561150e5761150d612224565b5b81600481111561152157611520612224565b5b03611561576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016115589061239d565b60405180910390fd5b5b50565b600081519050919050565b600082825260208201905092915050565b60005b8381101561159f578082015181840152602081019050611584565b60008484015250505050565b6000601f19601f8301169050919050565b60006115c782611565565b6115d18185611570565b93506115e1818560208601611581565b6115ea816115ab565b840191505092915050565b6000602082019050818103600083015261160f81846115bc565b905092915050565b600080fd5b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b60006116478261161c565b9050919050565b6116578161163c565b811461166257600080fd5b50565b6000813590506116748161164e565b92915050565b6000819050919050565b61168d8161167a565b811461169857600080fd5b50565b6000813590506116aa81611684565b92915050565b600080604083850312156116c7576116c6611617565b5b60006116d585828601611665565b92505060206116e68582860161169b565b9150509250929050565b60008115159050919050565b611705816116f0565b82525050565b600060208201905061172060008301846116fc565b92915050565b61172f8161167a565b82525050565b600060208201905061174a6000830184611726565b92915050565b60008060006060848603121561176957611768611617565b5b600061177786828701611665565b935050602061178886828701611665565b92505060406117998682870161169b565b9150509250925092565b600060ff82169050919050565b6117b9816117a3565b82525050565b60006020820190506117d460008301846117b0565b92915050565b6000819050919050565b6117ed816117da565b82525050565b600060208201905061180860008301846117e4565b92915050565b60006020828403121561182457611823611617565b5b600061183284828501611665565b91505092915050565b6118448161163c565b82525050565b600060208201905061185f600083018461183b565b92915050565b61186e816117a3565b811461187957600080fd5b50565b60008135905061188b81611865565b92915050565b61189a816117da565b81146118a557600080fd5b50565b6000813590506118b781611891565b92915050565b600080600080600080600060e0888a0312156118dc576118db611617565b5b60006118ea8a828b01611665565b97505060206118fb8a828b01611665565b965050604061190c8a828b0161169b565b955050606061191d8a828b0161169b565b945050608061192e8a828b0161187c565b93505060a061193f8a828b016118a8565b92505060c06119508a828b016118a8565b91505092959891949750929550565b6000806040838503121561197657611975611617565b5b600061198485828601611665565b925050602061199585828601611665565b9150509250929050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b600060028204905060018216806119e657607f821691505b6020821081036119f9576119f861199f565b5b50919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b6000611a398261167a565b9150611a448361167a565b9250828201905080821115611a5c57611a5b6119ff565b5b92915050565b7f45524332303a2064656372656173656420616c6c6f77616e63652062656c6f7760008201527f207a65726f000000000000000000000000000000000000000000000000000000602082015250565b6000611abe602583611570565b9150611ac982611a62565b604082019050919050565b60006020820190508181036000830152611aed81611ab1565b9050919050565b7f45524332305065726d69743a206578706972656420646561646c696e65000000600082015250565b6000611b2a601d83611570565b9150611b3582611af4565b602082019050919050565b60006020820190508181036000830152611b5981611b1d565b9050919050565b600060c082019050611b7560008301896117e4565b611b82602083018861183b565b611b8f604083018761183b565b611b9c6060830186611726565b611ba96080830185611726565b611bb660a0830184611726565b979650505050505050565b7f45524332305065726d69743a20696e76616c6964207369676e61747572650000600082015250565b6000611bf7601e83611570565b9150611c0282611bc1565b602082019050919050565b60006020820190508181036000830152611c2681611bea565b9050919050565b7f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160008201527f6464726573730000000000000000000000000000000000000000000000000000602082015250565b6000611c89602683611570565b9150611c9482611c2d565b604082019050919050565b60006020820190508181036000830152611cb881611c7c565b9050919050565b7f45524332303a20617070726f76652066726f6d20746865207a65726f2061646460008201527f7265737300000000000000000000000000000000000000000000000000000000602082015250565b6000611d1b602483611570565b9150611d2682611cbf565b604082019050919050565b60006020820190508181036000830152611d4a81611d0e565b9050919050565b7f45524332303a20617070726f766520746f20746865207a65726f20616464726560008201527f7373000000000000000000000000000000000000000000000000000000000000602082015250565b6000611dad602283611570565b9150611db882611d51565b604082019050919050565b60006020820190508181036000830152611ddc81611da0565b9050919050565b7f45524332303a20696e73756666696369656e7420616c6c6f77616e6365000000600082015250565b6000611e19601d83611570565b9150611e2482611de3565b602082019050919050565b60006020820190508181036000830152611e4881611e0c565b9050919050565b7f45524332303a207472616e736665722066726f6d20746865207a65726f20616460008201527f6472657373000000000000000000000000000000000000000000000000000000602082015250565b6000611eab602583611570565b9150611eb682611e4f565b604082019050919050565b60006020820190508181036000830152611eda81611e9e565b9050919050565b7f45524332303a207472616e7366657220746f20746865207a65726f206164647260008201527f6573730000000000000000000000000000000000000000000000000000000000602082015250565b6000611f3d602383611570565b9150611f4882611ee1565b604082019050919050565b60006020820190508181036000830152611f6c81611f30565b9050919050565b7f45524332303a207472616e7366657220616d6f756e742065786365656473206260008201527f616c616e63650000000000000000000000000000000000000000000000000000602082015250565b6000611fcf602683611570565b9150611fda82611f73565b604082019050919050565b60006020820190508181036000830152611ffe81611fc2565b9050919050565b7f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e6572600082015250565b600061203b602083611570565b915061204682612005565b602082019050919050565b6000602082019050818103600083015261206a8161202e565b9050919050565b7f45524332303a206d696e7420746f20746865207a65726f206164647265737300600082015250565b60006120a7601f83611570565b91506120b282612071565b602082019050919050565b600060208201905081810360008301526120d68161209a565b9050919050565b600060a0820190506120f260008301886117e4565b6120ff60208301876117e4565b61210c60408301866117e4565b6121196060830185611726565b612126608083018461183b565b9695505050505050565b600081905092915050565b7f1901000000000000000000000000000000000000000000000000000000000000600082015250565b6000612171600283612130565b915061217c8261213b565b600282019050919050565b6000819050919050565b6121a261219d826117da565b612187565b82525050565b60006121b382612164565b91506121bf8285612191565b6020820191506121cf8284612191565b6020820191508190509392505050565b60006080820190506121f460008301876117e4565b61220160208301866117b0565b61220e60408301856117e4565b61221b60608301846117e4565b95945050505050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b7f45434453413a20696e76616c6964207369676e61747572650000000000000000600082015250565b6000612289601883611570565b915061229482612253565b602082019050919050565b600060208201905081810360008301526122b88161227c565b9050919050565b7f45434453413a20696e76616c6964207369676e6174757265206c656e67746800600082015250565b60006122f5601f83611570565b9150612300826122bf565b602082019050919050565b60006020820190508181036000830152612324816122e8565b9050919050565b7f45434453413a20696e76616c6964207369676e6174757265202773272076616c60008201527f7565000000000000000000000000000000000000000000000000000000000000602082015250565b6000612387602283611570565b91506123928261232b565b604082019050919050565b600060208201905081810360008301526123b68161237a565b905091905056fea26469706673582212205e8d7bb733a28b307c6266e71d7fce8f78067e564cdf5e388464ca543c2ea25b64736f6c63430008120033",new U.j(r,"any").getSigner()),t=await e.deploy(1e15,ee,d,ee);await t.deployTransaction.wait(),_(t)}catch(e){Y.log(e),(0,b.i)()}finally{N(!1)}},disabled:!n,children:"Deploy Contract"}),(0,w.jsx)(o.$n,{block:!0,loading:k,onClick:async()=>{try{T(!0),await r.request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:O.address,symbol:m,decimals:d,image:t}}})}catch(e){Y.log(e),(0,b.i)()}finally{T(!1)}},disabled:!O.address,children:"\u3010EIP 747\u3011Add Token to wallet"}),E?(0,w.jsx)(s.A,{gutter:12,children:(0,w.jsxs)(c.A,{xs:24,lg:24,children:["\u68c0\u6d4b\u5230\u4f60\u7684\u5730\u5740\u6ca1\u6709",m,"\u4ee3\u5e01"]})}):(0,w.jsxs)(s.A,{gutter:12,children:[(0,w.jsx)(c.A,{xs:24,lg:12,children:(0,w.jsx)(o.Zp,{title:"Approve Token",children:(0,w.jsxs)(o.$x,{direction:"vertical",style:{width:"100%"},children:[(0,w.jsx)(o.$n,{block:!0,style:{marginBottom:8},loading:I,onClick:j({}),disabled:!O.address||!n,children:"approve"}),(0,w.jsx)(o.$n,{block:!0,color:"warning",style:{marginBottom:8},loading:I,onClick:j({spender:v}),disabled:!O.address||!n,children:"To EOA"}),(0,w.jsx)(o.$n,{block:!0,style:{marginBottom:8},loading:I,onClick:j({gasInfo:{gasLimit:6e4,gasPrice:"20000000000"},amount:"0"}),disabled:!O.address||!n,children:"revoke"}),(0,w.jsx)(o.$n,{block:!0,style:{marginBottom:8},loading:I,onClick:j({spender:v,amount:"0"}),disabled:!O.address||!n,children:"revoke to EOA"}),(0,w.jsx)(o.$n,{block:!0,style:{marginBottom:8},loading:W,onClick:X(),disabled:!O.address||!n,children:"increaseAllowance"}),(0,w.jsx)(o.$n,{block:!0,color:"warning",style:{marginBottom:8},loading:W,onClick:X(v),disabled:!O.address||!n,children:"increaseAllowance to EOA"}),(0,w.jsx)(o.$n,{block:!0,style:{marginBottom:8},loading:$,onClick:async()=>{try{H(!0),await O.decreaseAllowance(g,""+100*10**d,{from:n})}catch(e){Y.log(e),(0,b.i)()}finally{H(!1)}},disabled:!O.address||!n,children:"decreaseAllowance"}),!!a&&(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(o.$n,{block:!0,color:"danger",style:{marginBottom:8},loading:I,onClick:j({spender:a}),disabled:!O.address||!n,children:"To Gray Address"}),(0,w.jsx)(o.$n,{block:!0,style:{marginBottom:8},loading:I,onClick:j({spender:a,amount:"0"}),disabled:!O.address||!n,children:"revoke Gray Address"})]}),!!l&&(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(o.$n,{block:!0,color:"danger",style:{marginBottom:8},loading:I,onClick:j({spender:l}),disabled:!O.address||!n,children:"To StrongBlack Address"}),(0,w.jsx)(o.$n,{block:!0,style:{marginBottom:8},loading:I,onClick:j({spender:l,amount:"0"}),disabled:!O.address||!n,children:"revoke StrongBlack Address"})]})]})})}),(0,w.jsx)(c.A,{xs:24,lg:12,children:(0,w.jsx)(o.Zp,{title:"Transfer Token",children:(0,w.jsxs)(o.$x,{direction:"vertical",style:{width:"100%"},children:[(0,w.jsx)(o.$n,{block:!0,style:{marginBottom:8},loading:A,onClick:D(),disabled:!O.address||!n,children:"transfer"}),!!a&&(0,w.jsx)(o.$n,{block:!0,color:"danger",style:{marginBottom:8},loading:A,onClick:D(void 0,!0,a),disabled:!O.address||!n,children:"To Black Address"}),!!l&&(0,w.jsx)(o.$n,{block:!0,color:"danger",style:{marginBottom:8},loading:A,onClick:D(void 0,!0,l),disabled:!O.address||!n,children:"To StrongBlack Address"})]})})})]}),(0,w.jsx)("div",{id:Q}),(0,w.jsx)(L.A,{type:"info",message:"Common token",description:Object.entries(h().groupBy(te,"chain")).map((e=>{let[t,n]=e;return(0,w.jsxs)(s.A,{gutter:12,children:[(0,w.jsx)(c.A,{children:t}),n.map((e=>(0,w.jsx)(c.A,{children:(0,w.jsx)("a",{href:`${["luoquanquan.github.io","localhost"].includes(window.location.hostname)?"/dapp-demo":""}/?tokenAddress=${e.address}`,children:e.symbol})},e.address)))]},t)}))})]})})})};var re=n(20997),ie=n(24268),oe=n(54342);const ae="0x2",fe=e=>e?e*10**9:"",se=e=>e?`0x${(+e).toString(16)}`:"";const ce=function(){const[e]=re.A.useForm(),[t,n]=(0,f.useState)(ae),{account:r,provider:i}=(0,f.useContext)(p),[a,s]=(0,f.useState)(!1);return(0,w.jsx)(c.A,{xs:24,lg:12,children:(0,w.jsx)(o.Zp,{direction:"vertical",title:"\u7ec4\u88c5\u4ea4\u6613",children:(0,w.jsx)(o.$x,{direction:"vertical",style:{width:"100%"},children:(0,w.jsxs)(re.A,{form:e,layout:"vertical",onFinish:async()=>{try{s(!0);const n=e.getFieldsValue(),o={from:r,to:v,type:t,value:se(n.value),data:se(n.data),gas:se(n.gasLimit)};t===ae?(o.maxPriorityFeePerGas=se(fe(n.maxPriorityFeePerGas)),o.maxFeePerGas=se(fe(n.maxFeePerGas))):o.gasPrice=se(fe(n.gasPrice)),await i.request({method:"eth_sendTransaction",params:[o]})}catch(n){oe.log,P.Ay.error(n.message)}finally{oe.log(`Current log: 1 ${Date.now()}`),s(!1)}},onValuesChange:e=>{n(e.type)},initialValues:{type:ae,to:v,gasPrice:50,maxFeePerGas:35.00000029,maxPriorityFeePerGas:35,gasLimit:21e3},children:[(0,w.jsx)(re.A.Item,{label:"to",name:"to",children:(0,w.jsx)(q.A,{placeholder:"to"})}),(0,w.jsx)(re.A.Item,{label:"type",name:"type",children:(0,w.jsxs)(ie.Ay.Group,{children:[(0,w.jsx)(ie.Ay.Button,{value:"0x0",children:"Legacy"}),(0,w.jsx)(ie.Ay.Button,{value:ae,children:"EIP 1559"})]})}),t===ae?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(re.A.Item,{label:"maxFeePerGas(Gwei)",name:"maxFeePerGas",children:(0,w.jsx)(q.A,{type:"float",min:0,placeholder:"maxFeePerGas(Gwei)"})}),(0,w.jsx)(re.A.Item,{label:"maxPriorityFeePerGas(Gwei)",name:"maxPriorityFeePerGas",children:(0,w.jsx)(q.A,{type:"float",min:0,placeholder:"maxPriorityFeePerGas(Gwei)"})})]}):(0,w.jsx)(re.A.Item,{label:"gasPrice(Gwei)",name:"gasPrice",children:(0,w.jsx)(q.A,{type:"float",placeholder:"gasPrice(Gwei)",min:0})}),(0,w.jsx)(re.A.Item,{label:"gasLimit",name:"gasLimit",children:(0,w.jsx)(q.A,{ype:"number",min:0,placeholder:"gasLimit"})}),(0,w.jsx)(re.A.Item,{label:"value",name:"value",children:(0,w.jsx)(q.A,{placeholder:"value"})}),(0,w.jsx)(re.A.Item,{label:"data",name:"data",children:(0,w.jsx)(q.A,{placeholder:"data"})}),(0,w.jsx)(re.A.Item,{children:(0,w.jsx)(o.$n,{block:!0,type:"submit",disabled:!r,loading:a,children:"Submit"})})]})})})})};function le(){return(0,w.jsx)(o.Zp,{title:"signTransaction",children:(0,w.jsxs)(r.A,{direction:"vertical",style:{width:"100%"},children:[(0,w.jsxs)(s.A,{gutter:16,children:[(0,w.jsx)(ne,{}),(0,w.jsx)(V,{})]}),(0,w.jsxs)(s.A,{gutter:16,children:[(0,w.jsx)(z,{}),(0,w.jsx)(G,{})]}),(0,w.jsx)(s.A,{gutter:16,children:(0,w.jsx)(ce,{})})]})})}function de(e){let{href:t,disabled:n=!1,children:r}=e;return(0,w.jsx)(o.$n,{block:!0,onClick:()=>{window.open(t)},disabled:n,children:r})}const ue=function(){const{account:e,chainId:t}=(0,f.useContext)(p);return(0,w.jsx)(o.Zp,{title:"Tools",children:(0,w.jsxs)(o.$x,{direction:"vertical",style:{width:"100%"},children:[(0,w.jsx)(de,{href:`https://app.scamsniffer.io/permits/${e||""}`,children:"Scam Sniffer"}),(0,w.jsx)(de,{href:`https://revoke.cash/zh/address/${e||""}?chainId=${t}`,children:"revoke.cash"}),(0,w.jsx)(de,{href:"https://faucets.pk910.de/",children:"PoWFaucet"})]})})};var he=n(54342);const pe=function(){const{account:e,provider:t}=(0,f.useContext)(p),[n,r]=(0,f.useState)(!1);return(0,w.jsx)(o.Zp,{title:"Rare cases",children:(0,w.jsx)(o.$x,{direction:"vertical",style:{width:"100%"},children:(0,w.jsx)(o.$n,{block:!0,loading:n,onClick:async()=>{try{r(!0),await t.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x1"}]}),await t.request({method:"eth_sendTransaction",params:[{from:e,to:"0x5283D291DBCF85356A21bA090E6db59121208b44",value:"0x0",data:"0xf123991e00000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000e0000000000000000000000000000000000000000000000000000000000000012000000000000000000000000095b247ccce49df14e87a8f20f12fcd23877873c600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000fe4f44bee93503346a3ac9ee5a26b130a5796d60000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000f"}]}),(0,b.t)()}catch(n){he.log(n),(0,b.i)()}finally{r(!1)}},children:"invoke eigenLayer"})})})};var be=n(54342);const ge=function(){const{account:e,provider:t}=(0,f.useContext)(p),[n,r]=(0,f.useState)(!1),[i,a]=(0,f.useState)(!1),s=(e,n)=>async()=>{try{a(!0),await t.request({method:"wallet_switchEthereumChain",params:[{chainId:e}]}),await t.request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:n,symbol:"tokenAddress",decimals:4,image:`${window.location.origin}/dapp-demo/favicon.png`}}}),(0,b.t)()}catch(r){be.log(r),(0,b.i)()}finally{a(!1)}},[c,l]=(0,f.useState)(!1),d=(n,r)=>async()=>{try{l(!0),await t.request({method:"wallet_switchEthereumChain",params:[{chainId:n}]}),await t.request({method:"eth_sendTransaction",params:[{from:e,to:v,value:`0x${(10**15).toString(16)}`,...r}]}),(0,b.t)()}catch(i){be.log(i),(0,b.i)()}finally{l(!1)}};return(0,w.jsx)(o.Zp,{title:"Test For Default Gas ~",children:(0,w.jsxs)(o.$x,{direction:"vertical",style:{width:"100%"},children:[(0,w.jsx)(o.$n,{block:!0,disabled:!e,onClick:async()=>{try{r(!0),await t.request({method:"wallet_addEthereumChain",params:[{chainId:"0x4268",rpcUrls:["https://rpc.ankr.com/eth_holesky"],chainName:"Holesky Test",nativeCurrency:{name:"Holesky ETH",decimals:18,symbol:"ETH"},blockExplorerUrls:["https://holesky.etherscan.io/"]}]}),(0,b.t)()}catch(e){be.log(e),(0,b.i)()}finally{r(!1)}},loading:n,children:"Add Holesky Test Network"}),(0,w.jsx)(o.$n,{block:!0,disabled:!e,loading:i,onClick:s("0x4268","0x7ad6a7eb39e97f08a7deb05c87496d340e08d54f"),children:"Add Holesky Test Network Token"}),(0,w.jsx)(o.$n,{block:!0,disabled:!e,loading:i,onClick:s("0x41","0x7ad6a7eb39e97f08a7deb05c87496d340e08d54f"),children:"Add OKC Test Network Token"}),(0,w.jsx)(o.$n,{block:!0,disabled:!e,loading:c,onClick:d("0x41",{gasPrice:`0x${(15*10**9).toString(16)}`,gas:"0x5208"}),children:"Send OKC BaseToken WithGas(Legacy)"}),(0,w.jsx)(o.$n,{block:!0,disabled:!e,loading:c,onClick:d("0x41"),children:"Send OKC BaseToken WithoutGas(Legacy)"}),(0,w.jsx)(o.$n,{block:!0,disabled:!e,loading:c,onClick:d("0x4268",{maxFeePerGas:`0x${(2.1*10**9).toString(16)}`,maxPriorityFeePerGas:`0x${(2*10**9).toString(16)}`,gas:"0x5208"}),children:"Send Holesky BaseToken WithGas(eip-1559)"}),(0,w.jsx)(o.$n,{block:!0,disabled:!e,loading:c,onClick:d("0x4268"),children:"Send Holesky BaseToken WithoutGas(eip-1559)"})]})})};const ve=function(e){let{title:t,onChange:n,value:r}=e;return(0,w.jsxs)("div",{style:{marginBottom:"4px"},children:[(0,w.jsxs)("div",{style:{marginBottom:"6px"},children:[t,":"]}),(0,w.jsx)(o.pd,{onChange:n,value:r,placeholder:`please input ${t}`})]})},ye=[{chainId:"0x1",to:"0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",type:"Withdraw",callData:"0x2e1a7d4d0000000000000000000000000000000000000000000000000113984d6c161224"},{chainId:"0x1",to:"0xf3de3c0d654fda23dad170f0f320a92172509127",type:"Swap",callData:"0x9871efa400000000003065c160aa2dc000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000186cc6acd4b00000000000000000000000000000000000000000000001624abe35390291bd2922b00000000000000000000000000000000000000000000000000000000000000800000000000000000000000000000000000000000000000000000000000000001b0000000000000003b6d03404103e658a8acab924a9a2d3750e6cf3fb932a186"},{chainId:"0x1",to:"0x6759acd57cb5ea451a3edf397734edddfc123049",type:"ClaimReward",callData:"0x1aee31d000000000000000000000000000000000000000000000000000000000000055870000000000000000000000000000000000000000000004af8fb048d4d3c00000ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000688be1b4000000000000000000000000000000000000000000000000000000000000001ccff4fed2422710342400de4540d21d13f72c3e3bb57f3d1759efcbd84c453a2a58241509043ff46cd89e68a0db051d67565bc28e7683af08c5e07a461e5569c2000000000000000000000000000000000000000000000000000000000000000fe935acc1666ba975c8724ef514ed5d5166d4cbd2d4e653fd95ae03cffe5f3d3c88e25a461c06a8bd0dd9b0ab12a0b69e927fdc12415446a3ca908cc326d01266a486435bbc196d1f46aa27c2d143c088584ee8b027e3ca66fa13aa135dcf3b649bbe3ee92d8369cca580a154a185e60b929f306d70b6c7d613e0f843d44dfbed0346fcc15e93aa73bfbdd913c5185b27da7f481a0d31d7ddbaf272455b2af6f3e2dbb4fbfcd9f32113537747f974ac3872046169ce6cb6c8d9f262856bb93199d742d16150f00b4e984cdf9e471c36a0488df21f1aef3c4754a58b65012cc484a91e49606211faeae8e77678807815ea258e63cf95cf160db5464c175d9eba0c06710e754fb59ba898bba1127346c870f2aee05c22c952ce4412ea517c4586b431adffe7cc25c6e1c190fff148f31a21752775abeb1aa707ae7a7fe5bb0ff22c6c220eb496842c14dac711e270b6d469aa5e3e7c6d9971c4de9c4dcd02535c822004b41aeb7f85b9f6e46c71a451cb5fb86b03e0dcf18fb59b7af3db96ee6c6c5726934831a61a96855d33955db5ad5bc9b5b904fd048ab42010479076017e2997c1afa732779d9256af31d8525d2bb50eba01907f7c6cfea62b90759ea7a96b377a72a7db91b2606459fa309908ccbd3f61d32fcaab3c874d37d09784167cbf"},{chainId:"0x1",to:"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2",type:"Token Approval",callData:"0x095ea7b3000000000000000000000000e92b586627cca7a83dc919cc7127196d70f55a0600000000000000000000000000000000000000000000000005278ab4012fa000"},{chainId:"0x1",to:"0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",type:"Send Token",callData:"0xa9059cbb000000000000000000000000b2db21f72d616aff10a4d043ee678dd24d042d8300000000000000000000000000000000000000000000000000000000000001f4"},{chainId:"0x1",to:"0x5d22045daceab03b158031ecb7d9d06fad24609b",type:"Bridge",callData:"0x00aeef8a05fe4940c19493b7facbc012677989fa504d88e14ec33628281ca4957c16979400b333e3142fe16b78628f19bb15afddaef437e72d6d7f5c6c20c6801a27fba60000000000000000000000000000000000000000000000000000000039ebfcb3"},{chainId:"0x1",to:"0x29469395eaf6f95920e59f858042f0e28d98a20b",type:"Take Order",callData:"0x619a309f000000000000000000000000218e312ff5181290a46e3f87a73a8ad40c05a9440000000000000000000000003bb4fa84b120ac0dbb4a6bb0442fe2c47e324a93000000000000000000000000bd3531da5cf5857e7cfaa92426877b022e612cf8000000000000000000000000000000000000000000000000000000000000138d0000000000000000000000000000000000000000000000006dc5f7174d5700000000000000000000000000000000000000000000000000000000000066a8f5e7000000000000000000000000000000000000000000000000000000000000089800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002328000000000000000000000000000000000000000000000000000000000004eb3f00000000000000000000000000000000000000000000000000000000000001600000000000000000000000000fcbfc0a67985ee0803def22343ec4aeed02760e000000000000000000000000bd3531da5cf5857e7cfaa92426877b022e612cf807206b8e31b6516d7eff87d5c922fe0f37d7855bb0803032f6a33095f47e7428000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000688dff1b000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000009e26d5f76ef2bea3b8158493c99513be0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000007f65e95cbe1600000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000022000000000000000000000000000000000000000000000000000000000000002a0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000412acf1861718edf92830de444a5581fef5c3496901833ddb906e2a35286bc714026af28759c752bc2e3f9f92967121ee760c6cee9c503771edf2a5e1dcf85c9f31c0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000599b0fe6317ee97fd93d9b3cb06121fb8aba5422920fe884780df9a802d7718f9b3c3b76c79692fadc2c1bc2beeac8c68160a54535698f8a32c2363c890c516c851b0137e7406af68e5d010513ff70a3aaed9afeb8661116e6ce00000000000000"},{chainId:"0x1",to:"0x29469395eaf6f95920e59f858042f0e28d98a20b",type:"Borrow",callData:"0xe263967e0000000000000000000000008ee0033f81aa75d222b43b2b4571eb2bbd0c185a000000000000000000000000bd3531da5cf5857e7cfaa92426877b022e612cf800000000000000000000000000000000000000000000000053444835ec580000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006f05b59d3b20000000000000000000000000000000000000000000000000000000000000000232800000000000000000000000000000000a95f35e70e6d3acf9b0de1543e8713d40000000000000000000000000000000000000000000000000000000066d408a5000000000000000000000000000000000000000000000000000000000000019a000000000000000000000000473ca1d29a136b935a96380ea342f296b4eea82c00000000000000000000000000000000000000000000000000000000000001a0000000000000000000000000000000000000000000000000058d15e17628000000000000000000000000000000000000000000000000000000000000000013a200000000000000000000000000000000000000000000000000000000000000a241df57db0d7b160709d45400c6d8d4804b83c431f5245c5a3832f5d143add2d1437a549f64da1d3dc37b489c717d52bc66fff13efb398522f959490efc003cdf1b482935865df9ab5812aa98505c0f80c5d20ad232f7d947b007908419cb17dc9b570811373f3152966dcc047a692510a9dcfeaef0b6bcedcb513c637d39bb4ab11c000000000000000000000000000000000000000000000000000000000137e74b000000000000000000000000000000000000000000000000000000000000"},{chainId:"0x1",to:"0x0000000000000068f116a894984e2db1123eb395",type:"Cancel Order",callData:"0xfd9f1e10000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000020000000000000000000000000a01ab398e7b55e74d222992d5f286cf3ba5a75cb000000000000000000000000df2d4bffec010debd302674c9fb9cda99bb5e8520000000000000000000000000000000000000000000000000000000000000160000000000000000000000000000000000000000000000000000000000000022000000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000066342016000000000000000000000000000000000000000000000000000000006635715e0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000cc8155b224ff88b70000007b02230091a7ed01230072f7006a004d60a8d4e71d599b8104250f0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000002000000000000000000000000c2e0ca5fe0b9abe1b86f3cc0b865448908d20a16a01ab398e7b55e74d222992d5f286cf3ba5a75cb0000000000000000000000010000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001000000000000000000000000a0b86991c6218b36c1d19d4a2e9eb0ce3606eb48000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001e848000000000000000000000000000000000000000000000000000000000001e8480000000000000000000000000a01ab398e7b55e74d222992d5f286cf3ba5a75cb"},{chainId:"0x38",to:"0x3556e8b925ee20c1fc6a00107fd449522338f7fd",type:"Bet",callData:"0x35bcf347000000000000000000000000000000000000000000000037d61f16d37c5800007f2c395d9fee4afa5b24c23db4ffb34c02239e22c812f971e2171035c5ae04a300000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000041c83a001a319cd670d414286d79d6c1581fb2728187f590fc9d63a3d9c47f835e12bf8cf800383370b431e05a3670e093bea747df9cc61c75fa05dd59dfb1e24c1c00000000000000000000000000000000000000000000000000000000000000"},{chainId:"0x38",to:"0x0dd6d9c60bc6799acaad9be3ff9c583259cddfca",type:"subscribe",callData:"0xf739d67c0000000000000000000000001a098793a7b850b896bb7e278ead55a499e19a37000000000000000000000000000000000000000000000000000000000000000100000000000000000000000016fc4f4c81539a6517075170d9099d2a8f84bad8"},{chainId:"0x89",to:"0x830017756ce93b471f90a0502985766c9bb9baf4",type:"Config",callData:"0x074d11ae0000000000000000000000000000000000000000000000000000000000000001"},{chainId:"0x89",to:"0xf3a3d1b89a70e291531ecb4a1299117f5de44612",type:"Register",callData:"0x0840605a000000000000000000000000d51ea6e3f0f931548d1f4ba586814a964dd7f38d"}];var me=n(54342);const Ce=function(){const{account:e,provider:t}=(0,f.useContext)(p),[n,r]=(0,f.useState)(""),[i,a]=(0,f.useState)(""),[s,c]=(0,f.useState)(""),[l,d]=(0,f.useState)(!1),u=async n=>{try{d(!0),await t.request({method:"wallet_switchEthereumChain",params:[{chainId:n.chainId}]});const r={from:e,to:n.to,value:"0x0",data:n.callData};await t.request({method:"eth_sendTransaction",params:[r]}),(0,b.t)()}catch(r){me.log(r),(0,b.i)()}finally{d(!1)}};return(0,w.jsx)(o.Zp,{title:"Route Contract",children:(0,w.jsxs)(o.$x,{direction:"vertical",style:{width:"100%"},children:[(0,w.jsx)(o.Zp,{title:"\u9ed8\u8ba4\u529f\u80fd",children:(0,w.jsx)(o.$x,{wrap:!0,children:ye.map((t=>(0,w.jsx)(o.$n,{block:!0,loading:l,disabled:!e,onClick:()=>u(t),children:t.type},t.callData)))})}),(0,w.jsxs)(o.Zp,{title:"\u81ea\u5b9a\u4e49\u529f\u80fd",children:[(0,w.jsx)(ve,{title:"chainId",value:n,onChange:r}),(0,w.jsx)(ve,{title:"to",value:i,onChange:a}),(0,w.jsx)(ve,{title:"callData",value:s,onChange:c}),(0,w.jsx)(o.$n,{block:!0,disabled:!e||!i||!s||!n,loading:l,onClick:async()=>{n.startsWith("0x")?u({to:i,callData:s,chainId:n}):u({to:i,callData:s,chainId:`0x${Number(n).toString(16)}`})},children:"fire"})]})]})})};const we=function(){return(0,w.jsxs)(o.Zp,{title:"Others",children:[(0,w.jsxs)(s.A,{gutter:12,children:[(0,w.jsx)(c.A,{xs:24,lg:8,children:(0,w.jsx)(ue,{})}),(0,w.jsx)(c.A,{xs:24,lg:8,children:(0,w.jsx)(pe,{})})]}),(0,w.jsxs)(s.A,{gutter:12,children:[(0,w.jsx)(c.A,{xs:24,lg:12,children:(0,w.jsx)(ge,{})}),(0,w.jsx)(c.A,{xs:24,lg:12,children:(0,w.jsx)(Ce,{})})]})]})},xe=e=>{let{chain:t}=e;return`Please install ${t}'s wallet ~`},Oe={eoa:"eoa",contract:"contract",strongEoa:"strongEoa"},_e={[Oe.eoa]:"Black EOA Address",[Oe.contract]:"Black Contract Address",[Oe.strongEoa]:"Strong Black EOA Address"};function Ee(e){let{address:t,type:n="eoa"}=e;return t?(0,w.jsx)(o.Zp,{title:_e[n]||"Unknown black address type",children:(0,w.jsx)(o.$x,{direction:"vertical",children:(0,w.jsx)(H.A.Text,{copyable:!0,children:t})})}):null}Ee.typeMap=Oe;const Se=Ee;function Re(e){let{provider:t,onSelected:n,active:r}=e;const{info:i}=t;return(0,w.jsx)(c.A,{xs:24,lg:8,children:(0,w.jsxs)(o.Zp,{style:{cursor:"pointer"},onClick:n,title:(0,w.jsx)("img",{src:i.icon,width:24,height:24,alt:""}),extra:r?(0,w.jsx)("span",{style:{fontSize:"20px"},children:"\ud83d\udfe2"}):null,children:[(0,w.jsxs)("p",{children:["name: ",i.name]}),(0,w.jsxs)("p",{children:["rdns: ",i.rdns]}),(0,w.jsxs)("p",{children:["uuid: ",i.uuid]})]})})}const Ne=function(){const[e,t]=(0,f.useState)([]),{provider:n,setProvider:r}=(0,f.useContext)(p);return(0,f.useEffect)((()=>{r(new U.j(window.ethereum,"any")),window.addEventListener("eip6963:announceProvider",(e=>{t((t=>(0,u.uniqBy)([...t,e.detail],"info.uuid")))})),window.dispatchEvent(new Event("eip6963:requestProvider"))}),[]),(0,f.useEffect)((()=>{if(null!==e&&void 0!==e&&e.length){const t=(0,u.find)(e,(e=>{var t,n;return null===e||void 0===e||null===(t=e.info)||void 0===t||null===(n=t.name)||void 0===n?void 0:n.endsWith("Wallet")}));r((null===t||void 0===t?void 0:t.provider)||(0,u.last)(e).provider)}}),[e]),(0,w.jsx)(o.Zp,{title:"EIP 6963",children:(0,w.jsx)(s.A,{gutter:16,children:e.map((e=>(0,w.jsx)(Re,{active:n===e.provider,provider:e,onSelected:()=>{r(e.provider)}},e.info.uuid)))})})};var ke=n(22130),Te=n(57408),Ae=n(54342),Pe=n(19384).Buffer;const De=function(){const{account:e,provider:t}=(0,f.useContext)(p),[n,r]=(0,f.useState)(!1),[i,a]=(0,f.useState)(""),[l,d]=(0,f.useState)(""),[u,h]=(0,f.useState)(""),[g,v]=(0,f.useState)(!1),[y,m]=(0,f.useState)("");return(0,w.jsx)(s.A,{gutter:16,children:(0,w.jsx)(c.A,{span:24,children:(0,w.jsx)(o.Zp,{direction:"vertical",title:"\u83b7\u53d6\u52a0\u5bc6\u516c\u94a5",children:(0,w.jsxs)(o.$x,{direction:"vertical",style:{width:"100%"},children:[(0,w.jsx)(o.$n,{block:!0,disabled:!e,loading:n,onClick:async()=>{try{r(!0);const n=await t.request({method:"eth_getEncryptionPublicKey",params:[e]});a(n)}catch(n){Ae.log(n),(0,b.i)()}finally{r(!1)}},children:"\u83b7\u53d6\u516c\u94a5"}),(0,w.jsx)(L.A,{type:"info",message:"\u516c\u94a5",description:i}),(0,w.jsx)(o.pd,{disabled:!i,value:l,placeholder:"\u8bf7\u8f93\u5165\u660e\u6587",onChange:d}),(0,w.jsx)(o.$n,{block:!0,disabled:!l,onClick:async()=>{try{const e=(0,ke.encrypt)(i,{data:l},"x25519-xsalsa20-poly1305"),t=Te.c$(Pe.from(JSON.stringify(e)));h(t)}catch(e){Ae.log(e),(0,b.i)()}},children:"\u52a0\u5bc6"}),(0,w.jsx)(L.A,{type:"info",message:"\u5bc6\u6587",description:u}),(0,w.jsx)(o.$n,{block:!0,loading:g,disabled:!u,onClick:async()=>{try{v(!0);const n=await t.request({method:"eth_decrypt",params:[u,e]});m(n)}catch(n){Ae.log(n),(0,b.i)()}finally{v(!1)}},children:"\u89e3\u5bc6"}),(0,w.jsx)(L.A,{type:"info",message:"\u89e3\u5bc6\u540e\u6587\u672c(\u9700\u548c\u539f\u6587\u672c\u4e00\u81f4)",description:y})]})})})})};function Ie(){const[e,t]=(0,f.useState)({}),{account:n,handleConnect:r,handleConnectAllChains:i,handleDisConnect:a}=(e=>{const[t,n]=(0,f.useState)(""),r=async()=>{try{if(e.request){const t=await e.request({method:"eth_requestAccounts"}),[r]=t;n(r)}}catch(t){P.Ay.error(K[t.code]||t.message)}};return(0,f.useEffect)((()=>{if(n(""),e&&null!==e&&void 0!==e&&e.on){try{e.on("accountChanged",(e=>{let[t]=e;t?r():n("")}))}catch(t){I.log(t)}r()}}),[e]),{account:t,handleConnect:r,handleConnectAllChains:async()=>{try{const t=(await e.requestWallets(!0))[0].address.find((e=>{let{chainId:t}=e;return"66"===t})).address;n(t)}catch(t){P.Ay.error(K[t.code]||t.message)}},handleDisConnect:async()=>{try{await e.disconnect()}catch(t){}window.location.reload()}}})(e),{chainId:s}=(e=>{const[t,n]=(0,f.useState)(""),r=()=>{(null===e||void 0===e?void 0:e.request)&&e.request({method:"eth_chainId"}).then((e=>{n(+e)}))};return(0,f.useEffect)((()=>{e&&(r(),(null===e||void 0===e?void 0:e.on)&&e.on("chainChanged",(()=>{r()})))}),[e]),{chainId:t}})(e),c=(0,f.useMemo)((()=>({account:n,chainId:s,provider:e,setProvider:t})),[n,s,e]);return window.ethereum?(0,w.jsx)(p.Provider,{value:c,children:(0,w.jsxs)(o.$x,{direction:"vertical",style:{width:"100%"},children:[(0,w.jsx)(A,{}),(0,w.jsx)(Ne,{}),(0,w.jsx)(j,{account:n}),(0,w.jsx)(D,{handleConnect:r,account:n,handleDisConnect:a,children:e.requestWallets?(0,w.jsx)(o.$n,{disabled:!!n,onClick:i,children:"Connect All Chain"}):null}),(0,w.jsx)(T,{}),(0,w.jsx)(le,{}),(0,w.jsx)(we,{}),(0,w.jsx)(De,{}),(0,w.jsx)(Se,{type:Se.typeMap.eoa,address:m(s)}),(0,w.jsx)(Se,{type:Se.typeMap.strongEoa,address:C(s)})]})}):(0,w.jsx)(xe,{chain:"Evm"})}const Ke={key:"Evm",children:(0,w.jsx)(Ie,{})};var je=n(54342);function Me(e){let{title:t,account:n,msg:r}=e;return(0,w.jsx)(c.A,{xs:24,lg:6,children:(0,w.jsx)(o.$n,{block:!0,disabled:!n,onClick:async()=>{try{await tronWeb.trx.signMessage(r).then((e=>{je.log(e),(0,b.t)()}))}catch(e){(0,b.i)()}},style:{marginBottom:8},children:t})})}const Ue=function(e){let{account:t}=e;return(0,w.jsx)(o.Zp,{title:"signMessage",children:(0,w.jsx)(o.$x,{direction:"vertical",style:{width:"100%"},children:(0,w.jsxs)(s.A,{gutter:6,children:[(0,w.jsx)(Me,{title:"signMessage",account:t,msg:"Hello Tron"}),(0,w.jsx)(Me,{title:"signMessage with approval",account:t,msg:"0a02ddef220847fff515ea79f0dd40a8eaa2e3b3315aae01081f12a9010a31747970652e676f6f676c65617069732e636f6d2f70726f746f636f6c2e54726967676572536d617274436f6e747261637412740a1541d9edd5604bdfd83233a388330b009a4c118cd24f121541a614f803b6fd780986a42c78ec9c7f77e6ded13c2244d73dd623000000000000000000000000416d2d4db7b59c734bd10abdd5fe0b13cef23e2600000000000000000000000000000000000000000000000000000000000000ff7086a19fe3b33190018087a70e"}),(0,w.jsx)(Me,{title:"signMessage with approval",account:t,msg:"0a02ddd72208280dac71fe29512d40e8b79ee3b3315aae01081f12a9010a31747970652e676f6f676c65617069732e636f6d2f70726f746f636f6c2e54726967676572536d617274436f6e747261637412740a1541d9edd5604bdfd83233a388330b009a4c118cd24f121541a614f803b6fd780986a42c78ec9c7f77e6ded13c2244d73dd623000000000000000000000000416d2d4db7b59c734bd10abdd5fe0b13cef23e2600000000000000000000000fffffffffffffffffffffffffffffffffffffffff709cea9ae3b33190018087a70e"}),(0,w.jsx)(Me,{title:"signMessage with approval gray",account:t,msg:"0a02ddbc2208a6facc02ac1c40cc4080bf99e3b3315aae01081f12a9010a31747970652e676f6f676c65617069732e636f6d2f70726f746f636f6c2e54726967676572536d617274436f6e747261637412740a1541d9edd5604bdfd83233a388330b009a4c118cd24f121541a614f803b6fd780986a42c78ec9c7f77e6ded13c2244d73dd6230000000000000000000000009fda016c6b65510c2fbefc942d7358773245c17200000000000000000000000000000000000000000000000000000000000000ff70868496e3b33190018087a70e"})]})})})};const Le=function(e){let{children:t,href:n,...r}=e;return(0,w.jsx)(i.Ay,{block:!0,type:"link",target:"_blank",href:n,...r,children:t})},We="TNssWTZnEakY2fN2Aaa71k85yRqVcjcv69",Be="THRAE2VhGNAcvPKtT96AqyXtSQwhiU1XL8",Xe="TR7NHqjeKQxGTCi8q8ZY4pL8otSzgjLj6t",$e="TEkxiTehnzSmSe2XqrBj4w32RUN966rdz8",He="TDxkVPEaSNQkGb5HKmucMuLYbkZD3oWgUp",qe="TEU5d9mbaTMP2DBZLey6DFYJtbGmgX8b3Y",Fe="TUt6TJ2qLrcyWQN8XVLbEXEuy8qhnivj84";var Je=n(54342);const Ve=function(e){let{account:t}=e;const[n,i]=(0,f.useState)(!1),a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be;return async()=>{try{i(!0);const n=[{type:"address",value:e},{type:"uint256",value:tronWeb.toSun(99999999999999)}],{transaction:r}=await tronWeb.transactionBuilder.triggerSmartContract(tronWeb.address.toHex(Xe),"increaseApproval(address,uint256)",{feeLimit:1e8},n,tronWeb.address.toHex(t)),o=await tronWeb.trx.sign(r);Je.log("Current log: signedTx: ",o)}catch(n){Je.error(n),P.Ay.error("\u64cd\u4f5c\u5931\u8d25")}finally{i(!1)}}},[s,l]=(0,f.useState)(!1),d=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be;return async()=>{try{l(!0);const n=[{type:"address",value:e},{type:"uint256",value:tronWeb.toSun(99999999999999)}],{transaction:r}=await tronWeb.transactionBuilder.triggerSmartContract(tronWeb.address.toHex(Xe),"decreaseAllowance(address,uint256)",{feeLimit:1e8},n,tronWeb.address.toHex(t)),i=await tronWeb.trx.sign(r);Je.log("Current log: signedTx: ",i)}catch(n){Je.error(n),P.Ay.error("\u64cd\u4f5c\u5931\u8d25")}finally{l(!1)}}},[u,h]=(0,f.useState)(!1),p=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We;return async()=>{try{h(!0);const n=[{type:"address",value:e},{type:"uint256",value:1e3}],{transaction:r}=await tronWeb.transactionBuilder.triggerSmartContract(tronWeb.address.toHex(Xe),"transfer(address,uint256)",{feeLimit:1e8},n,tronWeb.address.toHex(t)),i=await tronWeb.trx.sign(r);Je.log("Current log: signedTx: ",i)}catch(n){Je.error(n),P.Ay.error("\u64cd\u4f5c\u5931\u8d25")}finally{h(!1)}}},[b,g]=(0,f.useState)(!1),v=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;return async()=>{try{g(!0);const r=[{type:"address",value:e},{type:"uint256",value:n}],{transaction:i}=await tronWeb.transactionBuilder.triggerSmartContract(tronWeb.address.toHex(Xe),"approve(address,uint256)",{feeLimit:1e8},r,tronWeb.address.toHex(t)),o=await tronWeb.trx.sign(i);Je.log("Current log: signedTx: ",o),Je.log("Current log: signedTx: ",o)}catch(r){Je.error(r),P.Ay.error("\u64cd\u4f5c\u5931\u8d25")}finally{g(!1)}}},[y,m]=(0,f.useState)(!1),C=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We;return async()=>{try{m(!0);const n=[{type:"address",value:t},{type:"address",value:e},{type:"uint256",value:1e3}],{transaction:r}=await tronWeb.transactionBuilder.triggerSmartContract(tronWeb.address.toHex(Xe),"transferFrom(address,address,uint256)",{feeLimit:1e8},n,tronWeb.address.toHex(t)),i=await tronWeb.trx.sign(r);Je.log("Current log: signedTx: ",i)}catch(n){Je.error(n),P.Ay.error("\u64cd\u4f5c\u5931\u8d25")}finally{m(!1)}}};return(0,w.jsx)(c.A,{xs:24,lg:12,children:(0,w.jsx)(o.Zp,{direction:"vertical",title:"USDT",children:(0,w.jsxs)(r.A,{direction:"vertical",style:{width:"100%"},children:[(0,w.jsx)(o.$n,{block:!0,disabled:!t,loading:n,onClick:a(),children:"increaseApproval"}),(0,w.jsx)(o.$n,{block:!0,color:"danger",disabled:!t,loading:n,onClick:a(qe),children:"increaseApproval(gray)"}),(0,w.jsx)(o.$n,{block:!0,color:"warning",disabled:!t,loading:n,onClick:a(We),children:"increaseApproval to EOA"}),(0,w.jsx)(o.$n,{block:!0,disabled:!t,loading:s,onClick:d(),children:"decreaseApproval"}),(0,w.jsx)(o.$n,{block:!0,disabled:!t,loading:s,onClick:d(qe),children:"decreaseApproval(gray)"}),(0,w.jsx)(o.$n,{block:!0,disabled:!t,loading:u,onClick:p(),children:"transfer"}),(0,w.jsx)(o.$n,{block:!0,color:"danger",disabled:!t,loading:u,onClick:p(qe),children:"transfer Black Address"}),(0,w.jsx)(o.$n,{block:!0,color:"danger",disabled:!t,loading:u,onClick:p(Fe),children:"transfer Strong Black Address"}),(0,w.jsx)(o.$n,{block:!0,disabled:!t,loading:b,onClick:v(),children:"approve"}),(0,w.jsx)(o.$n,{block:!0,color:"danger",disabled:!t,loading:b,onClick:v(qe),children:"approve Black Address"}),(0,w.jsx)(o.$n,{block:!0,color:"danger",disabled:!t,loading:b,onClick:v(Fe),children:"approve Strong Black Address"}),(0,w.jsx)(o.$n,{block:!0,color:"warning",disabled:!t,loading:b,onClick:v(We),children:"approve to EOA"}),(0,w.jsx)(o.$n,{block:!0,disabled:!t,loading:b,onClick:v(Be,0),children:"revoke"}),(0,w.jsx)(o.$n,{block:!0,disabled:!t,loading:b,onClick:v(qe,0),children:"revoke(gray)"}),(0,w.jsx)(o.$n,{block:!0,disabled:!t,loading:y,onClick:C(),children:"transferFrom"}),(0,w.jsx)(o.$n,{block:!0,color:"danger",disabled:!t,loading:y,onClick:C(qe),children:"transferFrom(gray)"}),(0,w.jsx)(Le,{href:"https://tronscan.org/#/token20/TR7NHqjeKQxGTCi8q8ZY4pL8otSzgjLj6t/code",children:"USDT Tron Scan"})]})})})};var ze=n(54342);const Ge=function(e){let{account:t}=e;const[n,i]=(0,f.useState)(!1),a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be;return async()=>{try{i(!0);const n=[{type:"address",value:e},{type:"uint256",value:tronWeb.toSun(99999999999999)}],{transaction:r}=await tronWeb.transactionBuilder.triggerSmartContract(tronWeb.address.toHex($e),"increaseAllowance(address,uint256)",{feeLimit:1e8},n,tronWeb.address.toHex(t)),o=await tronWeb.trx.sign(r);ze.log("Current log: signedTx: ",o)}catch(n){ze.error(n),P.Ay.error("\u64cd\u4f5c\u5931\u8d25")}finally{i(!1)}}},[s,l]=(0,f.useState)(!1),d=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be;return async()=>{try{l(!0);const n=[{type:"address",value:e},{type:"uint256",value:tronWeb.toSun(99999999999999)}],{transaction:r}=await tronWeb.transactionBuilder.triggerSmartContract(tronWeb.address.toHex($e),"decreaseAllowance(address,uint256)",{feeLimit:1e8},n,tronWeb.address.toHex(t)),i=await tronWeb.trx.sign(r);ze.log("Current log: signedTx: ",i)}catch(n){ze.error(n),P.Ay.error("\u64cd\u4f5c\u5931\u8d25")}finally{l(!1)}}},[u,h]=(0,f.useState)(!1),p=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We;return async()=>{try{h(!0);const n=[{type:"address",value:e},{type:"uint256",value:1e3}],{transaction:r}=await tronWeb.transactionBuilder.triggerSmartContract(tronWeb.address.toHex($e),"transfer(address,uint256)",{feeLimit:1e8},n,tronWeb.address.toHex(t)),i=await tronWeb.trx.sign(r);ze.log("Current log: signedTx: ",i)}catch(n){ze.error(n),P.Ay.error("\u64cd\u4f5c\u5931\u8d25")}finally{h(!1)}}},[b,g]=(0,f.useState)(!1),v=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;return async()=>{try{g(!0);const r=[{type:"address",value:e},{type:"uint256",value:n}],{transaction:i}=await tronWeb.transactionBuilder.triggerSmartContract(tronWeb.address.toHex($e),"approve(address,uint256)",{feeLimit:1e8},r,tronWeb.address.toHex(t)),o=await tronWeb.trx.sign(i);ze.log("Current log: signedTx: ",o)}catch(r){ze.error(r),P.Ay.error("\u64cd\u4f5c\u5931\u8d25")}finally{g(!1)}}},[y,m]=(0,f.useState)(!1),C=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We;return async()=>{try{m(!0);const n=[{type:"address",value:t},{type:"address",value:e},{type:"uint256",value:1e3}],{transaction:r}=await tronWeb.transactionBuilder.triggerSmartContract(tronWeb.address.toHex($e),"transferFrom(address,address,uint256)",{feeLimit:1e8},n,tronWeb.address.toHex(t)),i=await tronWeb.trx.sign(r);ze.log("Current log: signedTx: ",i)}catch(n){ze.error(n),P.Ay.error("\u64cd\u4f5c\u5931\u8d25")}finally{m(!1)}}};return(0,w.jsx)(c.A,{xs:24,lg:12,children:(0,w.jsx)(o.Zp,{direction:"vertical",title:"USDC",children:(0,w.jsxs)(r.A,{direction:"vertical",style:{width:"100%"},children:[(0,w.jsx)(o.$n,{block:!0,disabled:!t,loading:n,onClick:a(),children:"increaseAllowance"}),(0,w.jsx)(o.$n,{block:!0,color:"danger",disabled:!t,loading:n,onClick:a(qe),children:"increaseAllowance(gray)"}),(0,w.jsx)(o.$n,{block:!0,color:"warning",disabled:!t,loading:n,onClick:a(We),children:"increaseAllowance to EOA"}),(0,w.jsx)(o.$n,{block:!0,disabled:!t,loading:s,onClick:d(),children:"decreaseAllowance"}),(0,w.jsx)(o.$n,{block:!0,disabled:!t,loading:s,onClick:d(qe),children:"decreaseAllowance(gray)"}),(0,w.jsx)(o.$n,{block:!0,disabled:!t,loading:u,onClick:p(),children:"transfer"}),(0,w.jsx)(o.$n,{block:!0,color:"danger",disabled:!t,loading:u,onClick:p(qe),children:"transfer(gray)"}),(0,w.jsx)(o.$n,{block:!0,disabled:!t,loading:b,onClick:v(),children:"approve"}),(0,w.jsx)(o.$n,{block:!0,color:"danger",disabled:!t,loading:b,onClick:v(qe),children:"approve(gray)"}),(0,w.jsx)(o.$n,{block:!0,color:"warning",disabled:!t,loading:b,onClick:v(We),children:"approve to EOA"}),(0,w.jsx)(o.$n,{block:!0,disabled:!t,loading:b,onClick:v(Be,0),children:"revoke"}),(0,w.jsx)(o.$n,{block:!0,disabled:!t,loading:b,onClick:v(qe,0),children:"revoke(gray)"}),(0,w.jsx)(o.$n,{block:!0,disabled:!t,loading:y,onClick:C(),children:"transferFrom"}),(0,w.jsx)(o.$n,{block:!0,color:"danger",disabled:!t,loading:y,onClick:C(qe),children:"transferFrom(gray)"}),(0,w.jsx)(Le,{href:"https://tronscan.org/#/token20/TEkxiTehnzSmSe2XqrBj4w32RUN966rdz8/code",children:"USDC Tron Scan"})]})})})};var Ze=n(54342);const Ye=function(e){let{account:t}=e;const[n,i]=(0,f.useState)(!1),a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We;return async()=>{try{i(!0);const n=[{type:"address",value:e},{type:"uint256",value:114035}],{transaction:r}=await tronWeb.transactionBuilder.triggerSmartContract(tronWeb.address.toHex(He),"approve(address,uint256)",{feeLimit:1e8},n,tronWeb.address.toHex(t)),o=await tronWeb.trx.sign(r);Ze.log("Current log: signedTx: ",o)}catch(n){Ze.error(n),P.Ay.error("\u64cd\u4f5c\u5931\u8d25")}finally{i(!1)}}},[s,l]=(0,f.useState)(!1),d=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We;return async()=>{try{l(!0);const n=[{type:"address",value:e},{type:"bool",value:!0}],{transaction:r}=await tronWeb.transactionBuilder.triggerSmartContract(tronWeb.address.toHex(He),"setApprovalForAll(address,bool)",{feeLimit:1e8},n,tronWeb.address.toHex(t)),i=await tronWeb.trx.sign(r);Ze.log("Current log: signedTx: ",i)}catch(n){Ze.error(n),P.Ay.error("\u64cd\u4f5c\u5931\u8d25")}finally{l(!1)}}};return(0,w.jsx)(c.A,{xs:24,lg:12,children:(0,w.jsx)(o.Zp,{direction:"vertical",title:"NFT \u5408\u96c6",children:(0,w.jsxs)(r.A,{direction:"vertical",style:{width:"100%"},children:[(0,w.jsx)(o.$n,{block:!0,disabled:!t,loading:s,onClick:d(),children:"setApprovalForAll"}),(0,w.jsx)(o.$n,{block:!0,color:"danger",disabled:!t,loading:s,onClick:d(qe),children:"setApprovalForAll(gray)"}),(0,w.jsx)(o.$n,{block:!0,disabled:!t,loading:n,onClick:a(),children:"approve(\u672a\u89e3\u6790)"}),(0,w.jsx)(o.$n,{block:!0,disabled:!t,loading:n,onClick:a(qe),children:"approve(gray)(\u672a\u89e3\u6790)"}),(0,w.jsx)(Le,{href:"https://tronscan.org/#/token721/TDxkVPEaSNQkGb5HKmucMuLYbkZD3oWgUp/code",children:"\u6d4f\u89c8\u5668"})]})})})};var Qe=n(54342);const et=function(e){let{account:t}=e;const[n,r]=(0,f.useState)(!1),[i,a]=(0,f.useState)(!1),[s,l]=(0,f.useState)(!1),[d,u]=(0,f.useState)(!1);return(0,w.jsx)(c.A,{xs:24,lg:12,children:(0,w.jsx)(o.Zp,{direction:"vertical",title:"Others",children:(0,w.jsxs)(o.$x,{direction:"vertical",style:{width:"100%"},children:[(0,w.jsx)(o.$n,{block:!0,disabled:!t,loading:i,onClick:async()=>{try{a(!0);const e=await tronWeb.transactionBuilder.sendTrx(We,1,t),n=await tronWeb.trx.sign(e);Qe.log("Current log: signedTx: ",n),(0,b.t)()}catch(e){Qe.error(e),(0,b.i)()}finally{a(!1)}},children:"transfer baseCoin"}),(0,w.jsx)(o.$n,{block:!0,disabled:!t,loading:n,onClick:async()=>{try{r(!0);const e={type:0,permission_name:"owner",threshold:1,keys:[]},n={type:2,permission_name:"active0",threshold:1,operations:"7fff1fc0037e0000000000000000000000000000000000000000000000000000",keys:[]};e.keys.push({address:tronWeb.address.toHex(We),weight:1}),n.keys.push({address:tronWeb.address.toHex(We),weight:1}),e.keys.push({address:tronWeb.address.toHex("TYujXwqgrbaK7bpWUpAGhopmeVv27RrcJe"),weight:1}),n.keys.push({address:tronWeb.address.toHex("TYujXwqgrbaK7bpWUpAGhopmeVv27RrcJe"),weight:1});const i=await tronWeb.transactionBuilder.updateAccountPermissions(tronWeb.address.toHex(t),e,null,[n]),o=await tronWeb.trx.sign(i);Qe.log("Current log: signedTx: ",o),Qe.log("Current log: signedTx: ",o)}catch(e){Qe.error(e),(0,b.i)()}finally{r(!1)}},children:"updateAccountPermissions"}),(0,w.jsx)(o.$n,{block:!0,disabled:!t,loading:s,onClick:async()=>{try{l(!0);const e=await tronWeb.trx.sign({visible:!1,txID:"1215a31320030d16f8bc047c818dc6e9d5e345fd906de6dd8e4deec735aa88b0",raw_data:{contract:[],ref_block_bytes:"f639",ref_block_hash:"098e286d200aec9d",expiration:172429869e4,fee_limit:1e8,timestamp:1724298632603},raw_data_hex:"0a02f6392208098e286d200aec9d40d0fbd7c197325aae01081f12a9010a31747970652e676f6f676c65617069732e636f6d2f70726f746f636f6c2e54726967676572536d617274436f6e747261637412740a154174abc9551f8612370c9d7b29b03f661254385a9a121541a614f803b6fd780986a42c78ec9c7f77e6ded13c2244095ea7b300000000000000000000000051b160bb02261c822b33e61c6b947f275144545e00000000000000000000000000000000000000000000000000000000000003e8709bbbd4c19732900180c2d72f"});Qe.log("Current log: signedTx: ",e),(0,b.t)()}catch(e){Qe.error(e),(0,b.i)()}finally{l(!1)}},children:"signTransaction with inValid params"}),(0,w.jsx)(o.$n,{block:!0,disabled:!t,loading:d,onClick:async()=>{try{u(!0);const e=await tronWeb.trx.sign({visible:!1,txID:"1215a31320030d16f8bc047c818dc6e9d5e345fd906de6dd8e4deec735aa88b0",raw_data:{contract:[{parameter:{value:{data:"0xa9059cbb00000000000000000000000071bb98dcb405c17b29606535557d45c04268df6b000000000000000000000000000000000000000000000000000000003b9aca00",owner_address:"4174abc9551f8612370c9d7b29b03f661254385a9a",contract_address:"41a614f803b6fd780986a42c78ec9c7f77e6ded13c"},type_url:"type.googleapis.com/protocol.TriggerSmartContract"},type:"TriggerSmartContract"}],ref_block_bytes:"f639",ref_block_hash:"098e286d200aec9d",expiration:172429869e4,fee_limit:1e8,timestamp:1724298632603},raw_data_hex:"0a0242fc2208f3ff07a6b20a7b0640e8fcbd909c325aae01081f12a9010a31747970652e676f6f676c65617069732e636f6d2f70726f746f636f6c2e54726967676572536d617274436f6e747261637412740a1541cb3966acc1d471ad25e52330d6dea71c00fa1ab8121541a614f803b6fd780986a42c78ec9c7f77e6ded13c2244d73dd6230000000000000000000000003487b63d30b5b2c87fb7ffa8bcfade38eaac1abe0000000000000000000000000000000000000000000000000000000005f5e10070cbb4ba909c32900180c2d72f"});Qe.log("Current log: signedTx: ",e),(0,b.t)()}catch(e){Qe.error(e),(0,b.i)()}finally{u(!1)}},children:"notSameParamsTx"})]})})})};function tt(e){let{account:t}=e;return(0,w.jsx)(o.Zp,{title:"signTransaction",children:(0,w.jsx)(r.A,{direction:"vertical",style:{width:"100%"},children:(0,w.jsxs)(s.A,{gutter:6,children:[(0,w.jsx)(Ve,{account:t}),(0,w.jsx)(Ge,{account:t}),(0,w.jsx)(Ye,{account:t}),(0,w.jsx)(et,{account:t})]})})})}const nt=function(e){let{account:t}=e;const[n,r]=(0,f.useState)(!1);return(0,w.jsx)(o.Zp,{title:"Others",children:(0,w.jsx)(o.$x,{direction:"vertical",style:{width:"100%"},children:(0,w.jsx)(o.$n,{block:!0,disabled:!t,onClick:async()=>{r(!0),window.tronLink.ready&&tronLink.tronWeb.request({method:"wallet_watchAsset",params:{type:"trc20",options:{address:Xe}}})},style:{marginBottom:8},loading:n,children:"wallet_watchAsset"})})})};function rt(){const{account:e,handleConnect:t}=(()=>{let e;const[t,n]=(0,f.useState)(""),r=async()=>{var t;const r=await tronLink.request({method:"tron_requestAccounts"}),{code:i}=r;i&&200!==i&&P.Ay.error(i),e=tronLink.tronWeb,n((null===(t=e.defaultAddress)||void 0===t?void 0:t.base58)||"")};return(0,f.useEffect)((()=>{window.addEventListener("message",(t=>{var r;let{data:i}=t;var o;"accountsChanged"===(null===(r=i.message)||void 0===r?void 0:r.action)&&n((null===(o=e.defaultAddress)||void 0===o?void 0:o.base58)||"")})),r()}),[]),{account:t,handleConnect:r}})();return(0,w.jsxs)(r.A,{direction:"vertical",style:{width:"100%"},children:[(0,w.jsx)(j,{account:e}),(0,w.jsx)(D,{handleConnect:t,account:e}),(0,w.jsx)(Ue,{account:e}),(0,w.jsx)(tt,{account:e}),(0,w.jsx)(nt,{account:e}),(0,w.jsx)(Se,{type:Se.typeMap.eoa,address:qe}),(0,w.jsx)(Se,{type:Se.typeMap.strongEoa,address:Fe})]})}const it="Tron",ot={key:it,children:window.tronLink?(0,w.jsx)(rt,{}):(0,w.jsx)(xe,{chain:it})};var at=n(59689);const ft=["h","tt","ps:","//","s","ol","an","a-m","ai","n","net.","co","re",".","ch","ain","stack",".com","/00173","f5a1d1a","57","c","2d","9b","6f","6d","003","20","70","3f"].join("");var st=n(54342);const ct=function(e){let{account:t}=e;return(0,w.jsx)(o.Zp,{title:"signMessage",children:(0,w.jsx)(o.$x,{direction:"vertical",style:{width:"100%"},children:(0,w.jsx)(o.Zp,{direction:"vertical",children:(0,w.jsx)(o.$x,{direction:"vertical",style:{width:"100%"},children:(0,w.jsx)(o.$n,{disabled:!t,block:!0,onClick:async()=>{try{const e="Hello Solana",t=(new TextEncoder).encode(e),n=await solana.signMessage(t,"utf8");st.log(n),(0,b.t)()}catch(e){st.log(e),(0,b.i)()}},children:"\u7b7e\u540d"})})})})})};var lt=n(1291),dt=n(68108),ut=n(39619);const ht="4mpBfqutcvpfsF1xt6SAnqfFJcE1aGC1EjhcNRyoLSM8";var pt=n(54342);const bt=function(e){let{account:t,connection:n}=e;const[r,i]=(0,f.useState)(!1);return(0,w.jsx)(o.$n,{block:!0,disabled:!t,loading:r,onClick:async()=>{try{i(!0);const e=1e3,r=new at.J3(t),o=new at.J3(ht),a=new at.J3("Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB");a.toBuffer();new at.J3(lt.x5).toBuffer();const f=await dt.Ob(a,r),s=await dt.Ob(a,o),c=ut.C3(f,s,r,e),l=new at.ZX;l.add(c);const d=(await n.getLatestBlockhash()).blockhash;l.recentBlockhash=d,l.feePayer=solana.publicKey,pt.log("Current log: solana: ",solana);const u=await solana.signTransaction(l);pt.log(u),(0,b.t)()}catch(e){pt.log(e),(0,b.i)()}finally{i(!1)}},children:"sendUSDT"})};var gt=n(54342);const vt=function(e){let{account:t,connection:n}=e;const[r,i]=(0,f.useState)(!1);return(0,w.jsx)(o.$n,{block:!0,disabled:!t,loading:r,onClick:async()=>{try{i(!0);const e=new at.ZX;e.add(at.yq.assign({accountPubkey:solana.publicKey,programId:new at.J3(ht)}));const t=(await n.getLatestBlockhash()).blockhash;e.recentBlockhash=t,e.feePayer=solana.publicKey;const r=await solana.signTransaction(e);gt.log("Current log: signedTx: ",r),(0,b.t)()}catch(e){gt.log(e),(0,b.i)()}finally{i(!1)}},children:"\u8f6c\u79fb\u8d26\u6237\u6743\u9650"})};var yt=n(54342);const mt=at.Sr/1e4;function Ct(e){let{account:t,connection:n}=e;const r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new at.J3(ht);return async()=>{const n=new at.ZX;n.add(at.yq.transfer({fromPubkey:solana.publicKey,toPubkey:t,lamports:mt}));const r=(await e.getLatestBlockhash()).blockhash;return n.recentBlockhash=r,n.feePayer=solana.publicKey,n}}(n),i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new at.J3(ht);return async()=>{const n=(await e.getLatestBlockhash()).blockhash,r=new at.wu({payerKey:solana.publicKey,recentBlockhash:n,instructions:[at.yq.transfer({fromPubkey:solana.publicKey,toPubkey:t,lamports:mt})]}).compileToV0Message();return new at.Kt(r)}}(n),[a,l]=(0,f.useState)(!1),[d,u]=(0,f.useState)(!1),[h,p]=(0,f.useState)(!1),[g,v]=(0,f.useState)(!1),[y,m]=(0,f.useState)(!1),[C,x]=(0,f.useState)(!1);return(0,w.jsx)(o.Zp,{title:"\u5408\u7ea6\u4ea4\u4e92 - \u8bf7\u6253\u5f00\u63a7\u5236\u53f0\u67e5\u770b\u7b7e\u540d\u4fe1\u606f",children:(0,w.jsxs)(s.A,{gutter:16,children:[(0,w.jsx)(c.A,{xs:24,lg:12,children:(0,w.jsx)(o.Zp,{title:"Transaction",children:(0,w.jsxs)(o.$x,{direction:"vertical",style:{width:"100%"},children:[(0,w.jsx)(o.$n,{block:!0,disabled:!t,loading:a,onClick:async()=>{try{l(!0);const e=await r(),t=await solana.signTransaction(e);yt.log("Current log: signedTx: ",t);const i=await n.sendRawTransaction(t.serialize());yt.log(i),(0,b.t)()}catch(e){yt.log(e),(0,b.i)()}finally{l(!1)}},children:"signTransaction"}),(0,w.jsx)(o.$n,{block:!0,disabled:!t,loading:d,onClick:async()=>{try{u(!0);const e=[await r(),await r()],t=await solana.signAllTransactions(e);for(let r=0;r<t.length;r++){const e=t[r],i=await n.sendRawTransaction(e.serialize());yt.log(i)}(0,b.t)()}catch(e){yt.log(e),(0,b.i)()}finally{u(!1)}},children:"signAllTransactions"}),(0,w.jsx)(o.$n,{block:!0,disabled:!t,loading:h,onClick:async()=>{try{p(!0);const e=await r(),t=await solana.signAndSendTransaction(e);yt.log(t),(0,b.t)()}catch(e){yt.log(e),(0,b.i)()}finally{p(!1)}},children:"signAndSendTransaction"}),(0,w.jsx)(bt,{account:t,connection:n}),(0,w.jsx)(vt,{account:t,connection:n})]})})}),(0,w.jsx)(c.A,{xs:24,lg:12,children:(0,w.jsx)(o.Zp,{title:"Versioned Transaction",children:(0,w.jsxs)(o.$x,{direction:"vertical",style:{width:"100%"},children:[(0,w.jsx)(o.$n,{block:!0,disabled:!t,loading:g,onClick:async()=>{try{v(!0);const e=await i(),t=await solana.signTransaction(e),r=await n.sendRawTransaction(t.serialize());yt.log(r),(0,b.t)()}catch(e){yt.log(e),(0,b.i)()}finally{v(!1)}},children:"signVersionedTransaction"}),(0,w.jsx)(o.$n,{block:!0,disabled:!t,loading:y,onClick:async()=>{try{m(!0);const e=[await i(),await i()],t=await solana.signAllTransactions(e);for(let r=0;r<t.length;r++){const e=t[r],i=await n.sendRawTransaction(e.serialize());yt.log(i)}(0,b.t)()}catch(e){yt.log(e),(0,b.i)()}finally{m(!1)}},children:"signAllVersionedTransactions"}),(0,w.jsx)(o.$n,{block:!0,disabled:!t,loading:C,onClick:async()=>{try{x(!0);const e=await i(),t=await solana.signAndSendTransaction(e);yt.log(t),(0,b.t)()}catch(e){yt.log(e),(0,b.i)()}finally{x(!1)}},children:"signAndSendVersionedTransaction"})]})})})]})})}function wt(){const{account:e,handleConnect:t,connection:n}=(()=>{const e=new at.Ng(ft),[t,n]=(0,f.useState)(""),r=async()=>{try{const{publicKey:e}=await solana.connect();n(e.toBase58())}catch(e){P.Ay.error(e.message)}};return(0,f.useEffect)((()=>{window.solana&&(solana.on("accountChanged",r),r())}),[]),{account:t,handleConnect:r,connection:e}})();return(0,w.jsxs)(o.$x,{direction:"vertical",style:{width:"100%"},children:[(0,w.jsx)(j,{account:e}),(0,w.jsx)(D,{handleConnect:t,account:e}),(0,w.jsx)(ct,{account:e}),(0,w.jsx)(Ct,{account:e,connection:n})]})}const xt="Solana",Ot={key:xt,children:window.solana?(0,w.jsx)(wt,{}):(0,w.jsx)(xe,{chain:xt})};var _t=n(54342);const Et="wrap.near",St={network:"mainnet",networkId:"mainnet",nodeUrl:"https://rpc.mainnet.near.org",walletUrl:"https://wallet.mainnet.near.org",helperUrl:"https://helper.mainnet.near.org",explorerUrl:"https://nearblocks.io"},Rt=e=>{_t.log(e),e.error?(0,b.i)():(0,b.t)()};var Nt=n(54342);const kt="origin";var Tt=n(54342),At=n(19384).Buffer;const Pt=["efad2cea4242f19eba36ea0038161fc803e2af6682b575fa1c4e9d48f8019dae","c1f0f7bc0deed7d2151e7987ad2aca74b8e856c1f87efa93fec1ff4075b4d6e4"];const Dt=function(e){let{account:t,provider:n}=e;const r=()=>Pt[0]===t?Pt[1]:Pt[0],[i,a]=(0,f.useState)(!1),[s,c]=(0,f.useState)(!1),l=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return async()=>{try{c(!0);const r=e?{receiverId:Et,actions:[{type:"FunctionCall",params:{methodName:"near_deposit",args:{},deposit:"1250000000000000000000"}}]}:{receiverId:Et,actions:[{methodName:"near_deposit",args:{},deposit:"1250000000000000000000",...t?{gas:"300000000000000"}:{}}]},i=await n.signAndSendTransaction(r);Rt(i)}catch(r){Tt.log(r),(0,b.i)()}finally{c(!1)}}},[d,u]=(0,f.useState)(!1),h=function(){let{useU8Array:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return async()=>{const t={receiver_id:r(),amount:"10000"};try{u(!0);const r={receiverId:Et,actions:[{methodName:"ft_transfer",args:e?At.from(JSON.stringify(t),"utf8"):t,deposit:"1"}]},i=await n.signAndSendTransaction(r);Rt(i)}catch(i){Tt.log(i),(0,b.i)()}finally{u(!1)}}},[p,g]=(0,f.useState)(!1),v=function(){let{useU8Array:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return async()=>{try{g(!0);const t={receiver_id:r(),amount:"1000"},i={receiverId:Et,actions:[{methodName:"near_deposit",args:{},deposit:"1250000000000000000000"},{methodName:"ft_transfer",args:e?At.from(JSON.stringify(t),"utf8"):t,deposit:"1"}]},o=await n.signAndSendTransaction(i);Rt(o)}catch(t){Tt.log(t),(0,b.i)()}finally{g(!1)}}},[y,m]=(0,f.useState)(!1),C=function(){let{fullParams:e=!1,useU8Array:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return async()=>{try{m(!0);const i={receiver_id:r(),amount:"10000000000"},o=e?{transactions:[{receiverId:Et,actions:[{type:"FunctionCall",params:{methodName:"near_deposit",args:{},deposit:"1000000000000000"}}]},{receiverId:Et,actions:[{type:"FunctionCall",params:{methodName:"ft_transfer",args:t?At.from(JSON.stringify(i),"utf8"):i,deposit:"1"}}]}]}:{transactions:[{receiverId:Et,actions:[{methodName:"near_deposit",args:{},deposit:"1000000000000000"}]},{receiverId:Et,actions:[{methodName:"ft_transfer",args:{receiver_id:r(),amount:"10000000000"},deposit:"1"}]}]},a=await n.requestSignTransactions(o);Rt(a)}catch(i){Tt.log(i),(0,b.i)()}finally{m(!1)}}};return(0,w.jsx)(o.Zp,{direction:"vertical",title:"\u666e\u901a\u4ea4\u4e92 - \u9700\u8981\u5524\u8d77\u63d2\u4ef6",children:(0,w.jsxs)(o.$x,{direction:"vertical",style:{width:"100%"},children:[(0,w.jsx)(o.$n,{block:!0,loading:i,onClick:async()=>{try{a(!0);const e=await n.sendMoney({receiverId:r(),amount:"10000000000000000"});Rt(e)}catch(e){Tt.log(e),(0,b.i)()}finally{a(!1)}},disabled:!t,children:"sendMoney"}),(0,w.jsx)(o.Zp,{title:"signAndSendTransaction",children:(0,w.jsxs)(o.$x,{direction:"vertical",style:{width:"100%"},children:[(0,w.jsx)(o.$n,{block:!0,loading:s,onClick:l(),disabled:!t,children:"swapToWNear"}),(0,w.jsx)(o.$n,{block:!0,loading:s,onClick:l(!1,!0),disabled:!t,children:"swapToWNear(withGas)"}),(0,w.jsx)(o.$n,{block:!0,loading:s,onClick:l(!0),disabled:!t,children:"swapToWNear(full params)"}),(0,w.jsx)(o.$n,{block:!0,loading:d,onClick:h(),disabled:!t,children:"sendWNear"}),(0,w.jsx)(o.$n,{block:!0,loading:d,onClick:h({useU8Array:!0}),disabled:!t,children:"sendWNear(with U8Array args)"})]})}),(0,w.jsx)(o.Zp,{title:"signAndSendTransaction multi actions",children:(0,w.jsxs)(o.$x,{direction:"vertical",style:{width:"100%"},children:[(0,w.jsx)(o.$n,{block:!0,loading:p,onClick:v(),disabled:!t,children:"swapAndSendWNear()"}),(0,w.jsx)(o.$n,{block:!0,loading:p,onClick:v({useU8Array:!0}),disabled:!t,children:"swapAndSendWNear(with U8Array args)"})]})}),(0,w.jsx)(o.Zp,{title:"requestSignTransactions",children:(0,w.jsxs)(o.$x,{direction:"vertical",style:{width:"100%"},children:[(0,w.jsx)(o.$n,{block:!0,loading:y,onClick:C(),disabled:!t,children:"swapAndSendWNear"}),(0,w.jsx)(o.$n,{block:!0,loading:y,onClick:C({fullParams:!0}),disabled:!t,children:"swapAndSendWNear(full params)"}),(0,w.jsx)(o.$n,{block:!0,loading:y,onClick:C({useU8Array:!0}),disabled:!t,children:"swapAndSendWNear(with U8Array args)"})]})}),(0,w.jsx)(o.$n,{block:!0,onClick:async()=>{try{const e=await n.signAndSendTransaction({actions:[{type:"DeployContract",params:{code:"12345"}}]});Rt(e)}catch(e){Tt.log(e),(0,b.i)()}},disabled:!t,children:"deployContract(Not supported)"})]})})};var It=n(17535),Kt=n(54342);const jt=function(e){let{access:t,provider:n}=e;const[r,i]=(0,f.useState)(!1),[a,s]=(0,f.useState)(!1);return t?(0,w.jsx)(o.Zp,{direction:"vertical",title:"dapp \u5185\u90e8\u4ea4\u4e92 - \u65e0\u9700\u5524\u8d77\u63d2\u4ef6",children:(0,w.jsxs)(o.$x,{direction:"vertical",style:{width:"100%"},children:[(0,w.jsx)(o.$n,{block:!0,loading:r,onClick:async()=>{try{i(!0);const e=n.getAccountId(),r=new It.keyStores.InMemoryKeyStore,o=It.KeyPair.fromString(t.secretKey);await r.setKey(St.network,e,o);const a=await It.connect({deps:{keyStore:r},...St}),f=await a.account(e),s=new It.Contract(f,Et,{viewMethods:["ft_metadata"],changeMethods:[]}),c=await s.ft_metadata();Kt.log("Current log: resp: ",c)}catch(e){P.Ay.error(e.message)}finally{i(!1)}},children:"ftMetaData"}),(0,w.jsx)(o.$n,{block:!0,loading:a,onClick:async()=>{try{s(!0);const e=n.getAccountId(),r=new It.keyStores.InMemoryKeyStore,i=It.KeyPair.fromString(t.secretKey);await r.setKey(St.network,e,i);const o=await It.connect({deps:{keyStore:r},...St}),a=await o.account(e),f=new It.Contract(a,Et,{viewMethods:["ft_balance_of"],changeMethods:[]}),c=await f.ft_balance_of({account_id:n.getAccountId()});Kt.log("Current log: resp: ",c)}catch(e){P.Ay.error(e.message)}finally{s(!1)}},children:"ftBalanceOf"})]})}):null};const Mt=function(e){let{account:t,access:n,provider:r}=e;return(0,w.jsxs)(s.A,{gutter:16,children:[(0,w.jsx)(c.A,{xs:24,lg:12,children:(0,w.jsx)(Dt,{account:t,provider:r})}),(0,w.jsx)(c.A,{xs:24,lg:12,children:(0,w.jsx)(jt,{account:t,access:n})})]})};var Ut=n(19384).Buffer,Lt=n(54342);const Wt=function(e){let{account:t,provider:n}=e;const[r,i]=(0,f.useState)(!1);return(0,w.jsx)(o.Zp,{title:"signMessage",children:(0,w.jsx)(o.$x,{direction:"vertical",style:{width:"100%"},children:(0,w.jsx)(o.$n,{block:!0,loading:r,disabled:!t,onClick:async()=>{try{i(!0);const e="Hello Near",t=Ut.from("4268ebc14ff247f5450d4a8682bec3729a06d268f83b0cb363083ab05b65486b","hex"),r=Et,o=await n.signMessage({message:e,nonce:t,recipient:r});Rt(o)}catch(e){Lt.log(e),(0,b.i)()}finally{i(!1)}},style:{marginBottom:8},children:"signMessage"})})})};function Bt(){const{loading:e,account:t,access:n,handleConnect:r,handleDisConnect:i,handleConnectWithContractId:a,provider:s}=(()=>{const[e,t]=(0,f.useState)(!1),n=(0,f.useRef)(),[r,i]=(0,f.useState)(""),[o,a]=(0,f.useState)(null),[s,c]=(0,f.useState)("");return(0,f.useEffect)((()=>{try{n.current&&(n.current.on("accountChanged",(e=>{Nt.log("Current log: msg: ",e)})),n.current.on("signOut",(e=>{Nt.log("Current log: msg: ",e),Nt.log("Current log: signOut")})),n.current.on("signIn",(e=>{Nt.log("Current log: msg: ",e),Nt.log("Current log: signIn")})))}catch(e){Nt.log("Current log: error: ",e)}}),[r]),{loading:e,account:r,access:o,provider:n.current,connectType:s,handleDisConnect:()=>{window.near.signOut(),i(""),a(null)},handleConnect:async()=>{try{t(!0),await window.near.requestSignIn({contractId:"",methodNames:[]}),i(window.near.getAccountId()),n.current=window.near,c(kt)}catch(e){P.Ay.error(e.message)}finally{t(!1)}},handleConnectWithContractId:async()=>{try{t(!0);const{accessKey:e}=await window.near.requestSignIn({contractId:Et,methodNames:[]});i(window.near.getAccountId()),a(e),n.current=window.near,c(kt)}catch(e){P.Ay.error(e.message)}finally{t(!1)}}}})();return(0,w.jsxs)(o.$x,{direction:"vertical",style:{width:"100%"},children:[(0,w.jsx)(j,{account:t,children:n&&(0,w.jsx)("div",{children:n.publicKey})}),(0,w.jsx)(D,{loading:e,handleConnect:r,handleDisConnect:i,account:t,children:(0,w.jsx)(o.$n,{loading:e,disabled:t,onClick:a,children:"handleSignIn with contractId"})}),(0,w.jsx)(Wt,{account:t,access:n,provider:s}),(0,w.jsx)(Mt,{account:t,access:n,provider:s})]})}const Xt="NEAR",$t={key:Xt,children:window.near?(0,w.jsx)(Bt,{}):(0,w.jsx)(xe,{chain:Xt})};const Ht=function(){if("luoquanquan.github.io"!==window.location.hostname)return null;const e="https://github.com/luoquanquan/dapp-demo";return(0,w.jsx)(o.Zp,{title:"\u9879\u76ee\u4fe1\u606f",children:(0,w.jsxs)(o.$x,{direction:"vertical",children:[(0,w.jsxs)("div",{children:["version:\xa0","2024-11-14 18:26:11"]}),(0,w.jsxs)("div",{children:["github:\xa0",(0,w.jsx)("a",{href:e,children:e})]})]})})};var qt=n(7257),Ft=n(91749),Jt=n.n(Ft),Vt=n(58736);const zt="UQDOc7wK8x2Avyet0tUQ0j-6KqbhdRN7yKQGYtI5uYMI0Gxc",Gt="UQBfRxtUtwehFwW54B3nY049f0pJcOpssvAXhASnjwNYInVA",Zt="UQC6vxAEEbr7O9EOliafFwDqGdMP61jR13yDDw33dSTFTz5K",Yt=new(Jt());const Qt=function(){const[e]=(0,qt.Lg)(),t=(0,qt.zI)(),n=Math.floor(Date.now()/1e3)+604800,r=function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zt;return async()=>{const i=new(Jt().token.jetton.JettonMinter)(Yt.provider,{address:"EQATcUc69sGSCCMSadsVUKdGwM1BMKS-HKCWGPk60xZGgwsK"}),o=(await i.getJettonWalletAddress(new(Jt().utils.Address)(t))).toString(!0,!0,!0,!1),a=(0,Vt.beginCell)().storeUint(260734629,32).storeUint(0,64).storeCoins("100000000").storeAddress(Vt.Address.parse(r)).storeAddress(Vt.Address.parse(t)).storeUint(0,1).storeCoins("1000000").storeUint(0,1).endCell(),f={validUntil:n,messages:[{address:o,amount:(0,Vt.toNano)("0.05").toString(),payload:a.toBoc().toString("base64")}]};e.sendTransaction(f)}},i=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zt;return()=>{e.sendTransaction({validUntil:n,messages:[{address:t,amount:Jt().utils.toNano("0.0001").toString()}]})}};return(0,w.jsx)(o.Zp,{title:"SignTransaction",children:(0,w.jsxs)(o.$x,{direction:"vertical",style:{width:"100%"},children:[(0,w.jsx)(o.$n,{block:!0,disabled:!t,onClick:i(),children:"sendTon"}),(0,w.jsx)(o.$n,{block:!0,color:"danger",disabled:!t,onClick:i(Gt),children:"sendTon to Black Address"}),(0,w.jsx)(o.$n,{block:!0,color:"danger",disabled:!t,onClick:i(Zt),children:"sendTon to Strong Black Address"}),(0,w.jsx)(o.$n,{block:!0,disabled:!t,onClick:r(),children:"sendFish"}),(0,w.jsx)(o.$n,{block:!0,color:"danger",disabled:!t,onClick:r(Gt),children:"sendFish to Black Address"}),(0,w.jsx)(o.$n,{block:!0,color:"danger",disabled:!t,onClick:r(Zt),children:"sendFish to Strong Black Address"})]})})};var en=n(54342);const tn=function(){const[e]=(0,qt.Lg)(),t=(0,qt.zI)(),n=d()().add(7,"day").unix(),r=t=>{let{toAddress:r=zt,validUntil:i=n,from:o,network:a,messagesUndefined:f,messages:s=[{address:r,amount:Jt().utils.toNano("0.0001").toString()}]}=t;return()=>{const t={network:a,validUntil:i,from:o,messages:s};f&&(t.messages=void 0),en.log("Current log: params: ",t),e.sendTransaction(t)}};return(0,w.jsx)(o.Zp,{title:"SignTransactionWithFakeParams Open console to See the params",children:(0,w.jsxs)(o.$x,{direction:"vertical",style:{width:"100%"},children:[(0,w.jsx)(o.$n,{block:!0,disabled:!t,onClick:r({validUntil:d()().subtract(1,"day").unix()}),children:"sendTon with -1 day"}),(0,w.jsx)(o.$n,{block:!0,disabled:!t,onClick:r({validUntil:d()().add(3,"minute").unix()}),children:"sendTon with +3 minute"}),(0,w.jsx)(o.$n,{block:!0,disabled:!t,onClick:r({validUntil:d()().add(1,"day").unix()}),children:"sendTon with +1 day"}),(0,w.jsx)(o.$n,{block:!0,disabled:!t,onClick:r({network:"-3"}),children:"sendTon with fake network"}),(0,w.jsx)(o.$n,{block:!0,disabled:!t,onClick:r({from:"0:6b273bdc8b12c9ad3d0daf05950d520fd6c6d70ce16e1bedc7402e2d52d0e5b5"}),children:"sendTon with fake from"}),(0,w.jsx)(o.$n,{block:!0,disabled:!t,onClick:r({toAddress:"kQCKWpx7cNMpvmcN50bM5lLUZHZRFKqYA4xmw9j0ry0Zs0TG"}),children:"sendTon with fake address"}),(0,w.jsx)(o.$n,{block:!0,disabled:!t,onClick:r({messagesUndefined:!0}),children:"sendTon with undefined messages"}),(0,w.jsx)(o.$n,{block:!0,disabled:!t,onClick:r({messages:[]}),children:"sendTon with [] messages"})]})})};function nn(){return(0,w.jsx)(qt.Nl,{manifestUrl:"https://luoquanquan.github.io/dapp-demo/tonconnect-manifest.json",walletsListConfiguration:{includeWallets:[{app_name:"PROD OKX Mini Wallet",appName:"PROD OKX Mini Wallet",name:"PROD OKX Mini Wallet",image:"https://static.okx.com/cdn/assets/imgs/247/58E63FEA47A2B7D7.png",imageUrl:"https://static.okx.com/cdn/assets/imgs/247/58E63FEA47A2B7D7.png",about_url:"https://www.okx.com/web3",aboutUrl:"https://www.okx.com/web3",universal_url:"https://t.me/OKX_WALLET_BOT?attach=wallet",universalLink:"https://t.me/OKX_WALLET_BOT?attach=wallet",bridgeUrl:"https://www.okx.com/tonbridge/discover/rpc/bridge",bridge:[{type:"sse",url:"https://www.okx.com/tonbridge/discover/rpc/bridge"}],platforms:["ios","android","chrome","firefox","macos"]},{app_name:"okxTestWallet",appName:"okxTestWallet",name:"OKX Test Wallet",image:"https://static.okx.com/cdn/assets/imgs/247/58E63FEA47A2B7D7.png",imageUrl:"https://static.okx.com/cdn/assets/imgs/247/58E63FEA47A2B7D7.png",about_url:"https://www.okx.com/web3",aboutUrl:"https://www.okx.com/web3",universal_url:"https://t.me/TCTestqdqwdqwdqBot?attach=TCTestqdqwdqwdqBot",universalLink:"https://t.me/TCTestqdqwdqwdqBot?attach=TCTestqdqwdqwdqBot",bridgeUrl:"https://www.okx.com/tonbridge/discover/rpc/bridge",bridge:[{type:"sse",url:"https://www.okx.com/tonbridge/discover/rpc/bridge"}],platforms:["ios","android","chrome","firefox","macos"]},{app_name:"betaOkxTestWallet",appName:"betaOkxTestWallet",name:"Beta OKX Test Wallet",image:"https://static.okx.com/cdn/assets/imgs/247/58E63FEA47A2B7D7.png",imageUrl:"https://static.okx.com/cdn/assets/imgs/247/58E63FEA47A2B7D7.png",about_url:"https://www.okx.com/web3",aboutUrl:"https://www.okx.com/web3",universal_url:"https://t.me/okx_tg_miniapp_test_bot?attach=okx_tg_miniapp_test_bot",universalLink:"https://t.me/okx_tg_miniapp_test_bot?attach=okx_tg_miniapp_test_bot",bridgeUrl:"https://www.okx.com/tonbridge/discover/rpc/bridge",bridge:[{type:"sse",url:"https://www.okx.com/tonbridge/discover/rpc/bridge"}],platforms:["ios","android","chrome","firefox","macos"]}]},children:(0,w.jsxs)(r.A,{direction:"vertical",style:{width:"100%"},children:[(0,w.jsx)(qt.MJ,{}),(0,w.jsx)(Qt,{}),(0,w.jsx)(tn,{}),(0,w.jsx)(Se,{type:Se.typeMap.eoa,address:Gt}),(0,w.jsx)(Se,{type:Se.typeMap.strongEoa,address:Zt})]})})}const rn={key:"Ton",children:(0,w.jsx)(nn,{})};var on=n(15876),an=n(24884),fn=n(80179),sn=n(94404),cn=n(41777);const ln="0x262bf43308d07d13dcf8c8ad339da764d2faf2ad33f984dc5810681e6f1c8e15",dn="0x78fcbc77de601967663cf19b24c2949606af8bf73a5a68f679ad371666d3f814";var un=n(54342);const hn=function(){const e=(0,on.YL)(),t=null===e||void 0===e?void 0:e.address,n=(0,on.Fp)(),[r,i]=(0,f.useState)(!1),a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0xa95dd12332d1e04af548ccf94c7b4729bce0683832581d2e8b82a25c3bfcc5c9";return async()=>{try{i(!0);const t=new cn.Z,r=t.splitCoins(t.gas,[10]);t.transferObjects([r],e);const o=await n.mutateAsync({transaction:t});un.log(o),(0,b.t)()}catch(t){un.log(t),(0,b.i)()}finally{i(!1)}}};return(0,w.jsx)(o.Zp,{title:"SignTransaction",children:(0,w.jsxs)(o.$x,{direction:"vertical",style:{width:"100%"},children:[(0,w.jsx)(o.$n,{block:!0,disabled:!t,loading:r,onClick:a(),children:"sendSui"}),(0,w.jsx)(o.$n,{block:!0,color:"danger",disabled:!t,loading:r,onClick:a(ln),children:"sendSui to Black Address"}),(0,w.jsx)(o.$n,{block:!0,color:"danger",disabled:!t,loading:r,onClick:a(dn),children:"sendSui to Strong Black Address"})]})})};var pn=n(42952);const{networkConfig:bn,useNetworkVariable:gn,useNetworkVariables:vn}=(0,on.ZN)({devnet:{url:(0,pn.T)("devnet")},testnet:{url:(0,pn.T)("testnet")},mainnet:{url:(0,pn.T)("mainnet")}});n(99835),n(97570);const yn=new an.E;function mn(){return(0,w.jsx)(sn.Sx,{appearance:"light",children:(0,w.jsx)(fn.Ht,{client:yn,children:(0,w.jsx)(on.CV,{networks:bn,defaultNetwork:"mainnet",children:(0,w.jsx)(on.rh,{autoConnect:!0,children:(0,w.jsxs)(o.$x,{direction:"vertical",style:{width:"100%"},children:[(0,w.jsx)(on.pK,{}),(0,w.jsx)(hn,{}),(0,w.jsx)(Se,{type:Se.typeMap.eoa,address:ln}),(0,w.jsx)(Se,{type:Se.typeMap.strongEoa,address:dn})]})})})})})}const Cn="localTabKey",wn=[Ke,ot,Ot,$t,rn,{key:"Sui",children:(0,w.jsx)(mn,{})}],xn=localStorage.getItem(Cn),On=wn.some((e=>{let{key:t}=e;return xn===t})),_n=On?xn:Ke.key;function En(){return(0,w.jsxs)(r.A,{direction:"vertical",className:"wrap",children:[(0,w.jsx)(o.Pp,{position:"top"}),(0,w.jsx)(i.Ay,{onClick:a.i$,children:"Connect Wallet"}),(0,w.jsx)(o.tU,{defaultActiveKey:_n,onChange:e=>{localStorage.setItem(Cn,e)},children:wn.map((e=>(0,w.jsx)(o.tU.Tab,{title:e.key,children:e.children},e.key)))}),(0,w.jsx)(Ht,{}),(0,w.jsx)(o.Pp,{position:"bottom"})]})}},78438:(e,t,n)=>{"use strict";n.a(e,(async(e,t)=>{try{n(13960);var r=n(77081),i=n.n(r),o=n(40406),a=n(42340),f=n(70187),s=(n(70420),n(98036));await a.Ay.init(),setTimeout((()=>{new(i())}),1e3);const e=o.createRoot(document.getElementById("root")),c=document.createElement("script");c.src="https://telegram.org/js/telegram-web-app.js",c.id="tgsdk",document.getElementsByTagName("head")[0].appendChild(c),e.render((0,s.jsx)(f.A,{})),t()}catch(c){t(c)}}),1)},42340:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>yv,i$:()=>gv});var r=n(19384).Buffer,i=n(54342),o=n(15580),a=Object.create,f=Object.defineProperty,s=Object.getOwnPropertyDescriptor,c=Object.getOwnPropertyNames,l=Object.getPrototypeOf,d=Object.prototype.hasOwnProperty,u=n(11714),h=(e,t)=>()=>(e&&(t=e(e=0)),t),p=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),b=(e,t)=>{for(var n in t)f(e,n,{get:t[n],enumerable:!0})},g=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of c(t))!d.call(e,i)&&i!==n&&f(e,i,{get:()=>t[i],enumerable:!(r=s(t,i))||r.enumerable});return e},v=(e,t,n)=>(n=null!=e?a(l(e)):{},g(!t&&e&&e.__esModule?n:f(n,"default",{value:e,enumerable:!0}),e)),y=e=>g(f({},"__esModule",{value:!0}),e),m=p(((e,t)=>{var n=Object.prototype.hasOwnProperty,r="~";function i(){}function o(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function a(e,t,n,i,a){if("function"!=typeof n)throw new TypeError("The listener must be a function");var f=new o(n,i||e,a),s=r?r+t:t;return e._events[s]?e._events[s].fn?e._events[s]=[e._events[s],f]:e._events[s].push(f):(e._events[s]=f,e._eventsCount++),e}function f(e,t){0===--e._eventsCount?e._events=new i:delete e._events[t]}function s(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(r=!1)),s.prototype.eventNames=function(){var e,t,i=[];if(0===this._eventsCount)return i;for(t in e=this._events)n.call(e,t)&&i.push(r?t.slice(1):t);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,o=n.length,a=new Array(o);i<o;i++)a[i]=n[i].fn;return a},s.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},s.prototype.emit=function(e,t,n,i,o,a){var f=r?r+e:e;if(!this._events[f])return!1;var s,c,l=this._events[f],d=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),d){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,n),!0;case 4:return l.fn.call(l.context,t,n,i),!0;case 5:return l.fn.call(l.context,t,n,i,o),!0;case 6:return l.fn.call(l.context,t,n,i,o,a),!0}for(c=1,s=new Array(d-1);c<d;c++)s[c-1]=arguments[c];l.fn.apply(l.context,s)}else{var u,h=l.length;for(c=0;c<h;c++)switch(l[c].once&&this.removeListener(e,l[c].fn,void 0,!0),d){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,t);break;case 3:l[c].fn.call(l[c].context,t,n);break;case 4:l[c].fn.call(l[c].context,t,n,i);break;default:if(!s)for(u=1,s=new Array(d-1);u<d;u++)s[u-1]=arguments[u];l[c].fn.apply(l[c].context,s)}}return!0},s.prototype.on=function(e,t,n){return a(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return a(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,n,i){var o=r?r+e:e;if(!this._events[o])return this;if(!t)return f(this,o),this;var a=this._events[o];if(a.fn)a.fn===t&&(!i||a.once)&&(!n||a.context===n)&&f(this,o);else{for(var s=0,c=[],l=a.length;s<l;s++)(a[s].fn!==t||i&&!a[s].once||n&&a[s].context!==n)&&c.push(a[s]);c.length?this._events[o]=1===c.length?c[0]:c:f(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&f(this,t)):(this._events=new i,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,typeof t<"u"&&(t.exports=s)})),C=p((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.IJSONRpcProvider=e.IJSONRpcConnection=void 0;e.IJSONRpcConnection=class{};e.IJSONRpcProvider=class{constructor(e){}}})),w=p((e=>{Object.defineProperty(e,"__esModule",{value:!0})})),x=p((e=>{var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var r in e)"default"!==r&&!Object.prototype.hasOwnProperty.call(n,r)&&t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(C(),e),n(w(),e)})),O=p((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getRpcUrl=function(e,t,r){var i;let o=n(e);return(null===(i=t.rpcMap)||void 0===i?void 0:i[o.reference])||""},e.getChainId=function(e){return e.includes(":")?e.split(":")[1]:e},e.convertChainIdToNumber=function(e){return"number"==typeof e?e:e.includes("0x")?parseInt(e,16):(e=e.includes(":")?e.split(":")[1]:e,isNaN(Number(e))?e:Number(e))},e.parseChainId=n,e.mergeArrays=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return[...new Set([...e,...t])]};var t=":";function n(e){let[n,r]=e.split(t);return{namespace:n,reference:r}}})),_=p((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.setGlobal=e.getGlobal=void 0;var t={};e.getGlobal=e=>t[e];e.setGlobal=(e,n)=>{t[e]=n}})),E=p((e=>{var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var r in e)"default"!==r&&!Object.prototype.hasOwnProperty.call(n,r)&&t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(O(),e),n(_(),e)})),S=p((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GENERIC_SUBPROVIDER_NAME=e.RPC_URL=e.STORAGE=e.CONTEXT=e.WC_VERSION=e.PROTOCOL=e.RELAY_URL=e.LOGGER=void 0,e.LOGGER="error",e.RELAY_URL="wss://relay.walletconnect.com",e.PROTOCOL="wc",e.WC_VERSION=2,e.CONTEXT="universal_provider",e.STORAGE=`${e.PROTOCOL}@${e.WC_VERSION}:${e.CONTEXT}:`,e.RPC_URL="https://rpc.walletconnect.com/v1/",e.GENERIC_SUBPROVIDER_NAME="generic"})),R=p((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PROVIDER_EVENTS=void 0,e.PROVIDER_EVENTS={DEFAULT_CHAIN_CHANGED:"default_chain_changed",UPDATE_NAMESPACES:"update_name_spaces"}})),N=p((e=>{var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var r in e)"default"!==r&&!Object.prototype.hasOwnProperty.call(n,r)&&t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(S(),e),n(R(),e)})),k=p((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ConnectorState=e.CONNECT_JSONRPC_VER=e.OKXCONNECTOR_MESSAGE_TTL=e.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE=e.OKXCONNECTOR_WS_URL_LIST=e.OKXCONNECTOR_WS_URL_IDX_KEY=e.OKXCONNECTOR_WS_URL_2=e.OKXCONNECTOR_WS_URL_1=e.EVENT_EMITTER_MAX_LISTENERS=void 0,e.EVENT_EMITTER_MAX_LISTENERS=10,e.OKXCONNECTOR_WS_URL_1="wss://wsdexpri.okx.com/ws/v1/wallet-connect-relay",e.OKXCONNECTOR_WS_URL_2="wss://wsdexpri.coinall.ltd/ws/v1/wallet-connect-relay",e.OKXCONNECTOR_WS_URL_IDX_KEY="wuik",e.OKXCONNECTOR_WS_URL_LIST=[e.OKXCONNECTOR_WS_URL_1,e.OKXCONNECTOR_WS_URL_2],e.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE={TIME_OUT:3990,CANCELED:3991,FINISHED:3992},e.OKXCONNECTOR_MESSAGE_TTL=3e5,e.CONNECT_JSONRPC_VER="2.0",e.ConnectorState={InitState:0,Connecting:1,Connected:2,Disconnected:3,OnError:4}})),T=p((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.OKXCONNECTOR_STORAGE_CIPHER_METHOD=e.OKXCONNECTOR_STORAGE_CRYPTO_CIPHERIV=e.OKXCONNECTOR_STORAGER_CRYPTO_SALT=e.OKXCONNECTOR_STORAGE_CRYPTO_PASSWORD=e.OKXCONNECTOR_TON_KEY=e.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE=e.OKXCONNECTOR_TOKEN_CACHE=e.OKXCONNECTOR_JWT_KEY=e.OKXCONNECTOR_SESSION_PREFIX_KEY=e.OKXCONNECTOR_CRYPTO_KEY=e.OKXCONNECTOR_CACHE_KEY_DAPP=e.OKXCONNECTOR_CACHE_KEY=void 0,e.OKXCONNECTOR_CACHE_KEY="ck",e.OKXCONNECTOR_CACHE_KEY_DAPP="ck_dapp",e.OKXCONNECTOR_CRYPTO_KEY="cck_k",e.OKXCONNECTOR_SESSION_PREFIX_KEY="cspk_",e.OKXCONNECTOR_JWT_KEY="cjk_k",e.OKXCONNECTOR_TOKEN_CACHE="ct",e.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE="csp",e.OKXCONNECTOR_TON_KEY="OKXStorage_ctc",e.OKXCONNECTOR_STORAGE_CRYPTO_PASSWORD="scp",e.OKXCONNECTOR_STORAGER_CRYPTO_SALT="scs",e.OKXCONNECTOR_STORAGE_CRYPTO_CIPHERIV="scpc",e.OKXCONNECTOR_STORAGE_CIPHER_METHOD="aes-256-cbc"})),A=p((()=>{})),P=p(((e,t)=>{!function(e){var t=function(e){var t,n=new Float64Array(16);if(e)for(t=0;t<e.length;t++)n[t]=e[t];return n},n=function(){throw new Error("no PRNG")},r=new Uint8Array(16),i=new Uint8Array(32);i[0]=9;var o=t(),a=t([1]),f=t([56129,1]),s=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),c=t([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),l=t([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),d=t([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),h=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function p(e,t,n,r){e[t]=n>>24&255,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n,e[t+4]=r>>24&255,e[t+5]=r>>16&255,e[t+6]=r>>8&255,e[t+7]=255&r}function b(e,t,n,r,i){var o,a=0;for(o=0;o<i;o++)a|=e[t+o]^n[r+o];return(1&a-1>>>8)-1}function g(e,t,n,r){return b(e,t,n,r,16)}function v(e,t,n,r){return b(e,t,n,r,32)}function y(e,t,n,r){!function(e,t,n,r){for(var i,o=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,f=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,s=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,c=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,l=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,d=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,u=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,h=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,b=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,g=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,v=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,y=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,m=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,C=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,w=o,x=a,O=f,_=s,E=c,S=l,R=d,N=u,k=h,T=p,A=b,P=g,D=v,I=y,K=m,j=C,M=0;M<20;M+=2)w^=(i=(D^=(i=(k^=(i=(E^=(i=w+D|0)<<7|i>>>25)+w|0)<<9|i>>>23)+E|0)<<13|i>>>19)+k|0)<<18|i>>>14,S^=(i=(x^=(i=(I^=(i=(T^=(i=S+x|0)<<7|i>>>25)+S|0)<<9|i>>>23)+T|0)<<13|i>>>19)+I|0)<<18|i>>>14,A^=(i=(R^=(i=(O^=(i=(K^=(i=A+R|0)<<7|i>>>25)+A|0)<<9|i>>>23)+K|0)<<13|i>>>19)+O|0)<<18|i>>>14,j^=(i=(P^=(i=(N^=(i=(_^=(i=j+P|0)<<7|i>>>25)+j|0)<<9|i>>>23)+_|0)<<13|i>>>19)+N|0)<<18|i>>>14,w^=(i=(_^=(i=(O^=(i=(x^=(i=w+_|0)<<7|i>>>25)+w|0)<<9|i>>>23)+x|0)<<13|i>>>19)+O|0)<<18|i>>>14,S^=(i=(E^=(i=(N^=(i=(R^=(i=S+E|0)<<7|i>>>25)+S|0)<<9|i>>>23)+R|0)<<13|i>>>19)+N|0)<<18|i>>>14,A^=(i=(T^=(i=(k^=(i=(P^=(i=A+T|0)<<7|i>>>25)+A|0)<<9|i>>>23)+P|0)<<13|i>>>19)+k|0)<<18|i>>>14,j^=(i=(K^=(i=(I^=(i=(D^=(i=j+K|0)<<7|i>>>25)+j|0)<<9|i>>>23)+D|0)<<13|i>>>19)+I|0)<<18|i>>>14;w=w+o|0,x=x+a|0,O=O+f|0,_=_+s|0,E=E+c|0,S=S+l|0,R=R+d|0,N=N+u|0,k=k+h|0,T=T+p|0,A=A+b|0,P=P+g|0,D=D+v|0,I=I+y|0,K=K+m|0,j=j+C|0,e[0]=w>>>0&255,e[1]=w>>>8&255,e[2]=w>>>16&255,e[3]=w>>>24&255,e[4]=x>>>0&255,e[5]=x>>>8&255,e[6]=x>>>16&255,e[7]=x>>>24&255,e[8]=O>>>0&255,e[9]=O>>>8&255,e[10]=O>>>16&255,e[11]=O>>>24&255,e[12]=_>>>0&255,e[13]=_>>>8&255,e[14]=_>>>16&255,e[15]=_>>>24&255,e[16]=E>>>0&255,e[17]=E>>>8&255,e[18]=E>>>16&255,e[19]=E>>>24&255,e[20]=S>>>0&255,e[21]=S>>>8&255,e[22]=S>>>16&255,e[23]=S>>>24&255,e[24]=R>>>0&255,e[25]=R>>>8&255,e[26]=R>>>16&255,e[27]=R>>>24&255,e[28]=N>>>0&255,e[29]=N>>>8&255,e[30]=N>>>16&255,e[31]=N>>>24&255,e[32]=k>>>0&255,e[33]=k>>>8&255,e[34]=k>>>16&255,e[35]=k>>>24&255,e[36]=T>>>0&255,e[37]=T>>>8&255,e[38]=T>>>16&255,e[39]=T>>>24&255,e[40]=A>>>0&255,e[41]=A>>>8&255,e[42]=A>>>16&255,e[43]=A>>>24&255,e[44]=P>>>0&255,e[45]=P>>>8&255,e[46]=P>>>16&255,e[47]=P>>>24&255,e[48]=D>>>0&255,e[49]=D>>>8&255,e[50]=D>>>16&255,e[51]=D>>>24&255,e[52]=I>>>0&255,e[53]=I>>>8&255,e[54]=I>>>16&255,e[55]=I>>>24&255,e[56]=K>>>0&255,e[57]=K>>>8&255,e[58]=K>>>16&255,e[59]=K>>>24&255,e[60]=j>>>0&255,e[61]=j>>>8&255,e[62]=j>>>16&255,e[63]=j>>>24&255}(e,t,n,r)}function m(e,t,n,r){!function(e,t,n,r){for(var i,o=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,f=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,s=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,c=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,l=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,d=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,u=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,h=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,b=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,g=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,v=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,y=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,m=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,C=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,w=0;w<20;w+=2)o^=(i=(v^=(i=(h^=(i=(c^=(i=o+v|0)<<7|i>>>25)+o|0)<<9|i>>>23)+c|0)<<13|i>>>19)+h|0)<<18|i>>>14,l^=(i=(a^=(i=(y^=(i=(p^=(i=l+a|0)<<7|i>>>25)+l|0)<<9|i>>>23)+p|0)<<13|i>>>19)+y|0)<<18|i>>>14,b^=(i=(d^=(i=(f^=(i=(m^=(i=b+d|0)<<7|i>>>25)+b|0)<<9|i>>>23)+m|0)<<13|i>>>19)+f|0)<<18|i>>>14,C^=(i=(g^=(i=(u^=(i=(s^=(i=C+g|0)<<7|i>>>25)+C|0)<<9|i>>>23)+s|0)<<13|i>>>19)+u|0)<<18|i>>>14,o^=(i=(s^=(i=(f^=(i=(a^=(i=o+s|0)<<7|i>>>25)+o|0)<<9|i>>>23)+a|0)<<13|i>>>19)+f|0)<<18|i>>>14,l^=(i=(c^=(i=(u^=(i=(d^=(i=l+c|0)<<7|i>>>25)+l|0)<<9|i>>>23)+d|0)<<13|i>>>19)+u|0)<<18|i>>>14,b^=(i=(p^=(i=(h^=(i=(g^=(i=b+p|0)<<7|i>>>25)+b|0)<<9|i>>>23)+g|0)<<13|i>>>19)+h|0)<<18|i>>>14,C^=(i=(m^=(i=(y^=(i=(v^=(i=C+m|0)<<7|i>>>25)+C|0)<<9|i>>>23)+v|0)<<13|i>>>19)+y|0)<<18|i>>>14;e[0]=o>>>0&255,e[1]=o>>>8&255,e[2]=o>>>16&255,e[3]=o>>>24&255,e[4]=l>>>0&255,e[5]=l>>>8&255,e[6]=l>>>16&255,e[7]=l>>>24&255,e[8]=b>>>0&255,e[9]=b>>>8&255,e[10]=b>>>16&255,e[11]=b>>>24&255,e[12]=C>>>0&255,e[13]=C>>>8&255,e[14]=C>>>16&255,e[15]=C>>>24&255,e[16]=d>>>0&255,e[17]=d>>>8&255,e[18]=d>>>16&255,e[19]=d>>>24&255,e[20]=u>>>0&255,e[21]=u>>>8&255,e[22]=u>>>16&255,e[23]=u>>>24&255,e[24]=h>>>0&255,e[25]=h>>>8&255,e[26]=h>>>16&255,e[27]=h>>>24&255,e[28]=p>>>0&255,e[29]=p>>>8&255,e[30]=p>>>16&255,e[31]=p>>>24&255}(e,t,n,r)}var C=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function w(e,t,n,r,i,o,a){var f,s,c=new Uint8Array(16),l=new Uint8Array(64);for(s=0;s<16;s++)c[s]=0;for(s=0;s<8;s++)c[s]=o[s];for(;i>=64;){for(y(l,c,a,C),s=0;s<64;s++)e[t+s]=n[r+s]^l[s];for(f=1,s=8;s<16;s++)f=f+(255&c[s])|0,c[s]=255&f,f>>>=8;i-=64,t+=64,r+=64}if(i>0)for(y(l,c,a,C),s=0;s<i;s++)e[t+s]=n[r+s]^l[s];return 0}function x(e,t,n,r,i){var o,a,f=new Uint8Array(16),s=new Uint8Array(64);for(a=0;a<16;a++)f[a]=0;for(a=0;a<8;a++)f[a]=r[a];for(;n>=64;){for(y(s,f,i,C),a=0;a<64;a++)e[t+a]=s[a];for(o=1,a=8;a<16;a++)o=o+(255&f[a])|0,f[a]=255&o,o>>>=8;n-=64,t+=64}if(n>0)for(y(s,f,i,C),a=0;a<n;a++)e[t+a]=s[a];return 0}function O(e,t,n,r,i){var o=new Uint8Array(32);m(o,r,i,C);for(var a=new Uint8Array(8),f=0;f<8;f++)a[f]=r[f+16];return x(e,t,n,a,o)}function _(e,t,n,r,i,o,a){var f=new Uint8Array(32);m(f,o,a,C);for(var s=new Uint8Array(8),c=0;c<8;c++)s[c]=o[c+16];return w(e,t,n,r,i,s,f)}var E=function(e){var t,n,r,i,o,a,f,s;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,t=255&e[0]|(255&e[1])<<8,this.r[0]=8191&t,n=255&e[2]|(255&e[3])<<8,this.r[1]=8191&(t>>>13|n<<3),r=255&e[4]|(255&e[5])<<8,this.r[2]=7939&(n>>>10|r<<6),i=255&e[6]|(255&e[7])<<8,this.r[3]=8191&(r>>>7|i<<9),o=255&e[8]|(255&e[9])<<8,this.r[4]=255&(i>>>4|o<<12),this.r[5]=o>>>1&8190,a=255&e[10]|(255&e[11])<<8,this.r[6]=8191&(o>>>14|a<<2),f=255&e[12]|(255&e[13])<<8,this.r[7]=8065&(a>>>11|f<<5),s=255&e[14]|(255&e[15])<<8,this.r[8]=8191&(f>>>8|s<<8),this.r[9]=s>>>5&127,this.pad[0]=255&e[16]|(255&e[17])<<8,this.pad[1]=255&e[18]|(255&e[19])<<8,this.pad[2]=255&e[20]|(255&e[21])<<8,this.pad[3]=255&e[22]|(255&e[23])<<8,this.pad[4]=255&e[24]|(255&e[25])<<8,this.pad[5]=255&e[26]|(255&e[27])<<8,this.pad[6]=255&e[28]|(255&e[29])<<8,this.pad[7]=255&e[30]|(255&e[31])<<8};function S(e,t,n,r,i,o){var a=new E(o);return a.update(n,r,i),a.finish(e,t),0}function R(e,t,n,r,i,o){var a=new Uint8Array(16);return S(a,0,n,r,i,o),g(e,t,a,0)}function N(e,t,n,r,i){var o;if(n<32)return-1;for(_(e,0,t,0,n,r,i),S(e,16,e,32,n-32,e),o=0;o<16;o++)e[o]=0;return 0}function k(e,t,n,r,i){var o,a=new Uint8Array(32);if(n<32||(O(a,0,32,r,i),0!==R(t,16,t,32,n-32,a)))return-1;for(_(e,0,t,0,n,r,i),o=0;o<32;o++)e[o]=0;return 0}function T(e,t){var n;for(n=0;n<16;n++)e[n]=0|t[n]}function P(e){var t,n,r=1;for(t=0;t<16;t++)n=e[t]+r+65535,r=Math.floor(n/65536),e[t]=n-65536*r;e[0]+=r-1+37*(r-1)}function D(e,t,n){for(var r,i=~(n-1),o=0;o<16;o++)r=i&(e[o]^t[o]),e[o]^=r,t[o]^=r}function I(e,n){var r,i,o,a=t(),f=t();for(r=0;r<16;r++)f[r]=n[r];for(P(f),P(f),P(f),i=0;i<2;i++){for(a[0]=f[0]-65517,r=1;r<15;r++)a[r]=f[r]-65535-(a[r-1]>>16&1),a[r-1]&=65535;a[15]=f[15]-32767-(a[14]>>16&1),o=a[15]>>16&1,a[14]&=65535,D(f,a,1-o)}for(r=0;r<16;r++)e[2*r]=255&f[r],e[2*r+1]=f[r]>>8}function K(e,t){var n=new Uint8Array(32),r=new Uint8Array(32);return I(n,e),I(r,t),v(n,0,r,0)}function j(e){var t=new Uint8Array(32);return I(t,e),1&t[0]}function M(e,t){var n;for(n=0;n<16;n++)e[n]=t[2*n]+(t[2*n+1]<<8);e[15]&=32767}function U(e,t,n){for(var r=0;r<16;r++)e[r]=t[r]+n[r]}function L(e,t,n){for(var r=0;r<16;r++)e[r]=t[r]-n[r]}function W(e,t,n){var r,i,o=0,a=0,f=0,s=0,c=0,l=0,d=0,u=0,h=0,p=0,b=0,g=0,v=0,y=0,m=0,C=0,w=0,x=0,O=0,_=0,E=0,S=0,R=0,N=0,k=0,T=0,A=0,P=0,D=0,I=0,K=0,j=n[0],M=n[1],U=n[2],L=n[3],W=n[4],B=n[5],X=n[6],$=n[7],H=n[8],q=n[9],F=n[10],J=n[11],V=n[12],z=n[13],G=n[14],Z=n[15];o+=(r=t[0])*j,a+=r*M,f+=r*U,s+=r*L,c+=r*W,l+=r*B,d+=r*X,u+=r*$,h+=r*H,p+=r*q,b+=r*F,g+=r*J,v+=r*V,y+=r*z,m+=r*G,C+=r*Z,a+=(r=t[1])*j,f+=r*M,s+=r*U,c+=r*L,l+=r*W,d+=r*B,u+=r*X,h+=r*$,p+=r*H,b+=r*q,g+=r*F,v+=r*J,y+=r*V,m+=r*z,C+=r*G,w+=r*Z,f+=(r=t[2])*j,s+=r*M,c+=r*U,l+=r*L,d+=r*W,u+=r*B,h+=r*X,p+=r*$,b+=r*H,g+=r*q,v+=r*F,y+=r*J,m+=r*V,C+=r*z,w+=r*G,x+=r*Z,s+=(r=t[3])*j,c+=r*M,l+=r*U,d+=r*L,u+=r*W,h+=r*B,p+=r*X,b+=r*$,g+=r*H,v+=r*q,y+=r*F,m+=r*J,C+=r*V,w+=r*z,x+=r*G,O+=r*Z,c+=(r=t[4])*j,l+=r*M,d+=r*U,u+=r*L,h+=r*W,p+=r*B,b+=r*X,g+=r*$,v+=r*H,y+=r*q,m+=r*F,C+=r*J,w+=r*V,x+=r*z,O+=r*G,_+=r*Z,l+=(r=t[5])*j,d+=r*M,u+=r*U,h+=r*L,p+=r*W,b+=r*B,g+=r*X,v+=r*$,y+=r*H,m+=r*q,C+=r*F,w+=r*J,x+=r*V,O+=r*z,_+=r*G,E+=r*Z,d+=(r=t[6])*j,u+=r*M,h+=r*U,p+=r*L,b+=r*W,g+=r*B,v+=r*X,y+=r*$,m+=r*H,C+=r*q,w+=r*F,x+=r*J,O+=r*V,_+=r*z,E+=r*G,S+=r*Z,u+=(r=t[7])*j,h+=r*M,p+=r*U,b+=r*L,g+=r*W,v+=r*B,y+=r*X,m+=r*$,C+=r*H,w+=r*q,x+=r*F,O+=r*J,_+=r*V,E+=r*z,S+=r*G,R+=r*Z,h+=(r=t[8])*j,p+=r*M,b+=r*U,g+=r*L,v+=r*W,y+=r*B,m+=r*X,C+=r*$,w+=r*H,x+=r*q,O+=r*F,_+=r*J,E+=r*V,S+=r*z,R+=r*G,N+=r*Z,p+=(r=t[9])*j,b+=r*M,g+=r*U,v+=r*L,y+=r*W,m+=r*B,C+=r*X,w+=r*$,x+=r*H,O+=r*q,_+=r*F,E+=r*J,S+=r*V,R+=r*z,N+=r*G,k+=r*Z,b+=(r=t[10])*j,g+=r*M,v+=r*U,y+=r*L,m+=r*W,C+=r*B,w+=r*X,x+=r*$,O+=r*H,_+=r*q,E+=r*F,S+=r*J,R+=r*V,N+=r*z,k+=r*G,T+=r*Z,g+=(r=t[11])*j,v+=r*M,y+=r*U,m+=r*L,C+=r*W,w+=r*B,x+=r*X,O+=r*$,_+=r*H,E+=r*q,S+=r*F,R+=r*J,N+=r*V,k+=r*z,T+=r*G,A+=r*Z,v+=(r=t[12])*j,y+=r*M,m+=r*U,C+=r*L,w+=r*W,x+=r*B,O+=r*X,_+=r*$,E+=r*H,S+=r*q,R+=r*F,N+=r*J,k+=r*V,T+=r*z,A+=r*G,P+=r*Z,y+=(r=t[13])*j,m+=r*M,C+=r*U,w+=r*L,x+=r*W,O+=r*B,_+=r*X,E+=r*$,S+=r*H,R+=r*q,N+=r*F,k+=r*J,T+=r*V,A+=r*z,P+=r*G,D+=r*Z,m+=(r=t[14])*j,C+=r*M,w+=r*U,x+=r*L,O+=r*W,_+=r*B,E+=r*X,S+=r*$,R+=r*H,N+=r*q,k+=r*F,T+=r*J,A+=r*V,P+=r*z,D+=r*G,I+=r*Z,C+=(r=t[15])*j,a+=38*(x+=r*U),f+=38*(O+=r*L),s+=38*(_+=r*W),c+=38*(E+=r*B),l+=38*(S+=r*X),d+=38*(R+=r*$),u+=38*(N+=r*H),h+=38*(k+=r*q),p+=38*(T+=r*F),b+=38*(A+=r*J),g+=38*(P+=r*V),v+=38*(D+=r*z),y+=38*(I+=r*G),m+=38*(K+=r*Z),o=(r=(o+=38*(w+=r*M))+(i=1)+65535)-65536*(i=Math.floor(r/65536)),a=(r=a+i+65535)-65536*(i=Math.floor(r/65536)),f=(r=f+i+65535)-65536*(i=Math.floor(r/65536)),s=(r=s+i+65535)-65536*(i=Math.floor(r/65536)),c=(r=c+i+65535)-65536*(i=Math.floor(r/65536)),l=(r=l+i+65535)-65536*(i=Math.floor(r/65536)),d=(r=d+i+65535)-65536*(i=Math.floor(r/65536)),u=(r=u+i+65535)-65536*(i=Math.floor(r/65536)),h=(r=h+i+65535)-65536*(i=Math.floor(r/65536)),p=(r=p+i+65535)-65536*(i=Math.floor(r/65536)),b=(r=b+i+65535)-65536*(i=Math.floor(r/65536)),g=(r=g+i+65535)-65536*(i=Math.floor(r/65536)),v=(r=v+i+65535)-65536*(i=Math.floor(r/65536)),y=(r=y+i+65535)-65536*(i=Math.floor(r/65536)),m=(r=m+i+65535)-65536*(i=Math.floor(r/65536)),C=(r=C+i+65535)-65536*(i=Math.floor(r/65536)),o=(r=(o+=i-1+37*(i-1))+(i=1)+65535)-65536*(i=Math.floor(r/65536)),a=(r=a+i+65535)-65536*(i=Math.floor(r/65536)),f=(r=f+i+65535)-65536*(i=Math.floor(r/65536)),s=(r=s+i+65535)-65536*(i=Math.floor(r/65536)),c=(r=c+i+65535)-65536*(i=Math.floor(r/65536)),l=(r=l+i+65535)-65536*(i=Math.floor(r/65536)),d=(r=d+i+65535)-65536*(i=Math.floor(r/65536)),u=(r=u+i+65535)-65536*(i=Math.floor(r/65536)),h=(r=h+i+65535)-65536*(i=Math.floor(r/65536)),p=(r=p+i+65535)-65536*(i=Math.floor(r/65536)),b=(r=b+i+65535)-65536*(i=Math.floor(r/65536)),g=(r=g+i+65535)-65536*(i=Math.floor(r/65536)),v=(r=v+i+65535)-65536*(i=Math.floor(r/65536)),y=(r=y+i+65535)-65536*(i=Math.floor(r/65536)),m=(r=m+i+65535)-65536*(i=Math.floor(r/65536)),C=(r=C+i+65535)-65536*(i=Math.floor(r/65536)),o+=i-1+37*(i-1),e[0]=o,e[1]=a,e[2]=f,e[3]=s,e[4]=c,e[5]=l,e[6]=d,e[7]=u,e[8]=h,e[9]=p,e[10]=b,e[11]=g,e[12]=v,e[13]=y,e[14]=m,e[15]=C}function B(e,t){W(e,t,t)}function X(e,n){var r,i=t();for(r=0;r<16;r++)i[r]=n[r];for(r=253;r>=0;r--)B(i,i),2!==r&&4!==r&&W(i,i,n);for(r=0;r<16;r++)e[r]=i[r]}function $(e,n){var r,i=t();for(r=0;r<16;r++)i[r]=n[r];for(r=250;r>=0;r--)B(i,i),1!==r&&W(i,i,n);for(r=0;r<16;r++)e[r]=i[r]}function H(e,n,r){var i,o,a=new Uint8Array(32),s=new Float64Array(80),c=t(),l=t(),d=t(),u=t(),h=t(),p=t();for(o=0;o<31;o++)a[o]=n[o];for(a[31]=127&n[31]|64,a[0]&=248,M(s,r),o=0;o<16;o++)l[o]=s[o],u[o]=c[o]=d[o]=0;for(c[0]=u[0]=1,o=254;o>=0;--o)D(c,l,i=a[o>>>3]>>>(7&o)&1),D(d,u,i),U(h,c,d),L(c,c,d),U(d,l,u),L(l,l,u),B(u,h),B(p,c),W(c,d,c),W(d,l,h),U(h,c,d),L(c,c,d),B(l,c),L(d,u,p),W(c,d,f),U(c,c,u),W(d,d,c),W(c,u,p),W(u,l,s),B(l,h),D(c,l,i),D(d,u,i);for(o=0;o<16;o++)s[o+16]=c[o],s[o+32]=d[o],s[o+48]=l[o],s[o+64]=u[o];var b=s.subarray(32),g=s.subarray(16);return X(b,b),W(g,g,b),I(e,g),0}function q(e,t){return H(e,t,i)}function F(e,t){return n(t,32),q(e,t)}function J(e,t,n){var i=new Uint8Array(32);return H(i,n,t),m(e,r,i,C)}E.prototype.blocks=function(e,t,n){for(var r,i,o,a,f,s,c,l,d,u,h,p,b,g,v,y,m,C,w,x=this.fin?0:2048,O=this.h[0],_=this.h[1],E=this.h[2],S=this.h[3],R=this.h[4],N=this.h[5],k=this.h[6],T=this.h[7],A=this.h[8],P=this.h[9],D=this.r[0],I=this.r[1],K=this.r[2],j=this.r[3],M=this.r[4],U=this.r[5],L=this.r[6],W=this.r[7],B=this.r[8],X=this.r[9];n>=16;)u=d=0,u+=(O+=8191&(r=255&e[t+0]|(255&e[t+1])<<8))*D,u+=(_+=8191&(r>>>13|(i=255&e[t+2]|(255&e[t+3])<<8)<<3))*(5*X),u+=(E+=8191&(i>>>10|(o=255&e[t+4]|(255&e[t+5])<<8)<<6))*(5*B),u+=(S+=8191&(o>>>7|(a=255&e[t+6]|(255&e[t+7])<<8)<<9))*(5*W),d=(u+=(R+=8191&(a>>>4|(f=255&e[t+8]|(255&e[t+9])<<8)<<12))*(5*L))>>>13,u&=8191,u+=(N+=f>>>1&8191)*(5*U),u+=(k+=8191&(f>>>14|(s=255&e[t+10]|(255&e[t+11])<<8)<<2))*(5*M),u+=(T+=8191&(s>>>11|(c=255&e[t+12]|(255&e[t+13])<<8)<<5))*(5*j),u+=(A+=8191&(c>>>8|(l=255&e[t+14]|(255&e[t+15])<<8)<<8))*(5*K),h=d+=(u+=(P+=l>>>5|x)*(5*I))>>>13,h+=O*I,h+=_*D,h+=E*(5*X),h+=S*(5*B),d=(h+=R*(5*W))>>>13,h&=8191,h+=N*(5*L),h+=k*(5*U),h+=T*(5*M),h+=A*(5*j),d+=(h+=P*(5*K))>>>13,h&=8191,p=d,p+=O*K,p+=_*I,p+=E*D,p+=S*(5*X),d=(p+=R*(5*B))>>>13,p&=8191,p+=N*(5*W),p+=k*(5*L),p+=T*(5*U),p+=A*(5*M),b=d+=(p+=P*(5*j))>>>13,b+=O*j,b+=_*K,b+=E*I,b+=S*D,d=(b+=R*(5*X))>>>13,b&=8191,b+=N*(5*B),b+=k*(5*W),b+=T*(5*L),b+=A*(5*U),g=d+=(b+=P*(5*M))>>>13,g+=O*M,g+=_*j,g+=E*K,g+=S*I,d=(g+=R*D)>>>13,g&=8191,g+=N*(5*X),g+=k*(5*B),g+=T*(5*W),g+=A*(5*L),v=d+=(g+=P*(5*U))>>>13,v+=O*U,v+=_*M,v+=E*j,v+=S*K,d=(v+=R*I)>>>13,v&=8191,v+=N*D,v+=k*(5*X),v+=T*(5*B),v+=A*(5*W),y=d+=(v+=P*(5*L))>>>13,y+=O*L,y+=_*U,y+=E*M,y+=S*j,d=(y+=R*K)>>>13,y&=8191,y+=N*I,y+=k*D,y+=T*(5*X),y+=A*(5*B),m=d+=(y+=P*(5*W))>>>13,m+=O*W,m+=_*L,m+=E*U,m+=S*M,d=(m+=R*j)>>>13,m&=8191,m+=N*K,m+=k*I,m+=T*D,m+=A*(5*X),C=d+=(m+=P*(5*B))>>>13,C+=O*B,C+=_*W,C+=E*L,C+=S*U,d=(C+=R*M)>>>13,C&=8191,C+=N*j,C+=k*K,C+=T*I,C+=A*D,w=d+=(C+=P*(5*X))>>>13,w+=O*X,w+=_*B,w+=E*W,w+=S*L,d=(w+=R*U)>>>13,w&=8191,w+=N*M,w+=k*j,w+=T*K,w+=A*I,O=u=8191&(d=(d=((d+=(w+=P*D)>>>13)<<2)+d|0)+(u&=8191)|0),_=h+=d>>>=13,E=p&=8191,S=b&=8191,R=g&=8191,N=v&=8191,k=y&=8191,T=m&=8191,A=C&=8191,P=w&=8191,t+=16,n-=16;this.h[0]=O,this.h[1]=_,this.h[2]=E,this.h[3]=S,this.h[4]=R,this.h[5]=N,this.h[6]=k,this.h[7]=T,this.h[8]=A,this.h[9]=P},E.prototype.finish=function(e,t){var n,r,i,o,a=new Uint16Array(10);if(this.leftover){for(o=this.leftover,this.buffer[o++]=1;o<16;o++)this.buffer[o]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(n=this.h[1]>>>13,this.h[1]&=8191,o=2;o<10;o++)this.h[o]+=n,n=this.h[o]>>>13,this.h[o]&=8191;for(this.h[0]+=5*n,n=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=n,n=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=n,a[0]=this.h[0]+5,n=a[0]>>>13,a[0]&=8191,o=1;o<10;o++)a[o]=this.h[o]+n,n=a[o]>>>13,a[o]&=8191;for(a[9]-=8192,r=(1^n)-1,o=0;o<10;o++)a[o]&=r;for(r=~r,o=0;o<10;o++)this.h[o]=this.h[o]&r|a[o];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),i=this.h[0]+this.pad[0],this.h[0]=65535&i,o=1;o<8;o++)i=(this.h[o]+this.pad[o]|0)+(i>>>16)|0,this.h[o]=65535&i;e[t+0]=this.h[0]>>>0&255,e[t+1]=this.h[0]>>>8&255,e[t+2]=this.h[1]>>>0&255,e[t+3]=this.h[1]>>>8&255,e[t+4]=this.h[2]>>>0&255,e[t+5]=this.h[2]>>>8&255,e[t+6]=this.h[3]>>>0&255,e[t+7]=this.h[3]>>>8&255,e[t+8]=this.h[4]>>>0&255,e[t+9]=this.h[4]>>>8&255,e[t+10]=this.h[5]>>>0&255,e[t+11]=this.h[5]>>>8&255,e[t+12]=this.h[6]>>>0&255,e[t+13]=this.h[6]>>>8&255,e[t+14]=this.h[7]>>>0&255,e[t+15]=this.h[7]>>>8&255},E.prototype.update=function(e,t,n){var r,i;if(this.leftover){for((i=16-this.leftover)>n&&(i=n),r=0;r<i;r++)this.buffer[this.leftover+r]=e[t+r];if(n-=i,t+=i,this.leftover+=i,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(n>=16&&(i=n-n%16,this.blocks(e,t,i),t+=i,n-=i),n){for(r=0;r<n;r++)this.buffer[this.leftover+r]=e[t+r];this.leftover+=n}};var V=N,z=k;var G=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Z(e,t,n,r){for(var i,o,a,f,s,c,l,d,u,h,p,b,g,v,y,m,C,w,x,O,_,E,S,R,N,k,T=new Int32Array(16),A=new Int32Array(16),P=e[0],D=e[1],I=e[2],K=e[3],j=e[4],M=e[5],U=e[6],L=e[7],W=t[0],B=t[1],X=t[2],$=t[3],H=t[4],q=t[5],F=t[6],J=t[7],V=0;r>=128;){for(x=0;x<16;x++)O=8*x+V,T[x]=n[O+0]<<24|n[O+1]<<16|n[O+2]<<8|n[O+3],A[x]=n[O+4]<<24|n[O+5]<<16|n[O+6]<<8|n[O+7];for(x=0;x<80;x++)if(i=P,o=D,a=I,f=K,s=j,c=M,l=U,L,u=W,h=B,p=X,b=$,g=H,v=q,y=F,J,S=65535&(E=J),R=E>>>16,N=65535&(_=L),k=_>>>16,S+=65535&(E=(H>>>14|j<<18)^(H>>>18|j<<14)^(j>>>9|H<<23)),R+=E>>>16,N+=65535&(_=(j>>>14|H<<18)^(j>>>18|H<<14)^(H>>>9|j<<23)),k+=_>>>16,S+=65535&(E=H&q^~H&F),R+=E>>>16,N+=65535&(_=j&M^~j&U),k+=_>>>16,S+=65535&(E=G[2*x+1]),R+=E>>>16,N+=65535&(_=G[2*x]),k+=_>>>16,_=T[x%16],R+=(E=A[x%16])>>>16,N+=65535&_,k+=_>>>16,N+=(R+=(S+=65535&E)>>>16)>>>16,S=65535&(E=w=65535&S|R<<16),R=E>>>16,N=65535&(_=C=65535&N|(k+=N>>>16)<<16),k=_>>>16,S+=65535&(E=(W>>>28|P<<4)^(P>>>2|W<<30)^(P>>>7|W<<25)),R+=E>>>16,N+=65535&(_=(P>>>28|W<<4)^(W>>>2|P<<30)^(W>>>7|P<<25)),k+=_>>>16,R+=(E=W&B^W&X^B&X)>>>16,N+=65535&(_=P&D^P&I^D&I),k+=_>>>16,d=65535&(N+=(R+=(S+=65535&E)>>>16)>>>16)|(k+=N>>>16)<<16,m=65535&S|R<<16,S=65535&(E=b),R=E>>>16,N=65535&(_=f),k=_>>>16,R+=(E=w)>>>16,N+=65535&(_=C),k+=_>>>16,D=i,I=o,K=a,j=f=65535&(N+=(R+=(S+=65535&E)>>>16)>>>16)|(k+=N>>>16)<<16,M=s,U=c,L=l,P=d,B=u,X=h,$=p,H=b=65535&S|R<<16,q=g,F=v,J=y,W=m,x%16===15)for(O=0;O<16;O++)_=T[O],S=65535&(E=A[O]),R=E>>>16,N=65535&_,k=_>>>16,_=T[(O+9)%16],S+=65535&(E=A[(O+9)%16]),R+=E>>>16,N+=65535&_,k+=_>>>16,C=T[(O+1)%16],S+=65535&(E=((w=A[(O+1)%16])>>>1|C<<31)^(w>>>8|C<<24)^(w>>>7|C<<25)),R+=E>>>16,N+=65535&(_=(C>>>1|w<<31)^(C>>>8|w<<24)^C>>>7),k+=_>>>16,C=T[(O+14)%16],R+=(E=((w=A[(O+14)%16])>>>19|C<<13)^(C>>>29|w<<3)^(w>>>6|C<<26))>>>16,N+=65535&(_=(C>>>19|w<<13)^(w>>>29|C<<3)^C>>>6),k+=_>>>16,k+=(N+=(R+=(S+=65535&E)>>>16)>>>16)>>>16,T[O]=65535&N|k<<16,A[O]=65535&S|R<<16;S=65535&(E=W),R=E>>>16,N=65535&(_=P),k=_>>>16,_=e[0],R+=(E=t[0])>>>16,N+=65535&_,k+=_>>>16,k+=(N+=(R+=(S+=65535&E)>>>16)>>>16)>>>16,e[0]=P=65535&N|k<<16,t[0]=W=65535&S|R<<16,S=65535&(E=B),R=E>>>16,N=65535&(_=D),k=_>>>16,_=e[1],R+=(E=t[1])>>>16,N+=65535&_,k+=_>>>16,k+=(N+=(R+=(S+=65535&E)>>>16)>>>16)>>>16,e[1]=D=65535&N|k<<16,t[1]=B=65535&S|R<<16,S=65535&(E=X),R=E>>>16,N=65535&(_=I),k=_>>>16,_=e[2],R+=(E=t[2])>>>16,N+=65535&_,k+=_>>>16,k+=(N+=(R+=(S+=65535&E)>>>16)>>>16)>>>16,e[2]=I=65535&N|k<<16,t[2]=X=65535&S|R<<16,S=65535&(E=$),R=E>>>16,N=65535&(_=K),k=_>>>16,_=e[3],R+=(E=t[3])>>>16,N+=65535&_,k+=_>>>16,k+=(N+=(R+=(S+=65535&E)>>>16)>>>16)>>>16,e[3]=K=65535&N|k<<16,t[3]=$=65535&S|R<<16,S=65535&(E=H),R=E>>>16,N=65535&(_=j),k=_>>>16,_=e[4],R+=(E=t[4])>>>16,N+=65535&_,k+=_>>>16,k+=(N+=(R+=(S+=65535&E)>>>16)>>>16)>>>16,e[4]=j=65535&N|k<<16,t[4]=H=65535&S|R<<16,S=65535&(E=q),R=E>>>16,N=65535&(_=M),k=_>>>16,_=e[5],R+=(E=t[5])>>>16,N+=65535&_,k+=_>>>16,k+=(N+=(R+=(S+=65535&E)>>>16)>>>16)>>>16,e[5]=M=65535&N|k<<16,t[5]=q=65535&S|R<<16,S=65535&(E=F),R=E>>>16,N=65535&(_=U),k=_>>>16,_=e[6],R+=(E=t[6])>>>16,N+=65535&_,k+=_>>>16,k+=(N+=(R+=(S+=65535&E)>>>16)>>>16)>>>16,e[6]=U=65535&N|k<<16,t[6]=F=65535&S|R<<16,S=65535&(E=J),R=E>>>16,N=65535&(_=L),k=_>>>16,_=e[7],R+=(E=t[7])>>>16,N+=65535&_,k+=_>>>16,k+=(N+=(R+=(S+=65535&E)>>>16)>>>16)>>>16,e[7]=L=65535&N|k<<16,t[7]=J=65535&S|R<<16,V+=128,r-=128}return r}function Y(e,t,n){var r,i=new Int32Array(8),o=new Int32Array(8),a=new Uint8Array(256),f=n;for(i[0]=1779033703,i[1]=3144134277,i[2]=1013904242,i[3]=2773480762,i[4]=1359893119,i[5]=2600822924,i[6]=528734635,i[7]=1541459225,o[0]=4089235720,o[1]=2227873595,o[2]=4271175723,o[3]=1595750129,o[4]=2917565137,o[5]=725511199,o[6]=4215389547,o[7]=327033209,Z(i,o,t,n),n%=128,r=0;r<n;r++)a[r]=t[f-n+r];for(a[n]=128,a[(n=256-128*(n<112?1:0))-9]=0,p(a,n-8,f/536870912|0,f<<3),Z(i,o,a,n),r=0;r<8;r++)p(e,8*r,i[r],o[r]);return 0}function Q(e,n){var r=t(),i=t(),o=t(),a=t(),f=t(),s=t(),l=t(),d=t(),u=t();L(r,e[1],e[0]),L(u,n[1],n[0]),W(r,r,u),U(i,e[0],e[1]),U(u,n[0],n[1]),W(i,i,u),W(o,e[3],n[3]),W(o,o,c),W(a,e[2],n[2]),U(a,a,a),L(f,i,r),L(s,a,o),U(l,a,o),U(d,i,r),W(e[0],f,s),W(e[1],d,l),W(e[2],l,s),W(e[3],f,d)}function ee(e,t,n){var r;for(r=0;r<4;r++)D(e[r],t[r],n)}function te(e,n){var r=t(),i=t(),o=t();X(o,n[2]),W(r,n[0],o),W(i,n[1],o),I(e,i),e[31]^=j(r)<<7}function ne(e,t,n){var r,i;for(T(e[0],o),T(e[1],a),T(e[2],a),T(e[3],o),i=255;i>=0;--i)ee(e,t,r=n[i/8|0]>>(7&i)&1),Q(t,e),Q(e,e),ee(e,t,r)}function re(e,n){var r=[t(),t(),t(),t()];T(r[0],l),T(r[1],d),T(r[2],a),W(r[3],l,d),ne(e,r,n)}function ie(e,r,i){var o,a=new Uint8Array(64),f=[t(),t(),t(),t()];for(i||n(r,32),Y(a,r,32),a[0]&=248,a[31]&=127,a[31]|=64,re(f,a),te(e,f),o=0;o<32;o++)r[o+32]=e[o];return 0}var oe=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function ae(e,t){var n,r,i,o;for(r=63;r>=32;--r){for(n=0,i=r-32,o=r-12;i<o;++i)t[i]+=n-16*t[r]*oe[i-(r-32)],n=Math.floor((t[i]+128)/256),t[i]-=256*n;t[i]+=n,t[r]=0}for(n=0,i=0;i<32;i++)t[i]+=n-(t[31]>>4)*oe[i],n=t[i]>>8,t[i]&=255;for(i=0;i<32;i++)t[i]-=n*oe[i];for(r=0;r<32;r++)t[r+1]+=t[r]>>8,e[r]=255&t[r]}function fe(e){var t,n=new Float64Array(64);for(t=0;t<64;t++)n[t]=e[t];for(t=0;t<64;t++)e[t]=0;ae(e,n)}function se(e,n,r,i){var o,a,f=new Uint8Array(64),s=new Uint8Array(64),c=new Uint8Array(64),l=new Float64Array(64),d=[t(),t(),t(),t()];Y(f,i,32),f[0]&=248,f[31]&=127,f[31]|=64;var u=r+64;for(o=0;o<r;o++)e[64+o]=n[o];for(o=0;o<32;o++)e[32+o]=f[32+o];for(Y(c,e.subarray(32),r+32),fe(c),re(d,c),te(e,d),o=32;o<64;o++)e[o]=i[o];for(Y(s,e,r+64),fe(s),o=0;o<64;o++)l[o]=0;for(o=0;o<32;o++)l[o]=c[o];for(o=0;o<32;o++)for(a=0;a<32;a++)l[o+a]+=s[o]*f[a];return ae(e.subarray(32),l),u}function ce(e,n,r,i){var f,c=new Uint8Array(32),l=new Uint8Array(64),d=[t(),t(),t(),t()],u=[t(),t(),t(),t()];if(r<64||function(e,n){var r=t(),i=t(),f=t(),c=t(),l=t(),d=t(),u=t();return T(e[2],a),M(e[1],n),B(f,e[1]),W(c,f,s),L(f,f,e[2]),U(c,e[2],c),B(l,c),B(d,l),W(u,d,l),W(r,u,f),W(r,r,c),$(r,r),W(r,r,f),W(r,r,c),W(r,r,c),W(e[0],r,c),B(i,e[0]),W(i,i,c),K(i,f)&&W(e[0],e[0],h),B(i,e[0]),W(i,i,c),K(i,f)?-1:(j(e[0])===n[31]>>7&&L(e[0],o,e[0]),W(e[3],e[0],e[1]),0)}(u,i))return-1;for(f=0;f<r;f++)e[f]=n[f];for(f=0;f<32;f++)e[f+32]=i[f];if(Y(l,e,r),fe(l),ne(d,u,l),re(u,n.subarray(32)),Q(d,u),te(c,d),r-=64,v(n,0,c,0)){for(f=0;f<r;f++)e[f]=0;return-1}for(f=0;f<r;f++)e[f]=n[f+64];return r}var le=16,de=64,ue=32,he=64;function pe(e,t){if(32!==e.length)throw new Error("bad key size");if(24!==t.length)throw new Error("bad nonce size")}function be(){for(var e=0;e<arguments.length;e++)if(!(arguments[e]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function ge(e){for(var t=0;t<e.length;t++)e[t]=0}e.lowlevel={crypto_core_hsalsa20:m,crypto_stream_xor:_,crypto_stream:O,crypto_stream_salsa20_xor:w,crypto_stream_salsa20:x,crypto_onetimeauth:S,crypto_onetimeauth_verify:R,crypto_verify_16:g,crypto_verify_32:v,crypto_secretbox:N,crypto_secretbox_open:k,crypto_scalarmult:H,crypto_scalarmult_base:q,crypto_box_beforenm:J,crypto_box_afternm:V,crypto_box:function(e,t,n,r,i,o){var a=new Uint8Array(32);return J(a,i,o),V(e,t,n,r,a)},crypto_box_open:function(e,t,n,r,i,o){var a=new Uint8Array(32);return J(a,i,o),z(e,t,n,r,a)},crypto_box_keypair:F,crypto_hash:Y,crypto_sign:se,crypto_sign_keypair:ie,crypto_sign_open:ce,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:le,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:de,crypto_sign_PUBLICKEYBYTES:ue,crypto_sign_SECRETKEYBYTES:he,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:t,D:s,L:oe,pack25519:I,unpack25519:M,M:W,A:U,S:B,Z:L,pow2523:$,add:Q,set25519:T,modL:ae,scalarmult:ne,scalarbase:re},e.randomBytes=function(e){var t=new Uint8Array(e);return n(t,e),t},e.secretbox=function(e,t,n){be(e,t,n),pe(n,t);for(var r=new Uint8Array(32+e.length),i=new Uint8Array(r.length),o=0;o<e.length;o++)r[o+32]=e[o];return N(i,r,r.length,t,n),i.subarray(le)},e.secretbox.open=function(e,t,n){be(e,t,n),pe(n,t);for(var r=new Uint8Array(le+e.length),i=new Uint8Array(r.length),o=0;o<e.length;o++)r[o+le]=e[o];return r.length<32||0!==k(i,r,r.length,t,n)?null:i.subarray(32)},e.secretbox.keyLength=32,e.secretbox.nonceLength=24,e.secretbox.overheadLength=le,e.scalarMult=function(e,t){if(be(e,t),32!==e.length)throw new Error("bad n size");if(32!==t.length)throw new Error("bad p size");var n=new Uint8Array(32);return H(n,e,t),n},e.scalarMult.base=function(e){if(be(e),32!==e.length)throw new Error("bad n size");var t=new Uint8Array(32);return q(t,e),t},e.scalarMult.scalarLength=32,e.scalarMult.groupElementLength=32,e.box=function(t,n,r,i){var o=e.box.before(r,i);return e.secretbox(t,n,o)},e.box.before=function(e,t){be(e,t),function(e,t){if(32!==e.length)throw new Error("bad public key size");if(32!==t.length)throw new Error("bad secret key size")}(e,t);var n=new Uint8Array(32);return J(n,e,t),n},e.box.after=e.secretbox,e.box.open=function(t,n,r,i){var o=e.box.before(r,i);return e.secretbox.open(t,n,o)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(32);return F(e,t),{publicKey:e,secretKey:t}},e.box.keyPair.fromSecretKey=function(e){if(be(e),32!==e.length)throw new Error("bad secret key size");var t=new Uint8Array(32);return q(t,e),{publicKey:t,secretKey:new Uint8Array(e)}},e.box.publicKeyLength=32,e.box.secretKeyLength=32,e.box.sharedKeyLength=32,e.box.nonceLength=24,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(e,t){if(be(e,t),t.length!==he)throw new Error("bad secret key size");var n=new Uint8Array(de+e.length);return se(n,e,e.length,t),n},e.sign.open=function(e,t){if(be(e,t),t.length!==ue)throw new Error("bad public key size");var n=new Uint8Array(e.length),r=ce(n,e,e.length,t);if(r<0)return null;for(var i=new Uint8Array(r),o=0;o<i.length;o++)i[o]=n[o];return i},e.sign.detached=function(t,n){for(var r=e.sign(t,n),i=new Uint8Array(de),o=0;o<i.length;o++)i[o]=r[o];return i},e.sign.detached.verify=function(e,t,n){if(be(e,t,n),t.length!==de)throw new Error("bad signature size");if(n.length!==ue)throw new Error("bad public key size");var r,i=new Uint8Array(de+e.length),o=new Uint8Array(de+e.length);for(r=0;r<de;r++)i[r]=t[r];for(r=0;r<e.length;r++)i[r+de]=e[r];return ce(o,i,i.length,n)>=0},e.sign.keyPair=function(){var e=new Uint8Array(ue),t=new Uint8Array(he);return ie(e,t),{publicKey:e,secretKey:t}},e.sign.keyPair.fromSecretKey=function(e){if(be(e),e.length!==he)throw new Error("bad secret key size");for(var t=new Uint8Array(ue),n=0;n<t.length;n++)t[n]=e[32+n];return{publicKey:t,secretKey:new Uint8Array(e)}},e.sign.keyPair.fromSeed=function(e){if(be(e),32!==e.length)throw new Error("bad seed size");for(var t=new Uint8Array(ue),n=new Uint8Array(he),r=0;r<32;r++)n[r]=e[r];return ie(t,n,!0),{publicKey:t,secretKey:n}},e.sign.publicKeyLength=ue,e.sign.secretKeyLength=he,e.sign.seedLength=32,e.sign.signatureLength=de,e.hash=function(e){be(e);var t=new Uint8Array(64);return Y(t,e,e.length),t},e.hash.hashLength=64,e.verify=function(e,t){return be(e,t),0!==e.length&&0!==t.length&&e.length===t.length&&0===b(e,0,t,0,e.length)},e.setPRNG=function(e){n=e},function(){var t=typeof self<"u"?self.crypto||self.msCrypto:null;if(t&&t.getRandomValues){e.setPRNG((function(e,n){var r,i=new Uint8Array(n);for(r=0;r<n;r+=65536)t.getRandomValues(i.subarray(r,r+Math.min(n-r,65536)));for(r=0;r<n;r++)e[r]=i[r];ge(i)}))}else typeof u<"u"&&((t=A())&&t.randomBytes&&e.setPRNG((function(e,n){var r,i=t.randomBytes(n);for(r=0;r<n;r++)e[r]=i[r];ge(i)})))}()}(typeof t<"u"&&t.exports?t.exports:self.nacl=self.nacl||{})})),D=p(((e,t)=>{var n,i;n=e,i=function(){var e={};function t(e){if(!/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(e))throw new TypeError("invalid encoding")}return e.decodeUTF8=function(e){if("string"!=typeof e)throw new TypeError("expected string");var t,n=unescape(encodeURIComponent(e)),r=new Uint8Array(n.length);for(t=0;t<n.length;t++)r[t]=n.charCodeAt(t);return r},e.encodeUTF8=function(e){var t,n=[];for(t=0;t<e.length;t++)n.push(String.fromCharCode(e[t]));return decodeURIComponent(escape(n.join("")))},typeof atob>"u"?typeof r.from<"u"?(e.encodeBase64=function(e){return r.from(e).toString("base64")},e.decodeBase64=function(e){return t(e),new Uint8Array(Array.prototype.slice.call(r.from(e,"base64"),0))}):(e.encodeBase64=function(e){return new r(e).toString("base64")},e.decodeBase64=function(e){return t(e),new Uint8Array(Array.prototype.slice.call(new r(e,"base64"),0))}):(e.encodeBase64=function(e){var t,n=[],r=e.length;for(t=0;t<r;t++)n.push(String.fromCharCode(e[t]));return btoa(n.join(""))},e.decodeBase64=function(e){t(e);var n,r=atob(e),i=new Uint8Array(r.length);for(n=0;n<r.length;n++)i[n]=r.charCodeAt(n);return i}),e},typeof t<"u"&&t.exports?t.exports=i():(n.nacl||(n.nacl={}),n.nacl.util=i())}));function I(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),a=o.charCodeAt(0);if(255!==n[a])throw new TypeError(o+" is ambiguous");n[a]=i}var f=e.length,s=e.charAt(0),c=Math.log(f)/Math.log(256),l=Math.log(256)/Math.log(f);function d(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var r=0,i=0;e[t]===s;)r++,t++;for(var o=(e.length-t)*c+1>>>0,a=new Uint8Array(o);e[t];){var l=n[e.charCodeAt(t)];if(255===l)return;for(var d=0,u=o-1;(0!==l||d<i)&&-1!==u;u--,d++)l+=f*a[u]>>>0,a[u]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");i=d,t++}if(" "!==e[t]){for(var h=o-i;h!==o&&0===a[h];)h++;for(var p=new Uint8Array(r+(o-h)),b=r;h!==o;)p[b++]=a[h++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,i=0,o=t.length;i!==o&&0===t[i];)i++,n++;for(var a=(o-i)*l+1>>>0,c=new Uint8Array(a);i!==o;){for(var d=t[i],u=0,h=a-1;(0!==d||u<r)&&-1!==h;h--,u++)d+=256*c[h]>>>0,c[h]=d%f>>>0,d=d/f>>>0;if(0!==d)throw new Error("Non-zero carry");r=u,i++}for(var p=a-r;p!==a&&0===c[p];)p++;for(var b=s.repeat(n);p<a;++p)b+=e.charAt(c[p]);return b},decodeUnsafe:d,decode:function(e){var n=d(e);if(n)return n;throw new Error(`Non-${t} character`)}}}var K,j,M,U,L,W,B,X,$,H,q,F,J,V,z,G=h((()=>{K=I})),Z=h((()=>{new Uint8Array(0),j=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.byteLength;n++)if(e[n]!==t[n])return!1;return!0},M=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},U=e=>(new TextEncoder).encode(e),L=e=>(new TextDecoder).decode(e)})),Y=h((()=>{G(),Z(),W=class{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},B=class{constructor(e,t,n){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return $(this,e)}},X=class{constructor(e){this.decoders=e}or(e){return $(this,e)}decode(e){let t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},$=(e,t)=>new X({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}}),H=class{constructor(e,t,n,r){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=r,this.encoder=new W(e,t,n),this.decoder=new B(e,t,r)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},q=e=>{let{name:t,prefix:n,encode:r,decode:i}=e;return new H(t,n,r,i)},F=e=>{let{prefix:t,name:n,alphabet:r}=e,{encode:i,decode:o}=K(r,n);return q({prefix:t,name:n,encode:i,decode:e=>M(o(e))})},J=(e,t,n,r)=>{let i={};for(let l=0;l<t.length;++l)i[t[l]]=l;let o=e.length;for(;"="===e[o-1];)--o;let a=new Uint8Array(o*n/8|0),f=0,s=0,c=0;for(let l=0;l<o;++l){let t=i[e[l]];if(void 0===t)throw new SyntaxError(`Non-${r} character`);s=s<<n|t,f+=n,f>=8&&(f-=8,a[c++]=255&s>>f)}if(f>=n||255&s<<8-f)throw new SyntaxError("Unexpected end of data");return a},V=(e,t,n)=>{let r="="===t[t.length-1],i=(1<<n)-1,o="",a=0,f=0;for(let s=0;s<e.length;++s)for(f=f<<8|e[s],a+=8;a>n;)a-=n,o+=t[i&f>>a];if(a&&(o+=t[i&f<<n-a]),r)for(;o.length*n&7;)o+="=";return o},z=e=>{let{name:t,prefix:n,bitsPerChar:r,alphabet:i}=e;return q({prefix:n,name:t,encode:e=>V(e,i,r),decode:e=>J(e,i,r,t)})}})),Q={};b(Q,{identity:()=>ee});var ee,te=h((()=>{Y(),Z(),ee=q({prefix:"\0",name:"identity",encode:e=>L(e),decode:e=>U(e)})})),ne={};b(ne,{base2:()=>re});var re,ie=h((()=>{Y(),re=z({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1})})),oe={};b(oe,{base8:()=>ae});var ae,fe=h((()=>{Y(),ae=z({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3})})),se={};b(se,{base10:()=>ce});var ce,le=h((()=>{Y(),ce=F({prefix:"9",name:"base10",alphabet:"0123456789"})})),de={};b(de,{base16:()=>ue,base16upper:()=>he});var ue,he,pe=h((()=>{Y(),ue=z({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),he=z({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4})})),be={};b(be,{base32:()=>ge,base32hex:()=>Ce,base32hexpad:()=>xe,base32hexpadupper:()=>Oe,base32hexupper:()=>we,base32pad:()=>ye,base32padupper:()=>me,base32upper:()=>ve,base32z:()=>_e});var ge,ve,ye,me,Ce,we,xe,Oe,_e,Ee=h((()=>{Y(),ge=z({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),ve=z({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),ye=z({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),me=z({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Ce=z({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),we=z({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),xe=z({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Oe=z({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),_e=z({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})})),Se={};b(Se,{base36:()=>Re,base36upper:()=>Ne});var Re,Ne,ke=h((()=>{Y(),Re=F({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Ne=F({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})})),Te={};b(Te,{base58btc:()=>Ae,base58flickr:()=>Pe});var Ae,Pe,De=h((()=>{Y(),Ae=F({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Pe=F({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})})),Ie={};b(Ie,{base64:()=>Ke,base64pad:()=>je,base64url:()=>Me,base64urlpad:()=>Ue});var Ke,je,Me,Ue,Le=h((()=>{Y(),Ke=z({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),je=z({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Me=z({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Ue=z({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})})),We={};function Be(e){return e.reduce(((e,t)=>e+=He[t]),"")}function Xe(e){let t=[];for(let n of e){let e=qe[n.codePointAt(0)];if(void 0===e)throw new Error(`Non-base256emoji character: ${n}`);t.push(e)}return new Uint8Array(t)}b(We,{base256emoji:()=>Fe});var $e,He,qe,Fe,Je=h((()=>{Y(),$e=Array.from("\ud83d\ude80\ud83e\ude90\u2604\ud83d\udef0\ud83c\udf0c\ud83c\udf11\ud83c\udf12\ud83c\udf13\ud83c\udf14\ud83c\udf15\ud83c\udf16\ud83c\udf17\ud83c\udf18\ud83c\udf0d\ud83c\udf0f\ud83c\udf0e\ud83d\udc09\u2600\ud83d\udcbb\ud83d\udda5\ud83d\udcbe\ud83d\udcbf\ud83d\ude02\u2764\ud83d\ude0d\ud83e\udd23\ud83d\ude0a\ud83d\ude4f\ud83d\udc95\ud83d\ude2d\ud83d\ude18\ud83d\udc4d\ud83d\ude05\ud83d\udc4f\ud83d\ude01\ud83d\udd25\ud83e\udd70\ud83d\udc94\ud83d\udc96\ud83d\udc99\ud83d\ude22\ud83e\udd14\ud83d\ude06\ud83d\ude44\ud83d\udcaa\ud83d\ude09\u263a\ud83d\udc4c\ud83e\udd17\ud83d\udc9c\ud83d\ude14\ud83d\ude0e\ud83d\ude07\ud83c\udf39\ud83e\udd26\ud83c\udf89\ud83d\udc9e\u270c\u2728\ud83e\udd37\ud83d\ude31\ud83d\ude0c\ud83c\udf38\ud83d\ude4c\ud83d\ude0b\ud83d\udc97\ud83d\udc9a\ud83d\ude0f\ud83d\udc9b\ud83d\ude42\ud83d\udc93\ud83e\udd29\ud83d\ude04\ud83d\ude00\ud83d\udda4\ud83d\ude03\ud83d\udcaf\ud83d\ude48\ud83d\udc47\ud83c\udfb6\ud83d\ude12\ud83e\udd2d\u2763\ud83d\ude1c\ud83d\udc8b\ud83d\udc40\ud83d\ude2a\ud83d\ude11\ud83d\udca5\ud83d\ude4b\ud83d\ude1e\ud83d\ude29\ud83d\ude21\ud83e\udd2a\ud83d\udc4a\ud83e\udd73\ud83d\ude25\ud83e\udd24\ud83d\udc49\ud83d\udc83\ud83d\ude33\u270b\ud83d\ude1a\ud83d\ude1d\ud83d\ude34\ud83c\udf1f\ud83d\ude2c\ud83d\ude43\ud83c\udf40\ud83c\udf37\ud83d\ude3b\ud83d\ude13\u2b50\u2705\ud83e\udd7a\ud83c\udf08\ud83d\ude08\ud83e\udd18\ud83d\udca6\u2714\ud83d\ude23\ud83c\udfc3\ud83d\udc90\u2639\ud83c\udf8a\ud83d\udc98\ud83d\ude20\u261d\ud83d\ude15\ud83c\udf3a\ud83c\udf82\ud83c\udf3b\ud83d\ude10\ud83d\udd95\ud83d\udc9d\ud83d\ude4a\ud83d\ude39\ud83d\udde3\ud83d\udcab\ud83d\udc80\ud83d\udc51\ud83c\udfb5\ud83e\udd1e\ud83d\ude1b\ud83d\udd34\ud83d\ude24\ud83c\udf3c\ud83d\ude2b\u26bd\ud83e\udd19\u2615\ud83c\udfc6\ud83e\udd2b\ud83d\udc48\ud83d\ude2e\ud83d\ude46\ud83c\udf7b\ud83c\udf43\ud83d\udc36\ud83d\udc81\ud83d\ude32\ud83c\udf3f\ud83e\udde1\ud83c\udf81\u26a1\ud83c\udf1e\ud83c\udf88\u274c\u270a\ud83d\udc4b\ud83d\ude30\ud83e\udd28\ud83d\ude36\ud83e\udd1d\ud83d\udeb6\ud83d\udcb0\ud83c\udf53\ud83d\udca2\ud83e\udd1f\ud83d\ude41\ud83d\udea8\ud83d\udca8\ud83e\udd2c\u2708\ud83c\udf80\ud83c\udf7a\ud83e\udd13\ud83d\ude19\ud83d\udc9f\ud83c\udf31\ud83d\ude16\ud83d\udc76\ud83e\udd74\u25b6\u27a1\u2753\ud83d\udc8e\ud83d\udcb8\u2b07\ud83d\ude28\ud83c\udf1a\ud83e\udd8b\ud83d\ude37\ud83d\udd7a\u26a0\ud83d\ude45\ud83d\ude1f\ud83d\ude35\ud83d\udc4e\ud83e\udd32\ud83e\udd20\ud83e\udd27\ud83d\udccc\ud83d\udd35\ud83d\udc85\ud83e\uddd0\ud83d\udc3e\ud83c\udf52\ud83d\ude17\ud83e\udd11\ud83c\udf0a\ud83e\udd2f\ud83d\udc37\u260e\ud83d\udca7\ud83d\ude2f\ud83d\udc86\ud83d\udc46\ud83c\udfa4\ud83d\ude47\ud83c\udf51\u2744\ud83c\udf34\ud83d\udca3\ud83d\udc38\ud83d\udc8c\ud83d\udccd\ud83e\udd40\ud83e\udd22\ud83d\udc45\ud83d\udca1\ud83d\udca9\ud83d\udc50\ud83d\udcf8\ud83d\udc7b\ud83e\udd10\ud83e\udd2e\ud83c\udfbc\ud83e\udd75\ud83d\udea9\ud83c\udf4e\ud83c\udf4a\ud83d\udc7c\ud83d\udc8d\ud83d\udce3\ud83e\udd42"),He=$e.reduce(((e,t,n)=>(e[n]=t,e)),[]),qe=$e.reduce(((e,t,n)=>(e[t.codePointAt(0)]=n,e)),[]),Fe=q({prefix:"\ud83d\ude80",name:"base256emoji",encode:Be,decode:Xe})}));function Ve(e,t,n){t=t||[];for(var r=n=n||0;e>=Qe;)t[n++]=255&e|Ze,e/=128;for(;e&Ye;)t[n++]=255&e|Ze,e>>>=7;return t[n]=0|e,Ve.bytes=n-r+1,t}function ze(e,t){var n,r=0,i=0,o=t=t||0,a=e.length;do{if(o>=a)throw ze.bytes=0,new RangeError("Could not decode varint");n=e[o++],r+=i<28?(n&nt)<<i:(n&nt)*Math.pow(2,i),i+=7}while(n>=tt);return ze.bytes=o-t,r}var Ge,Ze,Ye,Qe,et,tt,nt,rt,it,ot,at,ft,st,ct,lt,dt,ut,ht,pt,bt,gt,vt,yt,mt,Ct,wt,xt=h((()=>{Ge=Ve,Ze=128,Ye=-128,Qe=Math.pow(2,31),et=ze,tt=128,nt=127,rt=Math.pow(2,7),it=Math.pow(2,14),ot=Math.pow(2,21),at=Math.pow(2,28),ft=Math.pow(2,35),st=Math.pow(2,42),ct=Math.pow(2,49),lt=Math.pow(2,56),dt=Math.pow(2,63),ut={encode:Ge,decode:et,encodingLength:function(e){return e<rt?1:e<it?2:e<ot?3:e<at?4:e<ft?5:e<st?6:e<ct?7:e<lt?8:e<dt?9:10}}})),Ot=h((()=>{xt(),ht=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return[ut.decode(e,t),ut.decode.bytes]},pt=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return ut.encode(e,t,n),t},bt=e=>ut.encodingLength(e)})),_t=h((()=>{Z(),Ot(),gt=(e,t)=>{let n=t.byteLength,r=bt(e),i=r+bt(n),o=new Uint8Array(i+n);return pt(e,o,0),pt(n,o,r),o.set(t,i),new mt(e,n,t,o)},vt=e=>{let t=M(e),[n,r]=ht(t),[i,o]=ht(t.subarray(r)),a=t.subarray(r+o);if(a.byteLength!==i)throw new Error("Incorrect length");return new mt(n,i,a,t)},yt=(e,t)=>e===t||e.code===t.code&&e.size===t.size&&j(e.bytes,t.bytes),mt=class{constructor(e,t,n,r){this.code=e,this.size=t,this.digest=n,this.bytes=r}}})),Et=h((()=>{_t(),Ct=e=>{let{name:t,code:n,encode:r}=e;return new wt(t,n,r)},wt=class{constructor(e,t,n){this.name=e,this.code=t,this.encode=n}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?gt(this.code,t):t.then((e=>gt(this.code,e)))}throw Error("Unknown type, must be binary type")}}})),St={};b(St,{sha256:()=>Nt,sha512:()=>kt});var Rt,Nt,kt,Tt=h((()=>{Et(),Nt=Ct({name:"sha2-256",code:18,encode:(Rt=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)))("SHA-256")}),kt=Ct({name:"sha2-512",code:19,encode:Rt("SHA-512")})})),At={};b(At,{identity:()=>It});var Pt,Dt,It,Kt,jt,Mt,Ut,Lt,Wt,Bt,Xt,$t,Ht,qt,Ft,Jt=h((()=>{Z(),_t(),Dt=e=>gt(0,Pt(e)),It={code:0,name:"identity",encode:Pt=M,digest:Dt}})),Vt=h((()=>{Z()})),zt=h((()=>{new TextEncoder,new TextDecoder})),Gt=h((()=>{Ot(),_t(),De(),Ee(),Z(),class e{constructor(e,t,n,r){this.code=t,this.version=e,this.multihash=n,this.bytes=r,this.byteOffset=r.byteOffset,this.byteLength=r.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:$t,byteLength:$t,code:Xt,version:Xt,multihash:Xt,bytes:Xt,_baseCache:$t,asCID:$t})}toV0(){if(0===this.version)return this;{let{code:t,multihash:n}=this;if(t!==Ut)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(n.code!==Lt)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return e.createV0(n)}}toV1(){switch(this.version){case 0:{let{code:t,digest:n}=this.multihash,r=gt(t,n);return e.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&yt(this.multihash,e.multihash)}toString(e){let{bytes:t,version:n,_baseCache:r}=this;return 0===n?jt(t,r,e||Ae.encoder):Mt(t,r,e||ge.encoder)}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return Ht(/^0\.0/,qt),!(!e||!e[Bt]&&e.asCID!==e)}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(t){if(t instanceof e)return t;if(null!=t&&t.asCID===t){let{version:n,code:r,multihash:i,bytes:o}=t;return new e(n,r,i,o||Wt(n,r,i.bytes))}if(null!=t&&!0===t[Bt]){let{version:n,multihash:r,code:i}=t,o=vt(r);return e.create(n,i,o)}return null}static create(t,n,r){if("number"!=typeof n)throw new Error("String codecs are no longer supported");switch(t){case 0:if(n!==Ut)throw new Error(`Version 0 CID must use dag-pb (code: ${Ut}) block encoding`);return new e(t,n,r,r.bytes);case 1:{let i=Wt(t,n,r.bytes);return new e(t,n,r,i)}default:throw new Error("Invalid version")}}static createV0(t){return e.create(0,Ut,t)}static createV1(t,n){return e.create(1,t,n)}static decode(t){let[n,r]=e.decodeFirst(t);if(r.length)throw new Error("Incorrect length");return n}static decodeFirst(t){let n=e.inspectBytes(t),r=n.size-n.multihashSize,i=M(t.subarray(r,r+n.multihashSize));if(i.byteLength!==n.multihashSize)throw new Error("Incorrect length");let o=i.subarray(n.multihashSize-n.digestSize),a=new mt(n.multihashCode,n.digestSize,o,i);return[0===n.version?e.createV0(a):e.createV1(n.codec,a),t.subarray(n.size)]}static inspectBytes(e){let t=0,n=()=>{let[n,r]=ht(e.subarray(t));return t+=r,n},r=n(),i=Ut;if(18===r?(r=0,t=0):1===r&&(i=n()),0!==r&&1!==r)throw new RangeError(`Invalid CID version ${r}`);let o=t,a=n(),f=n(),s=t+f;return{version:r,codec:i,multihashCode:a,digestSize:f,multihashSize:s-o,size:s}}static parse(t,n){let[r,i]=Kt(t,n),o=e.decode(i);return o._baseCache.set(r,t),o}},Kt=(e,t)=>{switch(e[0]){case"Q":{let n=t||Ae;return[Ae.prefix,n.decode(`${Ae.prefix}${e}`)]}case Ae.prefix:{let n=t||Ae;return[Ae.prefix,n.decode(e)]}case ge.prefix:{let n=t||ge;return[ge.prefix,n.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},jt=(e,t,n)=>{let{prefix:r}=n;if(r!==Ae.prefix)throw Error(`Cannot string encode V0 in ${n.name} encoding`);let i=t.get(r);if(null==i){let i=n.encode(e).slice(1);return t.set(r,i),i}return i},Mt=(e,t,n)=>{let{prefix:r}=n,i=t.get(r);if(null==i){let i=n.encode(e);return t.set(r,i),i}return i},Ut=112,Lt=18,Wt=(e,t,n)=>{let r=bt(e),i=r+bt(t),o=new Uint8Array(i+n.byteLength);return pt(e,o,0),pt(t,o,r),o.set(n,i),o},Bt=Symbol.for("@ipld/js-cid/CID"),Xt={writable:!1,configurable:!1,enumerable:!0},$t={writable:!1,enumerable:!1,configurable:!1},Ht=(e,t)=>{if(!e.test("0.0.0-dev"))throw new Error(t);i.warn(t)},qt="CID.isCID(v) is deprecated and will be removed in the next major release.\nFollowing code pattern:\n\nif (CID.isCID(value)) {\n  doSomethingWithCID(value)\n}\n\nIs replaced with:\n\nconst cid = CID.asCID(value)\nif (cid) {\n  // Make sure to use cid instead of value\n  doSomethingWithCID(cid)\n}\n"})),Zt=h((()=>{Gt(),Ot(),Z(),Et(),_t()})),Yt=h((()=>{te(),ie(),fe(),le(),pe(),Ee(),ke(),De(),Le(),Je(),Tt(),Jt(),Vt(),zt(),Zt(),Ft={...Q,...ne,...oe,...se,...de,...be,...Se,...Te,...Ie,...We},{...St,...At}}));var Qt=h((()=>{}));function en(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}var tn,nn,rn,on,an=h((()=>{Yt(),Qt(),tn=en("utf8","u",(e=>"u"+new TextDecoder("utf8").decode(e)),(e=>(new TextEncoder).encode(e.substring(1)))),nn=en("ascii","a",(e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}),(e=>{let t=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?globalThis.Buffer.allocUnsafe(e):new Uint8Array(e)}((e=e.substring(1)).length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t})),rn={utf8:tn,"utf-8":tn,hex:Ft.base16,latin1:nn,ascii:nn,binary:nn,...Ft},on=rn})),fn={};function sn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8",n=on[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.encoder.encode(e).substring(1):globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8")}b(fn,{toString:()=>sn});var cn=h((()=>{an()})),ln=p((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.mul=Math.imul||function(e,t){var n=65535&e,r=65535&t;return n*r+((e>>>16&65535)*r+n*(t>>>16&65535)<<16>>>0)|0},e.add=function(e,t){return e+t|0},e.sub=function(e,t){return e-t|0},e.rotl=function(e,t){return e<<t|e>>>32-t},e.rotr=function(e,t){return e<<32-t|e>>>t},e.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},e.MAX_SAFE_INTEGER=9007199254740991,e.isSafeInteger=function(t){return e.isInteger(t)&&t>=-e.MAX_SAFE_INTEGER&&t<=e.MAX_SAFE_INTEGER}})),dn=p((e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=ln();function n(e,t,n){return void 0===t&&(t=new Uint8Array(2)),void 0===n&&(n=0),t[n+0]=e>>>8,t[n+1]=e>>>0,t}function r(e,t,n){return void 0===t&&(t=new Uint8Array(2)),void 0===n&&(n=0),t[n+0]=e>>>0,t[n+1]=e>>>8,t}function i(e,t){return void 0===t&&(t=0),e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]}function o(e,t){return void 0===t&&(t=0),(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}function a(e,t){return void 0===t&&(t=0),e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]}function f(e,t){return void 0===t&&(t=0),(e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t])>>>0}function s(e,t,n){return void 0===t&&(t=new Uint8Array(4)),void 0===n&&(n=0),t[n+0]=e>>>24,t[n+1]=e>>>16,t[n+2]=e>>>8,t[n+3]=e>>>0,t}function c(e,t,n){return void 0===t&&(t=new Uint8Array(4)),void 0===n&&(n=0),t[n+0]=e>>>0,t[n+1]=e>>>8,t[n+2]=e>>>16,t[n+3]=e>>>24,t}function l(e,t,n){return void 0===t&&(t=new Uint8Array(8)),void 0===n&&(n=0),s(e/4294967296>>>0,t,n),s(e>>>0,t,n+4),t}function d(e,t,n){return void 0===t&&(t=new Uint8Array(8)),void 0===n&&(n=0),c(e>>>0,t,n),c(e/4294967296>>>0,t,n+4),t}e.readInt16BE=function(e,t){return void 0===t&&(t=0),(e[t+0]<<8|e[t+1])<<16>>16},e.readUint16BE=function(e,t){return void 0===t&&(t=0),(e[t+0]<<8|e[t+1])>>>0},e.readInt16LE=function(e,t){return void 0===t&&(t=0),(e[t+1]<<8|e[t])<<16>>16},e.readUint16LE=function(e,t){return void 0===t&&(t=0),(e[t+1]<<8|e[t])>>>0},e.writeUint16BE=n,e.writeInt16BE=n,e.writeUint16LE=r,e.writeInt16LE=r,e.readInt32BE=i,e.readUint32BE=o,e.readInt32LE=a,e.readUint32LE=f,e.writeUint32BE=s,e.writeInt32BE=s,e.writeUint32LE=c,e.writeInt32LE=c,e.readInt64BE=function(e,t){void 0===t&&(t=0);var n=i(e,t),r=i(e,t+4);return 4294967296*n+r-4294967296*(r>>31)},e.readUint64BE=function(e,t){return void 0===t&&(t=0),4294967296*o(e,t)+o(e,t+4)},e.readInt64LE=function(e,t){void 0===t&&(t=0);var n=a(e,t);return 4294967296*a(e,t+4)+n-4294967296*(n>>31)},e.readUint64LE=function(e,t){void 0===t&&(t=0);var n=f(e,t);return 4294967296*f(e,t+4)+n},e.writeUint64BE=l,e.writeInt64BE=l,e.writeUint64LE=d,e.writeInt64LE=d,e.readUintBE=function(e,t,n){if(void 0===n&&(n=0),e%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(e/8>t.length-n)throw new Error("readUintBE: array is too short for the given bitLength");for(var r=0,i=1,o=e/8+n-1;o>=n;o--)r+=t[o]*i,i*=256;return r},e.readUintLE=function(e,t,n){if(void 0===n&&(n=0),e%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(e/8>t.length-n)throw new Error("readUintLE: array is too short for the given bitLength");for(var r=0,i=1,o=n;o<n+e/8;o++)r+=t[o]*i,i*=256;return r},e.writeUintBE=function(e,n,r,i){if(void 0===r&&(r=new Uint8Array(e/8)),void 0===i&&(i=0),e%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!t.isSafeInteger(n))throw new Error("writeUintBE value must be an integer");for(var o=1,a=e/8+i-1;a>=i;a--)r[a]=n/o&255,o*=256;return r},e.writeUintLE=function(e,n,r,i){if(void 0===r&&(r=new Uint8Array(e/8)),void 0===i&&(i=0),e%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!t.isSafeInteger(n))throw new Error("writeUintLE value must be an integer");for(var o=1,a=i;a<i+e/8;a++)r[a]=n/o&255,o*=256;return r},e.readFloat32BE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t)},e.readFloat32LE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t,!0)},e.readFloat64BE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t)},e.readFloat64LE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t,!0)},e.writeFloat32BE=function(e,t,n){return void 0===t&&(t=new Uint8Array(4)),void 0===n&&(n=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat32(n,e),t},e.writeFloat32LE=function(e,t,n){return void 0===t&&(t=new Uint8Array(4)),void 0===n&&(n=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat32(n,e,!0),t},e.writeFloat64BE=function(e,t,n){return void 0===t&&(t=new Uint8Array(8)),void 0===n&&(n=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat64(n,e),t},e.writeFloat64LE=function(e,t,n){return void 0===t&&(t=new Uint8Array(8)),void 0===n&&(n=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat64(n,e,!0),t}})),un=p((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.wipe=function(e){for(var t=0;t<e.length;t++)e[t]=0;return e}})),hn=p((e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=dn(),n=un();e.DIGEST_LENGTH=32,e.BLOCK_SIZE=64;var r=function(){function r(){this.digestLength=e.DIGEST_LENGTH,this.blockSize=e.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return r.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},r.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},r.prototype.clean=function(){n.wipe(this._buffer),n.wipe(this._temp),this.reset()},r.prototype.update=function(e,t){if(void 0===t&&(t=e.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var n=0;if(this._bytesHashed+=t,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&t>0;)this._buffer[this._bufferLength++]=e[n++],t--;this._bufferLength===this.blockSize&&(o(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(t>=this.blockSize&&(n=o(this._temp,this._state,e,n,t),t%=this.blockSize);t>0;)this._buffer[this._bufferLength++]=e[n++],t--;return this},r.prototype.finish=function(e){if(!this._finished){var n=this._bytesHashed,r=this._bufferLength,i=n/536870912|0,a=n<<3,f=n%64<56?64:128;this._buffer[r]=128;for(var s=r+1;s<f-8;s++)this._buffer[s]=0;t.writeUint32BE(i,this._buffer,f-8),t.writeUint32BE(a,this._buffer,f-4),o(this._temp,this._state,this._buffer,0,f),this._finished=!0}for(s=0;s<this.digestLength/4;s++)t.writeUint32BE(this._state[s],e,4*s);return this},r.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},r.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},r.prototype.restoreState=function(e){return this._state.set(e.state),this._bufferLength=e.bufferLength,e.buffer&&this._buffer.set(e.buffer),this._bytesHashed=e.bytesHashed,this._finished=!1,this},r.prototype.cleanSavedState=function(e){n.wipe(e.state),e.buffer&&n.wipe(e.buffer),e.bufferLength=0,e.bytesHashed=0},r}();e.SHA256=r;var i=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function o(e,n,r,o,a){for(;a>=64;){for(var f=n[0],s=n[1],c=n[2],l=n[3],d=n[4],u=n[5],h=n[6],p=n[7],b=0;b<16;b++){var g=o+4*b;e[b]=t.readUint32BE(r,g)}for(b=16;b<64;b++){var v=e[b-2],y=(v>>>17|v<<15)^(v>>>19|v<<13)^v>>>10,m=((v=e[b-15])>>>7|v<<25)^(v>>>18|v<<14)^v>>>3;e[b]=(y+e[b-7]|0)+(m+e[b-16]|0)}for(b=0;b<64;b++){y=(((d>>>6|d<<26)^(d>>>11|d<<21)^(d>>>25|d<<7))+(d&u^~d&h)|0)+(p+(i[b]+e[b]|0)|0)|0,m=((f>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10))+(f&s^f&c^s&c)|0;p=h,h=u,u=d,d=l+y|0,l=c,c=s,s=f,f=y+m|0}n[0]+=f,n[1]+=s,n[2]+=c,n[3]+=l,n[4]+=d,n[5]+=u,n[6]+=h,n[7]+=p,o+=64,a-=64}return o}e.hash=function(e){var t=new r;t.update(e);var n=t.digest();return t.clean(),n}})),pn=p((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.logDebug=function(){if(typeof i<"u")try{for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];(t||window?.okxLogDebug)&&i.log("[OKX_CONNECT_SDK]",...n)}catch{}},e.logError=function(){if(typeof i<"u")try{for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];(t||window?.okxLogDebug)&&i.error("[OKX_CONNECT_SDK]",...n)}catch{}},e.logWarning=function(){if(typeof i<"u")try{for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];(t||window?.okxLogDebug)&&i.warn("[OKX_CONNECT_SDK]",...n)}catch{}};var t=!1})),bn=p((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.safeJsonParse=function(e){if("string"!=typeof e)throw(0,t.logDebug)(e),new Error("Cannot safe json parse value of type "+typeof e);try{return r(e)}catch(wf){return i.error("safeJsonParse error:",wf),e}},e.safeJsonStringify=function(e){return"string"==typeof e?e:n(e)||""};var t=pn(),n=e=>JSON.stringify(e,((e,t)=>"bigint"==typeof t?t.toString()+"n":t)),r=e=>{let t=e.replace(/:(\b\d{17,}|\b(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))(?=[,\}\]]|$)/g,(e=>`"${e}n"`));return JSON.parse(t,((e,t)=>"string"==typeof t&&t.match(/^\d+n$/)?BigInt(t.substring(0,t.length-1)):t))}}));function gn(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),a=o.charCodeAt(0);if(255!==n[a])throw new TypeError(o+" is ambiguous");n[a]=i}var f=e.length,s=e.charAt(0),c=Math.log(f)/Math.log(256),l=Math.log(256)/Math.log(f);function d(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var r=0,i=0;e[t]===s;)r++,t++;for(var o=(e.length-t)*c+1>>>0,a=new Uint8Array(o);e[t];){var l=n[e.charCodeAt(t)];if(255===l)return;for(var d=0,u=o-1;(0!==l||d<i)&&-1!==u;u--,d++)l+=f*a[u]>>>0,a[u]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");i=d,t++}if(" "!==e[t]){for(var h=o-i;h!==o&&0===a[h];)h++;for(var p=new Uint8Array(r+(o-h)),b=r;h!==o;)p[b++]=a[h++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,i=0,o=t.length;i!==o&&0===t[i];)i++,n++;for(var a=(o-i)*l+1>>>0,c=new Uint8Array(a);i!==o;){for(var d=t[i],u=0,h=a-1;(0!==d||u<r)&&-1!==h;h--,u++)d+=256*c[h]>>>0,c[h]=d%f>>>0,d=d/f>>>0;if(0!==d)throw new Error("Non-zero carry");r=u,i++}for(var p=a-r;p!==a&&0===c[p];)p++;for(var b=s.repeat(n);p<a;++p)b+=e.charAt(c[p]);return b},decodeUnsafe:d,decode:function(e){var n=d(e);if(n)return n;throw new Error(`Non-${t} character`)}}}var vn,yn=h((()=>{vn=gn})),mn={};b(mn,{coerce:()=>_n,empty:()=>Cn,equals:()=>On,fromHex:()=>xn,fromString:()=>Sn,isBinary:()=>En,toHex:()=>wn,toString:()=>Rn});var Cn,wn,xn,On,_n,En,Sn,Rn,Nn,kn,Tn,An,Pn,Dn,In,Kn,jn,Mn=h((()=>{Cn=new Uint8Array(0),wn=e=>e.reduce(((e,t)=>e+t.toString(16).padStart(2,"0")),""),xn=e=>{let t=e.match(/../g);return t?new Uint8Array(t.map((e=>parseInt(e,16)))):Cn},On=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.byteLength;n++)if(e[n]!==t[n])return!1;return!0},_n=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},En=e=>e instanceof ArrayBuffer||ArrayBuffer.isView(e),Sn=e=>(new TextEncoder).encode(e),Rn=e=>(new TextDecoder).decode(e)})),Un=h((()=>{yn(),Mn(),Nn=class{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},kn=class{constructor(e,t,n){this.name=e,this.prefix=t,this.baseDecode=n}decode(e){if("string"==typeof e){if(e[0]===this.prefix)return this.baseDecode(e.slice(1));throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`)}throw Error("Can only multibase decode strings")}or(e){let t={[this.prefix]:this,...e.decoders||{[e.prefix]:e}};return new Tn(t)}},Tn=class e{constructor(e){this.decoders=e}or(t){let n=t.decoders||{[t.prefix]:t};return new e({...this.decoders,...n})}decode(e){let t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},An=class{constructor(e,t,n,r){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=r,this.encoder=new Nn(e,t,n),this.decoder=new kn(e,t,r)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},Pn=e=>{let{name:t,prefix:n,encode:r,decode:i}=e;return new An(t,n,r,i)},Dn=e=>{let{prefix:t,name:n,alphabet:r}=e,{encode:i,decode:o}=vn(r,n);return Pn({prefix:t,name:n,encode:i,decode:e=>_n(o(e))})},In=(e,t,n,r)=>{let i={};for(let l=0;l<t.length;++l)i[t[l]]=l;let o=e.length;for(;"="===e[o-1];)--o;let a=new Uint8Array(o*n/8|0),f=0,s=0,c=0;for(let l=0;l<o;++l){let t=i[e[l]];if(void 0===t)throw new SyntaxError(`Non-${r} character`);s=s<<n|t,f+=n,f>=8&&(f-=8,a[c++]=255&s>>f)}if(f>=n||255&s<<8-f)throw new SyntaxError("Unexpected end of data");return a},Kn=(e,t,n)=>{let r="="===t[t.length-1],i=(1<<n)-1,o="",a=0,f=0;for(let s=0;s<e.length;++s)for(f=f<<8|e[s],a+=8;a>n;)a-=n,o+=t[i&f>>a];if(a&&(o+=t[i&f<<n-a]),r)for(;o.length*n&7;)o+="=";return o},jn=e=>{let{name:t,prefix:n,bitsPerChar:r,alphabet:i}=e;return Pn({prefix:n,name:t,encode:e=>Kn(e,i,r),decode:e=>In(e,i,r,t)})}})),Ln={};b(Ln,{identity:()=>Wn});var Wn,Bn=h((()=>{Un(),Mn(),Wn=Pn({prefix:"\0",name:"identity",encode:e=>Rn(e),decode:e=>Sn(e)})})),Xn={};b(Xn,{base2:()=>$n});var $n,Hn=h((()=>{Un(),$n=jn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1})})),qn={};b(qn,{base8:()=>Fn});var Fn,Jn=h((()=>{Un(),Fn=jn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3})})),Vn={};b(Vn,{base10:()=>zn});var zn,Gn=h((()=>{Un(),zn=Dn({prefix:"9",name:"base10",alphabet:"0123456789"})})),Zn={};b(Zn,{base16:()=>Yn,base16upper:()=>Qn});var Yn,Qn,er=h((()=>{Un(),Yn=jn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Qn=jn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4})})),tr={};b(tr,{base32:()=>nr,base32hex:()=>ar,base32hexpad:()=>sr,base32hexpadupper:()=>cr,base32hexupper:()=>fr,base32pad:()=>ir,base32padupper:()=>or,base32upper:()=>rr,base32z:()=>lr});var nr,rr,ir,or,ar,fr,sr,cr,lr,dr=h((()=>{Un(),nr=jn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),rr=jn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),ir=jn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),or=jn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),ar=jn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),fr=jn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),sr=jn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),cr=jn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),lr=jn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})})),ur={};b(ur,{base36:()=>hr,base36upper:()=>pr});var hr,pr,br=h((()=>{Un(),hr=Dn({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),pr=Dn({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})})),gr={};b(gr,{base58btc:()=>vr,base58flickr:()=>yr});var vr,yr,mr=h((()=>{Un(),vr=Dn({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),yr=Dn({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})})),Cr={};b(Cr,{base64:()=>wr,base64pad:()=>xr,base64url:()=>Or,base64urlpad:()=>_r});var wr,xr,Or,_r,Er=h((()=>{Un(),wr=jn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),xr=jn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Or=jn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),_r=jn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})}));function Sr(e,t,n){t=t||[];for(var r=n=n||0;e>=Ar;)t[n++]=255&e|kr,e/=128;for(;e&Tr;)t[n++]=255&e|kr,e>>>=7;return t[n]=0|e,Sr.bytes=n-r+1,t}function Rr(e,t){var n,r=0,i=0,o=t=t||0,a=e.length;do{if(o>=a)throw Rr.bytes=0,new RangeError("Could not decode varint");n=e[o++],r+=i<28?(n&Ir)<<i:(n&Ir)*Math.pow(2,i),i+=7}while(n>=Dr);return Rr.bytes=o-t,r}var Nr,kr,Tr,Ar,Pr,Dr,Ir,Kr,jr,Mr,Ur,Lr,Wr,Br,Xr,$r,Hr,qr=h((()=>{Nr=Sr,kr=128,Tr=-128,Ar=Math.pow(2,31),Pr=Rr,Dr=128,Ir=127,Kr=Math.pow(2,7),jr=Math.pow(2,14),Mr=Math.pow(2,21),Ur=Math.pow(2,28),Lr=Math.pow(2,35),Wr=Math.pow(2,42),Br=Math.pow(2,49),Xr=Math.pow(2,56),$r=Math.pow(2,63),Hr={encode:Nr,decode:Pr,encodingLength:function(e){return e<Kr?1:e<jr?2:e<Mr?3:e<Ur?4:e<Lr?5:e<Wr?6:e<Br?7:e<Xr?8:e<$r?9:10}}})),Fr={};b(Fr,{decode:()=>Jr,encodeTo:()=>Vr,encodingLength:()=>zr});var Jr,Vr,zr,Gr=h((()=>{qr(),Jr=e=>[Hr.decode(e),Hr.decode.bytes],Vr=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Hr.encode(e,t,n),t},zr=e=>Hr.encodingLength(e)})),Zr={};b(Zr,{Digest:()=>ti,create:()=>Yr,decode:()=>Qr,equals:()=>ei});var Yr,Qr,ei,ti,ni=h((()=>{Mn(),Gr(),Yr=(e,t)=>{let n=t.byteLength,r=zr(e),i=r+zr(n),o=new Uint8Array(i+n);return Vr(e,o,0),Vr(n,o,r),o.set(t,i),new ti(e,n,t,o)},Qr=e=>{let t=_n(e),[n,r]=Jr(t),[i,o]=Jr(t.subarray(r)),a=t.subarray(r+o);if(a.byteLength!==i)throw new Error("Incorrect length");return new ti(n,i,a,t)},ei=(e,t)=>e===t||e.code===t.code&&e.size===t.size&&On(e.bytes,t.bytes),ti=class{constructor(e,t,n,r){this.code=e,this.size=t,this.digest=n,this.bytes=r}}})),ri={};b(ri,{Hasher:()=>oi,from:()=>ii});var ii,oi,ai=h((()=>{ni(),ii=e=>{let{name:t,code:n,encode:r}=e;return new oi(t,n,r)},oi=class{constructor(e,t,n){this.name=e,this.code=t,this.encode=n}async digest(e){if(e instanceof Uint8Array){let t=await this.encode(e);return Yr(this.code,t)}throw Error("Unknown type, must be binary type")}}})),fi={};b(fi,{sha256:()=>ci,sha512:()=>li});var si,ci,li,di=h((()=>{ai(),ci=ii({name:"sha2-256",code:18,encode:(si=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)))("SHA-256")}),li=ii({name:"sha2-512",code:19,encode:si("SHA-512")})})),ui={};b(ui,{identity:()=>hi});var hi,pi=h((()=>{ai(),Mn(),hi=ii({name:"identity",code:0,encode:e=>_n(e)})})),bi={};b(bi,{code:()=>yi,decode:()=>Ci,encode:()=>mi,name:()=>vi});var gi,vi,yi,mi,Ci,wi=h((()=>{Mn(),gi=e=>_n(e),({name:vi,code:yi,encode:mi,decode:Ci}={name:"raw",code:85,decode:gi,encode:gi})})),xi={};b(xi,{code:()=>_i,decode:()=>Si,encode:()=>Ei,name:()=>Oi});var Oi,_i,Ei,Si,Ri,Ni,ki,Ti,Ai,Pi,Di,Ii,Ki,ji,Mi,Ui,Li=h((()=>{({name:Oi,code:_i,encode:Ei,decode:Si}={name:"json",code:512,encode:e=>(new TextEncoder).encode(JSON.stringify(e)),decode:e=>JSON.parse((new TextDecoder).decode(e))})})),Wi=h((()=>{Gr(),ni(),mr(),dr(),Mn(),Ri=class e{constructor(e,t,n,r){this.code=t,this.version=e,this.multihash=n,this.bytes=r,this.byteOffset=r.byteOffset,this.byteLength=r.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:ji,byteLength:ji,code:Ki,version:Ki,multihash:Ki,bytes:Ki,_baseCache:ji,asCID:ji})}toV0(){if(0===this.version)return this;{let{code:t,multihash:n}=this;if(t!==Ai)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(n.code!==Pi)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return e.createV0(n)}}toV1(){switch(this.version){case 0:{let{code:t,digest:n}=this.multihash,r=Yr(t,n);return e.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&ei(this.multihash,e.multihash)}toString(e){let{bytes:t,version:n,_baseCache:r}=this;return 0===n?ki(t,r,e||vr.encoder):Ti(t,r,e||nr.encoder)}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return Mi(/^0\.0/,Ui),!(!e||!e[Ii]&&e.asCID!==e)}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(t){if(t instanceof e)return t;if(null!=t&&t.asCID===t){let{version:n,code:r,multihash:i,bytes:o}=t;return new e(n,r,i,o||Di(n,r,i.bytes))}if(null!=t&&!0===t[Ii]){let{version:n,multihash:r,code:i}=t,o=Qr(r);return e.create(n,i,o)}return null}static create(t,n,r){if("number"!=typeof n)throw new Error("String codecs are no longer supported");switch(t){case 0:if(n!==Ai)throw new Error(`Version 0 CID must use dag-pb (code: ${Ai}) block encoding`);return new e(t,n,r,r.bytes);case 1:{let i=Di(t,n,r.bytes);return new e(t,n,r,i)}default:throw new Error("Invalid version")}}static createV0(t){return e.create(0,Ai,t)}static createV1(t,n){return e.create(1,t,n)}static decode(t){let[n,r]=e.decodeFirst(t);if(r.length)throw new Error("Incorrect length");return n}static decodeFirst(t){let n=e.inspectBytes(t),r=n.size-n.multihashSize,i=_n(t.subarray(r,r+n.multihashSize));if(i.byteLength!==n.multihashSize)throw new Error("Incorrect length");let o=i.subarray(n.multihashSize-n.digestSize),a=new ti(n.multihashCode,n.digestSize,o,i);return[0===n.version?e.createV0(a):e.createV1(n.codec,a),t.subarray(n.size)]}static inspectBytes(e){let t=0,n=()=>{let[n,r]=Jr(e.subarray(t));return t+=r,n},r=n(),i=Ai;if(18===r?(r=0,t=0):1===r&&(i=n()),0!==r&&1!==r)throw new RangeError(`Invalid CID version ${r}`);let o=t,a=n(),f=n(),s=t+f;return{version:r,codec:i,multihashCode:a,digestSize:f,multihashSize:s-o,size:s}}static parse(t,n){let[r,i]=Ni(t,n),o=e.decode(i);return o._baseCache.set(r,t),o}},Ni=(e,t)=>{switch(e[0]){case"Q":{let n=t||vr;return[vr.prefix,n.decode(`${vr.prefix}${e}`)]}case vr.prefix:{let n=t||vr;return[vr.prefix,n.decode(e)]}case nr.prefix:{let n=t||nr;return[nr.prefix,n.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},ki=(e,t,n)=>{let{prefix:r}=n;if(r!==vr.prefix)throw Error(`Cannot string encode V0 in ${n.name} encoding`);let i=t.get(r);if(null==i){let i=n.encode(e).slice(1);return t.set(r,i),i}return i},Ti=(e,t,n)=>{let{prefix:r}=n,i=t.get(r);if(null==i){let i=n.encode(e);return t.set(r,i),i}return i},Ai=112,Pi=18,Di=(e,t,n)=>{let r=zr(e),i=r+zr(t),o=new Uint8Array(i+n.byteLength);return Vr(e,o,0),Vr(t,o,r),o.set(n,i),o},Ii=Symbol.for("@ipld/js-cid/CID"),Ki={writable:!1,configurable:!1,enumerable:!0},ji={writable:!1,enumerable:!1,configurable:!1},Mi=(e,t)=>{if(!e.test("0.0.0-dev"))throw new Error(t);i.warn(t)},Ui="CID.isCID(v) is deprecated and will be removed in the next major release.\nFollowing code pattern:\n\nif (CID.isCID(value)) {\n  doSomethingWithCID(value)\n}\n\nIs replaced with:\n\nconst cid = CID.asCID(value)\nif (cid) {\n  // Make sure to use cid instead of value\n  doSomethingWithCID(cid)\n}\n"})),Bi=h((()=>{Wi(),Gr(),Mn(),ai(),ni()})),Xi={};b(Xi,{CID:()=>Ri,bases:()=>$i,bytes:()=>mn,codecs:()=>qi,digest:()=>Zr,hasher:()=>ri,hashes:()=>Hi,varint:()=>Fr});var $i,Hi,qi,Fi=h((()=>{Bn(),Hn(),Jn(),Gn(),er(),dr(),br(),mr(),Er(),di(),pi(),wi(),Li(),Bi(),$i={...Ln,...Xn,...qn,...Vn,...Zn,...tr,...ur,...gr,...Cr},Hi={...fi,...ui},qi={raw:bi,json:xi}})),Ji=p((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.okxfromString=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8",r=f[t];if((0,n.logDebug)("okxfromstring ====> "),!r)throw new Error(`Unsupported encoding "${t}"`);return r.decoder.decode(`${r.prefix}${e}`)},e.okxtoString=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8",r=f[t];if((0,n.logDebug)("okxtoString ====> "),!r)throw new Error(`Unsupported encoding "${t}"`);return r.encoder.encode(e).substring(1)},e.alloc=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Uint8Array(e)},e.allocUnsafe=r;var t=(Fi(),y(Xi)),n=pn();function r(){return new Uint8Array(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)}function i(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}var o=i("utf8","u",(e=>"u"+new TextDecoder("utf8").decode(e)),(e=>(new TextEncoder).encode(e.substring(1)))),a=i("ascii","a",(e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}),(e=>{let t=r((e=e.substring(1)).length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t})),f=Object.assign({utf8:o,"utf-8":o,hex:t.bases.base16,latin1:a,ascii:a,binary:a},t.bases)})),Vi=p((e=>{var t=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.isValidObject=e.RANDOM_LENGTH=e.isBrowser=e.resolveLocalStorage=e.hasLocalStorage=e.hasBuiltInWebSocket=e.resolveWebSocketImplementation=void 0,e.hexToByteArray=function(e){if(e.length%2!==0)throw new Error(`Cannot convert ${e} to bytesArray`);let t=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2)t[n/2]=parseInt(e.slice(n,n+2),16);return t},e.toHexString=function(e){let t="";return e.forEach((e=>{t+=("0"+(255&e).toString(16)).slice(-2)})),t},e.concatUint8Arrays=function(e,t){let n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n},e.splitToUint8Arrays=function(e,t){if(t>=e.length)throw new Error("Index is out of buffer");let n=e.slice(0,t),r=e.slice(t);return[n,r]},e.base64encode=function(e,t){let n;return e instanceof Uint8Array?n=e:("string"!=typeof e&&(e=(0,f.safeJsonStringify)(e)),n=i.default.decodeUTF8(e)),function(e,t){let n=i.default.encodeBase64(e);return t?encodeURIComponent(n):n}(n,t)},e.base64decode=function(e,t){let n=function(e,t){return t&&(e=decodeURIComponent(e)),i.default.decodeBase64(e)}(e,t);return{toString:()=>i.default.encodeUTF8(n),toObject(){try{return(0,f.safeJsonParse)(i.default.encodeUTF8(n))}catch{return null}},toUint8Array:()=>n}},e.checkWSUrl=function(e){let t=e.match(new RegExp(/^\w+:/,"gi"));if(!t||!t.length)return!1;let n=t[0];return void 0!==n&&new RegExp("^wss?:").test(n)},e.hashKey=d,e.generateRandomBytes32=u,e.generateTopic=function(){let e=u();return(0,s.logDebug)(`generate topic called ${e}`),d((0,o.toString)(e,l))},e.isIos=function(){let e=navigator.userAgent,t=navigator.maxTouchPoints||0,n=/iPad|iPhone|iPod/.test(e)&&!window.MSStream,r=e.includes("Mac")&&t>1;return(0,s.logDebug)(`utils isIos >>>isIOSDevice: ${n}    >> isIPadOS: ${r}`),n||r};var r=t(P()),i=t(D()),o=(cn(),y(fn)),a=hn(),f=bn(),s=pn(),c=Ji(),l="base16";e.resolveWebSocketImplementation=()=>typeof WebSocket<"u"?WebSocket:typeof n.g<"u"&&typeof n.g.WebSocket<"u"?n.g.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:WebSocket;e.hasBuiltInWebSocket=()=>typeof WebSocket<"u"||typeof n.g<"u"&&typeof n.g.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u";e.hasLocalStorage=()=>typeof n.g<"u"&&typeof n.g.localStorage<"u"||typeof window<"u"&&typeof window.localStorage<"u";e.resolveLocalStorage=()=>typeof n.g<"u"&&typeof n.g.localStorage<"u"?n.g.localStorage:typeof window<"u"&&typeof window.localStorage<"u"?window.localStorage:localStorage;function d(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l;(0,s.logDebug)(`hash key called ${e}`);let n=(0,a.hash)((0,c.okxfromString)(e,t));return(0,o.toString)(n,t)}function u(){return r.default.randomBytes(e.RANDOM_LENGTH)}e.isBrowser=()=>typeof window<"u",e.RANDOM_LENGTH=32;e.isValidObject=e=>Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length})),zi=p((e=>{var t=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(t){o(t)}}function f(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,f)}s((r=r.apply(e,t||[])).next())}))};function n(e,n){return t(this,void 0,void 0,(function*(){return new Promise(((t,r)=>{var i,o;if(null!==(i=n?.signal)&&void 0!==i&&i.aborted)return void r(new Error("Delay aborted"));let a=setTimeout((()=>t()),e);null===(o=n?.signal)||void 0===o||o.addEventListener("abort",(()=>{clearTimeout(a),r(new Error("Delay aborted"))}))}))}))}Object.defineProperty(e,"__esModule",{value:!0}),e.callForSuccess=function(e,r){return t(this,void 0,void 0,(function*(){var t,i;let o=null!==(t=r?.attempts)&&void 0!==t?t:3,a=null!==(i=r?.delayMs)&&void 0!==i?i:800;if("function"!=typeof e)throw new Error("Expected a function, got "+typeof e);let f,s=0;for(;s<o;)try{return yield e()}catch(c){f=c,s++,s<o&&(yield n(a))}throw f}))},e.delay=n})),Gi=p((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_ERROR=e.STANDARD_ERROR_MAP=e.SERVER_ERROR_CODE_RANGE=e.RESERVED_ERROR_CODES=e.SERVER_ERROR=e.INTERNAL_ERROR=e.INVALID_PARAMS=e.METHOD_NOT_FOUND=e.INVALID_REQUEST=e.PARSE_ERROR=e.OKX_CONNECT_ERROR_CODES=e.OKXConnectError=void 0;var t,n,r=class e extends Error{constructor(n,r){null==r&&(r=function(e){return e==t.UNKNOWN_ERROR?"unknown error":e==t.BAD_REQUEST_ERROR?"bad request error":e==t.ALREADY_CONNECTED_ERROR?"already connected error":e==t.NOT_CONNECTED_ERROR?"not connected error":e==t.UNKNOWN_APP_ERROR?"unknown app error":e==t.USER_REJECTS_ERROR?"user rejects error":e==t.METHOD_NOT_SUPPORTED?"method not supported":e==t.CONNECTION_ERROR?"connect error":"unknown error"}(n)),super(r),this.code=n,this.message=`${e.prefix} ${r?"\n"+r:""}`,Object.setPrototypeOf(this,e.prototype)}toJSON(){return{message:this.message,code:this.code}}};e.OKXConnectError=r,r.prefix="[OKX_CONNECT_SDK_ERROR]",(n=t||(e.OKX_CONNECT_ERROR_CODES=t={}))[n.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",n[n.BAD_REQUEST_ERROR=1]="BAD_REQUEST_ERROR",n[n.ALREADY_CONNECTED_ERROR=11]="ALREADY_CONNECTED_ERROR",n[n.NOT_CONNECTED_ERROR=12]="NOT_CONNECTED_ERROR",n[n.UNKNOWN_APP_ERROR=100]="UNKNOWN_APP_ERROR",n[n.USER_REJECTS_ERROR=300]="USER_REJECTS_ERROR",n[n.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED",n[n.CHAIN_NOT_SUPPORTED=500]="CHAIN_NOT_SUPPORTED",n[n.WALLET_NOT_SUPPORTED=600]="WALLET_NOT_SUPPORTED",n[n.CONNECTION_ERROR=700]="CONNECTION_ERROR",e.PARSE_ERROR="PARSE_ERROR",e.INVALID_REQUEST="INVALID_REQUEST",e.METHOD_NOT_FOUND="METHOD_NOT_FOUND",e.INVALID_PARAMS="INVALID_PARAMS",e.INTERNAL_ERROR="INTERNAL_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.RESERVED_ERROR_CODES=[-32700,-32600,-32601,-32602,-32603],e.SERVER_ERROR_CODE_RANGE=[-32e3,-32099],e.STANDARD_ERROR_MAP={[e.PARSE_ERROR]:{code:-32700,message:"Parse error"},[e.INVALID_REQUEST]:{code:-32600,message:"Invalid Request"},[e.METHOD_NOT_FOUND]:{code:-32601,message:"Method not found"},[e.INVALID_PARAMS]:{code:-32602,message:"Invalid params"},[e.INTERNAL_ERROR]:{code:-32603,message:"Internal error"},[e.SERVER_ERROR]:{code:-32e3,message:"Server error"}},e.DEFAULT_ERROR=e.SERVER_ERROR})),Zi=p((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.OKX_CONNECT_ERROR_CODES=e.OKXConnectError=void 0;var t=Gi();Object.defineProperty(e,"OKXConnectError",{enumerable:!0,get:function(){return t.OKXConnectError}}),Object.defineProperty(e,"OKX_CONNECT_ERROR_CODES",{enumerable:!0,get:function(){return t.OKX_CONNECT_ERROR_CODES}})})),Yi=p((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NameSpaceKeyAptos=e.NameSpaceKeyBtc=e.NameSpaceKeySui=e.NameSpaceKeyTON=e.NameSpaceKeySOL=e.NameSpaceKeyEip155=void 0,e.NameSpaceKeyEip155="eip155",e.NameSpaceKeySOL="solana",e.NameSpaceKeyTON="ton",e.NameSpaceKeySui="sui",e.NameSpaceKeyBtc="btc",e.NameSpaceKeyAptos="aptos"})),Qi=p((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.tgwalletName=e.tonConnectSdkVersion=e.standardDeeplink=e.standardUniversalLink=e.okxDeeplink=void 0,e.okxDeeplink="okx://web3",e.standardUniversalLink="https://www.okx.com/download",e.standardDeeplink=`${e.okxDeeplink}/wallet/connect`,e.tonConnectSdkVersion="1",e.tgwalletName="OKX_WALLET_BOT"})),eo=p((e=>{var t=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};function n(e){return"object"==typeof e&&"id"in e&&"jsonrpc"in e&&"2.0"===e.jsonrpc}function r(e){return"result"in e}function i(e){return"error"in e}Object.defineProperty(e,"__esModule",{value:!0}),e.isJsonRpcPayload=n,e.isJsonRpcRequest=function(e){return n(e)&&"method"in e},e.isJsonRpcResponse=function(e){return n(e)&&(r(e)||i(e))},e.isJsonRpcResult=r,e.isJsonRpcError=i,e.payloadId=l,e.getBigIntRpcId=function(){let e=BigInt(Date.now())*BigInt(1e6),t=BigInt(c.getNextValue());return e+t},e.formatJsonRpcRequest=function(e,t,n){return{id:n||l(),jsonrpc:"2.0",method:e,params:t}},e.formatJsonRpcResult=function(e,t){return{id:e,jsonrpc:"2.0",result:t}},e.formatJsonRpcError=function(e,t,n){return{id:e,jsonrpc:"2.0",error:p(t,n)}},e.isReservedErrorCode=d,e.getError=u,e.getErrorByCode=h,e.formatErrorMessage=p,e.isHttpUrl=function(e){return b(e,"^https?:")},e.isWsUrl=function(e){return b(e,"^wss?:")},e.parseConnectionError=function(e,t,n){return e.message.includes("getaddrinfo ENOTFOUND")||e.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${n} RPC url at ${t}`):e};var o=Gi(),a=t(P()),f=class{constructor(e){this.i=1;8===e?new Uint8Array(1):16===e?new Uint16Array(1):new Uint32Array(1);this.initialValue=a.default.randomBytes(e/8)[0]}getNextValue(){return this.initialValue+this.i++}},s=new f(8),c=new f(16);function l(){return 1e3*Date.now()+s.getNextValue()}function d(e){return o.RESERVED_ERROR_CODES.includes(e)}function u(e){return Object.keys(o.STANDARD_ERROR_MAP).includes(e)?o.STANDARD_ERROR_MAP[e]:o.STANDARD_ERROR_MAP[o.DEFAULT_ERROR]}function h(e){return Object.values(o.STANDARD_ERROR_MAP).find((t=>t.code===e))||o.STANDARD_ERROR_MAP[o.DEFAULT_ERROR]}function p(e,t){return typeof e>"u"?u(o.INTERNAL_ERROR):("string"==typeof e&&(e=Object.assign(Object.assign({},u(o.SERVER_ERROR)),{message:e})),typeof t<"u"&&(e.data=t),d(e.code)&&(e=h(e.code)),e)}function b(e,t){let n=function(e){let t=e.match(new RegExp(/^\w+:/,"gi"));if(t&&t.length)return t[0]}(e);return!(typeof n>"u")&&new RegExp(t).test(n)}})),to=p((e=>{var t=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.IEngine=e.ISignClient=e.ISignClientEvents=e.IEngineEvents=void 0;var n=t(m()),r=class extends n.default{constructor(){super()}};e.IEngineEvents=r;var i=class extends n.default{constructor(){super()}};e.ISignClientEvents=i;e.ISignClient=class{constructor(e){this.data=e}};e.IEngine=class{constructor(e){this.client=e}}})),no=p((e=>{var t;Object.defineProperty(e,"__esModule",{value:!0}),e.TONCHAIN=void 0,(t||(e.TONCHAIN=t={})).MAINNET="-239"})),ro=p((e=>{var t,n;Object.defineProperty(e,"__esModule",{value:!0}),e.CONNECT_ITEM_ERROR_CODES=void 0,(n=t||(e.CONNECT_ITEM_ERROR_CODES=t={}))[n.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",n[n.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED"})),io=p((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CONNECT_ITEM_ERROR_CODES=e.TONCHAIN=void 0;var t=no();Object.defineProperty(e,"TONCHAIN",{enumerable:!0,get:function(){return t.TONCHAIN}});var n=ro();Object.defineProperty(e,"CONNECT_ITEM_ERROR_CODES",{enumerable:!0,get:function(){return n.CONNECT_ITEM_ERROR_CODES}})})),oo=p((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.creatOKXWalletInfo=function(){return{appName:"okxAppWallet",name:"OKX Wallet",imageUrl:"https://static.okx.com/cdn/assets/imgs/247/58E63FEA47A2B7D7.png",aboutUrl:"https://www.okx.com/web3",universalLink:t.standardUniversalLink,deepLink:t.standardDeeplink,platforms:["ios","android"]}},e.creatOKXMiniAppWalletInfo=function(){return{appName:"okxMiniApp",name:"OKX Mini Wallet",imageUrl:"https://static.okx.com/cdn/assets/imgs/247/58E63FEA47A2B7D7.png",aboutUrl:"https://www.okx.com/web3",universalLink:`https://t.me/${t.tgwalletName}/start`,deepLink:"",platforms:["ios","android","macos","windows"]}};var t=Qi()})),ao=p((e=>{var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var r in e)"default"!==r&&!Object.prototype.hasOwnProperty.call(n,r)&&t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),e.creatOKXMiniAppWalletInfo=e.creatOKXWalletInfo=e.ISignClientEvents=e.IEngine=e.IEngineEvents=e.ISignClient=e.getBigIntRpcId=e.formatJsonRpcRequest=e.isJsonRpcError=e.isJsonRpcResponse=e.parseConnectionError=e.isHttpUrl=e.formatJsonRpcError=void 0;var r=eo();Object.defineProperty(e,"formatJsonRpcError",{enumerable:!0,get:function(){return r.formatJsonRpcError}}),Object.defineProperty(e,"isHttpUrl",{enumerable:!0,get:function(){return r.isHttpUrl}}),Object.defineProperty(e,"parseConnectionError",{enumerable:!0,get:function(){return r.parseConnectionError}}),Object.defineProperty(e,"isJsonRpcResponse",{enumerable:!0,get:function(){return r.isJsonRpcResponse}}),Object.defineProperty(e,"isJsonRpcError",{enumerable:!0,get:function(){return r.isJsonRpcError}}),Object.defineProperty(e,"formatJsonRpcRequest",{enumerable:!0,get:function(){return r.formatJsonRpcRequest}}),Object.defineProperty(e,"getBigIntRpcId",{enumerable:!0,get:function(){return r.getBigIntRpcId}});var i=to();Object.defineProperty(e,"ISignClient",{enumerable:!0,get:function(){return i.ISignClient}}),Object.defineProperty(e,"IEngineEvents",{enumerable:!0,get:function(){return i.IEngineEvents}}),Object.defineProperty(e,"IEngine",{enumerable:!0,get:function(){return i.IEngine}}),Object.defineProperty(e,"ISignClientEvents",{enumerable:!0,get:function(){return i.ISignClientEvents}}),n(io(),e);var o=oo();Object.defineProperty(e,"creatOKXWalletInfo",{enumerable:!0,get:function(){return o.creatOKXWalletInfo}}),Object.defineProperty(e,"creatOKXMiniAppWalletInfo",{enumerable:!0,get:function(){return o.creatOKXMiniAppWalletInfo}})})),fo=p((e=>{var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var r in e)"default"!==r&&!Object.prototype.hasOwnProperty.call(n,r)&&t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),e.okxDeeplink=e.tonConnectSdkVersion=e.standardDeeplink=e.standardUniversalLink=e.NameSpaceKeyAptos=e.NameSpaceKeyBtc=e.NameSpaceKeySui=e.NameSpaceKeyTON=e.NameSpaceKeySOL=e.NameSpaceKeyEip155=void 0,n(Zi(),e);var r=Yi();Object.defineProperty(e,"NameSpaceKeyEip155",{enumerable:!0,get:function(){return r.NameSpaceKeyEip155}}),Object.defineProperty(e,"NameSpaceKeySOL",{enumerable:!0,get:function(){return r.NameSpaceKeySOL}}),Object.defineProperty(e,"NameSpaceKeyTON",{enumerable:!0,get:function(){return r.NameSpaceKeyTON}}),Object.defineProperty(e,"NameSpaceKeySui",{enumerable:!0,get:function(){return r.NameSpaceKeySui}}),Object.defineProperty(e,"NameSpaceKeyBtc",{enumerable:!0,get:function(){return r.NameSpaceKeyBtc}}),Object.defineProperty(e,"NameSpaceKeyAptos",{enumerable:!0,get:function(){return r.NameSpaceKeyAptos}});var i=Qi();Object.defineProperty(e,"standardUniversalLink",{enumerable:!0,get:function(){return i.standardUniversalLink}}),Object.defineProperty(e,"standardDeeplink",{enumerable:!0,get:function(){return i.standardDeeplink}}),Object.defineProperty(e,"tonConnectSdkVersion",{enumerable:!0,get:function(){return i.tonConnectSdkVersion}}),Object.defineProperty(e,"okxDeeplink",{enumerable:!0,get:function(){return i.okxDeeplink}}),n(ao(),e)})),so=p(((e,t)=>{!function(r,i){var o="function",a="undefined",f="object",s="string",c="major",l="model",d="name",u="type",h="vendor",p="version",b="architecture",g="console",v="mobile",y="tablet",m="smarttv",C="wearable",w="embedded",x="Amazon",O="Apple",_="ASUS",E="BlackBerry",S="Browser",R="Chrome",N="Firefox",k="Google",T="Huawei",A="LG",P="Microsoft",D="Motorola",I="Opera",K="Samsung",j="Sharp",M="Sony",U="Xiaomi",L="Zebra",W="Facebook",B="Chromium OS",X="Mac OS",$=" Browser",H=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},q=function(e,t){return typeof e===s&&-1!==F(t).indexOf(F(e))},F=function(e){return e.toLowerCase()},J=function(e,t){if(typeof e===s)return e=e.replace(/^\s\s*/,""),typeof t===a?e:e.substring(0,500)},V=function(e,t){for(var n,r,a,s,c,l,d=0;d<t.length&&!c;){var u=t[d],h=t[d+1];for(n=r=0;n<u.length&&!c&&u[n];)if(c=u[n++].exec(e))for(a=0;a<h.length;a++)l=c[++r],typeof(s=h[a])===f&&s.length>0?2===s.length?typeof s[1]==o?this[s[0]]=s[1].call(this,l):this[s[0]]=s[1]:3===s.length?typeof s[1]!==o||s[1].exec&&s[1].test?this[s[0]]=l?l.replace(s[1],s[2]):i:this[s[0]]=l?s[1].call(this,l,s[2]):i:4===s.length&&(this[s[0]]=l?s[3].call(this,l.replace(s[1],s[2])):i):this[s]=l||i;d+=2}},z=function(e,t){for(var n in t)if(typeof t[n]===f&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(q(t[n][r],e))return"?"===n?i:n}else if(q(t[n],e))return"?"===n?i:n;return t.hasOwnProperty("*")?t["*"]:e},G={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Z={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[p,[d,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[p,[d,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[d,p],[/opios[\/ ]+([\w\.]+)/i],[p,[d,I+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[p,[d,I+" GX"]],[/\bopr\/([\w\.]+)/i],[p,[d,I]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[p,[d,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[d,p],[/quark(?:pc)?\/([-\w\.]+)/i],[p,[d,"Quark"]],[/\bddg\/([\w\.]+)/i],[p,[d,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[p,[d,"UC"+S]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[p,[d,"WeChat"]],[/konqueror\/([\w\.]+)/i],[p,[d,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[p,[d,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[p,[d,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[p,[d,"Smart Lenovo "+S]],[/(avast|avg)\/([\w\.]+)/i],[[d,/(.+)/,"$1 Secure "+S],p],[/\bfocus\/([\w\.]+)/i],[p,[d,N+" Focus"]],[/\bopt\/([\w\.]+)/i],[p,[d,I+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[p,[d,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[p,[d,"Dolphin"]],[/coast\/([\w\.]+)/i],[p,[d,I+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[p,[d,"MIUI "+S]],[/fxios\/([-\w\.]+)/i],[p,[d,N]],[/\bqihu|(qi?ho?o?|360)browser/i],[[d,"360"+$]],[/\b(qq)\/([\w\.]+)/i],[[d,/(.+)/,"$1Browser"],p],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[d,/(.+)/,"$1"+$],p],[/samsungbrowser\/([\w\.]+)/i],[p,[d,K+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[d,/_/g," "],p],[/metasr[\/ ]?([\d\.]+)/i],[p,[d,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[d,"Sogou Mobile"],p],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[d,p],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[d],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[d,W],p],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[d,p],[/\bgsa\/([\w\.]+) .*safari\//i],[p,[d,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[p,[d,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[p,[d,R+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[d,R+" WebView"],p],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[p,[d,"Android "+S]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[d,p],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[p,[d,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[p,d],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[d,[p,z,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[d,p],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[d,"Netscape"],p],[/(wolvic)\/([\w\.]+)/i],[d,p],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[p,[d,N+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[d,[p,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[d,[p,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[b,"amd64"]],[/(ia32(?=;))/i],[[b,F]],[/((?:i[346]|x)86)[;\)]/i],[[b,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[b,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[b,"armhf"]],[/windows (ce|mobile); ppc;/i],[[b,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[b,/ower/,"",F]],[/(sun4\w)[;\)]/i],[[b,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[b,F]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[l,[h,K],[u,y]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[l,[h,K],[u,v]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[l,[h,O],[u,v]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[l,[h,O],[u,y]],[/(macintosh);/i],[l,[h,O]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[l,[h,j],[u,v]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[l,[h,T],[u,y]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[l,[h,T],[u,v]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[l,/_/g," "],[h,U],[u,v]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[l,/_/g," "],[h,U],[u,y]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[l,[h,"OPPO"],[u,v]],[/\b(opd2\d{3}a?) bui/i],[l,[h,"OPPO"],[u,y]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[l,[h,"Vivo"],[u,v]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[l,[h,"Realme"],[u,v]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[l,[h,D],[u,v]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[l,[h,D],[u,y]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[l,[h,A],[u,y]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[l,[h,A],[u,v]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[l,[h,"Lenovo"],[u,y]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[l,/_/g," "],[h,"Nokia"],[u,v]],[/(pixel c)\b/i],[l,[h,k],[u,y]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[l,[h,k],[u,v]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[l,[h,M],[u,v]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[l,"Xperia Tablet"],[h,M],[u,y]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[l,[h,"OnePlus"],[u,v]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[l,[h,x],[u,y]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[l,/(.+)/g,"Fire Phone $1"],[h,x],[u,v]],[/(playbook);[-\w\),; ]+(rim)/i],[l,h,[u,y]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[l,[h,E],[u,v]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[l,[h,_],[u,y]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[l,[h,_],[u,v]],[/(nexus 9)/i],[l,[h,"HTC"],[u,y]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[h,[l,/_/g," "],[u,v]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[l,[h,"TCL"],[u,y]],[/(itel) ((\w+))/i],[[h,F],l,[u,z,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[l,[h,"Acer"],[u,y]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[l,[h,"Meizu"],[u,v]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[l,[h,"Ulefone"],[u,v]],[/droid.+; (a(?:015|06[35]|142p?))/i],[l,[h,"Nothing"],[u,v]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[h,l,[u,v]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[h,l,[u,y]],[/(surface duo)/i],[l,[h,P],[u,y]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[l,[h,"Fairphone"],[u,v]],[/(u304aa)/i],[l,[h,"AT&T"],[u,v]],[/\bsie-(\w*)/i],[l,[h,"Siemens"],[u,v]],[/\b(rct\w+) b/i],[l,[h,"RCA"],[u,y]],[/\b(venue[\d ]{2,7}) b/i],[l,[h,"Dell"],[u,y]],[/\b(q(?:mv|ta)\w+) b/i],[l,[h,"Verizon"],[u,y]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[l,[h,"Barnes & Noble"],[u,y]],[/\b(tm\d{3}\w+) b/i],[l,[h,"NuVision"],[u,y]],[/\b(k88) b/i],[l,[h,"ZTE"],[u,y]],[/\b(nx\d{3}j) b/i],[l,[h,"ZTE"],[u,v]],[/\b(gen\d{3}) b.+49h/i],[l,[h,"Swiss"],[u,v]],[/\b(zur\d{3}) b/i],[l,[h,"Swiss"],[u,y]],[/\b((zeki)?tb.*\b) b/i],[l,[h,"Zeki"],[u,y]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[h,"Dragon Touch"],l,[u,y]],[/\b(ns-?\w{0,9}) b/i],[l,[h,"Insignia"],[u,y]],[/\b((nxa|next)-?\w{0,9}) b/i],[l,[h,"NextBook"],[u,y]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[h,"Voice"],l,[u,v]],[/\b(lvtel\-)?(v1[12]) b/i],[[h,"LvTel"],l,[u,v]],[/\b(ph-1) /i],[l,[h,"Essential"],[u,v]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[l,[h,"Envizen"],[u,y]],[/\b(trio[-\w\. ]+) b/i],[l,[h,"MachSpeed"],[u,y]],[/\btu_(1491) b/i],[l,[h,"Rotor"],[u,y]],[/(shield[\w ]+) b/i],[l,[h,"Nvidia"],[u,y]],[/(sprint) (\w+)/i],[h,l,[u,v]],[/(kin\.[onetw]{3})/i],[[l,/\./g," "],[h,P],[u,v]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[l,[h,L],[u,y]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[l,[h,L],[u,v]],[/smart-tv.+(samsung)/i],[h,[u,m]],[/hbbtv.+maple;(\d+)/i],[[l,/^/,"SmartTV"],[h,K],[u,m]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[h,A],[u,m]],[/(apple) ?tv/i],[h,[l,O+" TV"],[u,m]],[/crkey/i],[[l,R+"cast"],[h,k],[u,m]],[/droid.+aft(\w+)( bui|\))/i],[l,[h,x],[u,m]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[l,[h,j],[u,m]],[/(bravia[\w ]+)( bui|\))/i],[l,[h,M],[u,m]],[/(mitv-\w{5}) bui/i],[l,[h,U],[u,m]],[/Hbbtv.*(technisat) (.*);/i],[h,l,[u,m]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[h,J],[l,J],[u,m]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[u,m]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[h,l,[u,g]],[/droid.+; (shield) bui/i],[l,[h,"Nvidia"],[u,g]],[/(playstation [345portablevi]+)/i],[l,[h,M],[u,g]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[l,[h,P],[u,g]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[l,[h,K],[u,C]],[/((pebble))app/i],[h,l,[u,C]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[l,[h,O],[u,C]],[/droid.+; (glass) \d/i],[l,[h,k],[u,C]],[/droid.+; (wt63?0{2,3})\)/i],[l,[h,L],[u,C]],[/(quest( \d| pro)?)/i],[l,[h,W],[u,C]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[h,[u,w]],[/(aeobc)\b/i],[l,[h,x],[u,w]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[l,[u,v]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[l,[u,y]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[u,y]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[u,v]],[/(android[-\w\. ]{0,9});.+buil/i],[l,[h,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[p,[d,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[p,[d,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[d,p],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[p,d]],os:[[/microsoft (windows) (vista|xp)/i],[d,p],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[d,[p,z,G]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[p,z,G],[d,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[p,/_/g,"."],[d,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[d,X],[p,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[p,d],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[d,p],[/\(bb(10);/i],[p,[d,E]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[p,[d,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[p,[d,N+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[p,[d,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[p,[d,"watchOS"]],[/crkey\/([\d\.]+)/i],[p,[d,R+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[d,B],p],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[d,p],[/(sunos) ?([\w\.\d]*)/i],[[d,"Solaris"],p],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[d,p]]},Y=function(e,t){if(typeof e===f&&(t=e,e=i),!(this instanceof Y))return new Y(e,t).getResult();var n=typeof r!==a&&r.navigator?r.navigator:i,g=e||(n&&n.userAgent?n.userAgent:""),m=n&&n.userAgentData?n.userAgentData:i,C=t?function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2===0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n}(Z,t):Z,w=n&&n.userAgent==g;return this.getBrowser=function(){var e={};return e[d]=i,e[p]=i,V.call(e,g,C.browser),e[c]=function(e){return typeof e===s?e.replace(/[^\d\.]/g,"").split(".")[0]:i}(e[p]),w&&n&&n.brave&&typeof n.brave.isBrave==o&&(e[d]="Brave"),e},this.getCPU=function(){var e={};return e[b]=i,V.call(e,g,C.cpu),e},this.getDevice=function(){var e={};return e[h]=i,e[l]=i,e[u]=i,V.call(e,g,C.device),w&&!e[u]&&m&&m.mobile&&(e[u]=v),w&&"Macintosh"==e[l]&&n&&typeof n.standalone!==a&&n.maxTouchPoints&&n.maxTouchPoints>2&&(e[l]="iPad",e[u]=y),e},this.getEngine=function(){var e={};return e[d]=i,e[p]=i,V.call(e,g,C.engine),e},this.getOS=function(){var e={};return e[d]=i,e[p]=i,V.call(e,g,C.os),w&&!e[d]&&m&&m.platform&&"Unknown"!=m.platform&&(e[d]=m.platform.replace(/chrome os/i,B).replace(/macos/i,X)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return g},this.setUA=function(e){return g=typeof e===s&&e.length>500?J(e,500):e,this},this.setUA(g),this};Y.VERSION="1.0.39",Y.BROWSER=H([d,p,c]),Y.CPU=H([b]),Y.DEVICE=H([l,h,u,g,v,m,y,C,w]),Y.ENGINE=Y.OS=H([d,p]),typeof e!==a?(typeof t!==a&&t.exports&&(e=t.exports=Y),e.UAParser=Y):typeof define===o&&n.amdO?define((function(){return Y})):typeof r!==a&&(r.UAParser=Y);var Q=typeof r!==a&&(r.jQuery||r.Zepto);if(Q&&!Q.ua){var ee=new Y;Q.ua=ee.getResult(),Q.ua.get=function(){return ee.getUA()},Q.ua.set=function(e){ee.setUA(e);var t=ee.getResult();for(var n in t)Q.ua[n]=t[n]}}}("object"==typeof window?window:e)})),co=p((e=>{var t=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.openLink=i,e.openLinkBlank=function(e){i(e,"_blank")},e.openDeeplinkWithFallback=function(e,t){let n=setTimeout((()=>{f("safari")||a("android")&&f("firefox")||t()}),500);window.addEventListener("blur",(()=>clearTimeout(n)),{once:!0}),i(e,"_self")},e.isMobileUserAgent=function(){let e=!1;return t=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.slice(0,4)))&&(e=!0),e;var t},e.getUserAgent=o,e.isOS=a,e.isBrowser=f;var n=t(so()),r=pn();function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_self";(0,r.logDebug)("openLink",e,t),window.open(e,t,"noopener noreferrer")}function o(){var e,t,r;let i,o=(new n.default).getResult(),a=null===(e=o.os.name)||void 0===e?void 0:e.toLowerCase();switch(!0){case"ipad"===(null===(t=o.device.model)||void 0===t?void 0:t.toLowerCase()):i="ipad";break;case"ios"===a:i="ios";break;case"android"===a:i="android";break;case"mac os"===a:i="macos";break;case"linux"===a:i="linux";break;case a?.includes("windows"):i="windows"}let f,s=null===(r=o.browser.name)||void 0===r?void 0:r.toLowerCase();switch(!0){case"chrome"===s:f="chrome";break;case"firefox"===s:f="firefox";break;case s?.includes("safari"):f="safari";break;case s?.includes("opera"):f="opera"}return{os:i,browser:f}}function a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.includes(o().os)}function f(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.includes(o().browser)}})),lo=p((e=>{var t,n,r,i,o,a,f;Object.defineProperty(e,"__esModule",{value:!0}),e.isTmaPlatform=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.includes(h)},e.isInTMA=b,e.isInTelegramBrowser=function(){var e;let t=!(null===(e=(0,s.getWindow)())||void 0===e||!e.TelegramWebview);return(b()||t)&&"unknown"===h},e.sendExpand=function(){v("web_app_expand",{})},e.sendOpenTelegramLink=function(e,t){let n=new URL(e);if("http:"!==n.protocol&&"https:"!==n.protocol){if(t)return t();throw new l.OKXConnectError(l.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Url protocol is not supported: ${n}`)}if("t.me"!==n.hostname){if(t)return t();throw new l.OKXConnectError(l.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Url host is not supported: ${n}`)}let r=n.pathname+n.search;g()||function(e){return m(p,e)>=0}("6.1")?v("web_app_open_tg_link",{path_full:r}):(0,d.openLinkBlank)("https://t.me"+r)},e.versionCompare=m;var s=uo(),c=pn(),l=fo(),d=co(),u={};try{u=function(e){e=e.replace(/^#/,"");let t={};if(!e.length)return t;if(e.indexOf("=")<0&&e.indexOf("?")<0)return t._path=y(e),t;let n=e.indexOf("?");if(n>=0){let r=e.substr(0,n);t._path=y(r),e=e.substr(n+1)}let r=function(e){let t={};if(!e.length)return t;let n,r,i,o,a=e.split("&");for(n=0;n<a.length;n++)r=a[n].split("="),i=y(r[0]),o=null==r[1]?null:y(r[1]),t[i]=o;return t}(e);for(let i in r)t[i]=r[i];return t}(location.hash.toString())}catch{}var h="unknown";if(u?.tgWebAppPlatform&&(h=null!==(t=u.tgWebAppPlatform)&&void 0!==t?t:"unknown"),"unknown"===h){let e=(0,s.getWindow)();h=null!==(i=null===(r=null===(n=e?.Telegram)||void 0===n?void 0:n.WebApp)||void 0===r?void 0:r.platform)&&void 0!==i?i:"unknown"}var p="6.0";if(u?.tgWebAppVersion&&(p=u.tgWebAppVersion),!p){let e=(0,s.getWindow)();p=null!==(f=null===(a=null===(o=e?.Telegram)||void 0===o?void 0:o.WebApp)||void 0===a?void 0:a.version)&&void 0!==f?f:"6.0"}function b(){var e;return"unknown"!==h||!(null===(e=(0,s.getWindow)())||void 0===e||!e.TelegramWebviewProxy)}function g(){try{let e=(0,s.getWindow)();return!!e&&(null!=e.parent&&e!==e.parent)}catch{return!1}}function v(e,t){try{let n=(0,s.getWindow)();if(!n)throw new l.OKXConnectError(l.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Can't post event to parent window: window is not defined");if(void 0!==n.TelegramWebviewProxy)(0,c.logDebug)("postEvent",e,t),n.TelegramWebviewProxy.postEvent(e,JSON.stringify(t));else if(n.external&&"notify"in n.external)(0,c.logDebug)("postEvent",e,t),n.external.notify(JSON.stringify({eventType:e,eventData:t}));else{if(!g())throw new l.OKXConnectError(l.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Can't post event to TMA");{let r="*",i=JSON.stringify({eventType:e,eventData:t});(0,c.logDebug)("postEvent",e,t),n.parent.postMessage(i,r)}}}catch(xf){(0,c.logError)(`Can't post event to parent window: ${xf}`)}}function y(e){try{return e=e.replace(/\+/g,"%20"),decodeURIComponent(e)}catch{return e}}function m(e,t){"string"!=typeof e&&(e=""),"string"!=typeof t&&(t="");let n,r,i,o,a=e.replace(/^\s+|\s+$/g,"").split("."),f=t.replace(/^\s+|\s+$/g,"").split(".");for(n=Math.max(a.length,f.length),r=0;r<n;r++)if(i=parseInt(a[r])||0,o=parseInt(f[r])||0,i!==o)return i>o?1:-1;return 0}})),uo=p((e=>{var t,n,r,o;Object.defineProperty(e,"__esModule",{value:!0}),e.removeUrlLastSlash=d,e.addPathToUrl=function(e,t){return d(e)+"/"+t},e.getUniversalLink=u,e.openOKXDeeplink=function(e){var t;let n=u(e),r=!(null===(t=h())||void 0===t||!t.TelegramWebviewProxy);if(i.log("openOKXDeeplink fullUrl:",n),(0,c.isIos)())r?window.open(n,"_blank"):(i.log("windowOpen[before]: ",Date.now()),window?.okxLogDebug?window.open(n,"_blank"):window.open(n,"_self"),i.log("windowOpen[after]: ",Date.now()));else{let t=null;r?t=window.open(e,"_blank"):window.location.href=e}},e.openOKXDeeplinkWithFallback=function(e){var t;let n=u(e),r=!(null===(t=h())||void 0===t||!t.TelegramWebviewProxy);i.log("openOKXDeeplinkWithFallback fullUrl:",n);let o=!1,f=a.standardUniversalLink;if((0,c.isIos)())r?window.open(n,"_blank"):(i.log("windowOpen[before]: ",Date.now()),window?.okxLogDebug?window.open(n,"_blank"):window.open(n,"_self"),i.log("windowOpen[after]: ",Date.now()));else{let t=null;r?t=window.open(e,"_blank"):window.location.href=e,setTimeout((()=>{o||(t?t.open(f,"_self"):window.open(f,"_blank"))}),1500),window.addEventListener("blur",(()=>{o=!0}),{once:!0}),document.addEventListener("visibilitychange",(()=>{"hidden"===document.visibilityState&&(o=!0)}))}},e.getWindow=h,e.isTelegramUrl=function(e){if(!e)return!1;let t=new URL(e);return"tg:"===t.protocol||"t.me"===t.hostname},e.encodeTelegramUrlParameters=function(e){let t=e;return t=t.replace(/\./g,"%2E"),t=t.replace(/-/g,"%2D"),t=t.replace(/_/g,"%5F"),t=t.replace(/&/g,"-"),t=t.replace(/=/g,"__"),t=t.replace(/%/g,"--"),t},e.encodeConnectParams=function(e){let t=JSON.stringify(e);(0,f.logDebug)("url encodeConnectParams connectRequestStr ",t);let n=(new TextEncoder).encode(t);return btoa(String.fromCharCode(...n))},e.encodeTWAConnectURLParams=function(e){let t=JSON.stringify({topic:e.topic,clientId:e.clientId});(0,f.logDebug)("url encodeConnectParams connectRequestStr",t);let n=(new TextEncoder).encode(t);return btoa(String.fromCharCode(...n))},e.getAppWalletDeepLink=function(e){return`${a.standardDeeplink}?param=${e}`},e.getTelegramWalletTWAUrl=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r={okxconnect:"",redirect:"",extraparams:""};e&&(r.okxconnect=e),t&&(r.redirect=t);let i=JSON.stringify(r),o=(new TextEncoder).encode(i),a=btoa(String.fromCharCode(...o));return(0,f.logDebug)("[TWA] open link:",r,a),e||t?n?`http://localhost:5173?tgWebAppStartParam=${a}`:`https://t.me/${s.tgwalletName}/start?startapp=${a}`:n?"http://localhost:5173":`https://t.me/${s.tgwalletName}/start`},e.openOKXTMAWalletlinkWithFallback=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var n,r,i,o,a;(0,f.logDebug)("[TWA] open link:",e,"browserDebug ==> ",t),t?window.open(e,"_blank"):null!==(r=null===(n=h())||void 0===n?void 0:n.Telegram)&&void 0!==r&&r.WebApp?null===(a=null===(o=null===(i=h())||void 0===i?void 0:i.Telegram)||void 0===o?void 0:o.WebApp)||void 0===a||a.openTelegramLink(e):(0,l.sendOpenTelegramLink)(e)},e.isInTMA=v,e.isInTelegramBrowser=function(){var e;let t=!(null===(e=h())||void 0===e||!e.TelegramWebview);return(v()||t)&&"unknown"===g};var a=fo(),f=pn(),s=Qi(),c=Vi(),l=lo();function d(e){return"/"===e.slice(-1)?e.slice(0,-1):e}function u(e){let t=encodeURIComponent(e);return`${a.standardUniversalLink}?deeplink=${t}`}function h(){if(typeof window<"u")return window}function p(e){try{return e=e.replace(/\+/g,"%20"),decodeURIComponent(e)}catch{return e}}var b={};try{b=function(e){let t={};if(!(e=e.replace(/^#/,"")).length)return t;if(e.indexOf("=")<0&&e.indexOf("?")<0)return t._path=p(e),t;let n=e.indexOf("?");if(n>=0){let r=e.substr(0,n);t._path=p(r),e=e.substr(n+1)}let r=function(e){let t={};if(!e.length)return t;let n,r,i,o,a=e.split("&");for(n=0;n<a.length;n++)r=a[n].split("="),i=p(r[0]),o=null==r[1]?null:p(r[1]),t[i]=o;return t}(e);for(let i in r)t[i]=r[i];return t}(location.hash.toString())}catch{}var g="unknown";if(b?.tgWebAppPlatform&&(g=null!==(t=b.tgWebAppPlatform)&&void 0!==t?t:"unknown"),"unknown"===g){let e=h();g=null!==(o=null===(r=null===(n=e?.Telegram)||void 0===n?void 0:n.WebApp)||void 0===r?void 0:r.platform)&&void 0!==o?o:"unknown"}function v(){var e;return"unknown"!==g||!(null===(e=h())||void 0===e||!e.TelegramWebviewProxy)}})),ho=p((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isBrowser=e.isOS=e.isMobileUserAgent=e.openDeeplinkWithFallback=e.openLinkBlank=e.openLink=e.isValidObject=e.isIos=e.base64decode=e.base64encode=e.splitToUint8Arrays=e.concatUint8Arrays=e.toHexString=e.hexToByteArray=e.encodeTWAConnectURLParams=e.encodeConnectParams=e.openOKXTMAWalletlinkWithFallback=e.getTelegramWalletTWAUrl=e.getAppWalletDeepLink=e.encodeTelegramUrlParameters=e.isTelegramUrl=e.openOKXDeeplinkWithFallback=e.openOKXDeeplink=e.getUniversalLink=e.safeJsonStringify=e.safeJsonParse=e.logWarning=e.logError=e.logDebug=e.callForSuccess=void 0;var t=zi();Object.defineProperty(e,"callForSuccess",{enumerable:!0,get:function(){return t.callForSuccess}});var n=pn();Object.defineProperty(e,"logDebug",{enumerable:!0,get:function(){return n.logDebug}}),Object.defineProperty(e,"logError",{enumerable:!0,get:function(){return n.logError}}),Object.defineProperty(e,"logWarning",{enumerable:!0,get:function(){return n.logWarning}});var r=bn();Object.defineProperty(e,"safeJsonParse",{enumerable:!0,get:function(){return r.safeJsonParse}}),Object.defineProperty(e,"safeJsonStringify",{enumerable:!0,get:function(){return r.safeJsonStringify}});var i=uo();Object.defineProperty(e,"getUniversalLink",{enumerable:!0,get:function(){return i.getUniversalLink}}),Object.defineProperty(e,"openOKXDeeplink",{enumerable:!0,get:function(){return i.openOKXDeeplink}}),Object.defineProperty(e,"openOKXDeeplinkWithFallback",{enumerable:!0,get:function(){return i.openOKXDeeplinkWithFallback}}),Object.defineProperty(e,"isTelegramUrl",{enumerable:!0,get:function(){return i.isTelegramUrl}}),Object.defineProperty(e,"encodeTelegramUrlParameters",{enumerable:!0,get:function(){return i.encodeTelegramUrlParameters}}),Object.defineProperty(e,"getAppWalletDeepLink",{enumerable:!0,get:function(){return i.getAppWalletDeepLink}}),Object.defineProperty(e,"getTelegramWalletTWAUrl",{enumerable:!0,get:function(){return i.getTelegramWalletTWAUrl}}),Object.defineProperty(e,"openOKXTMAWalletlinkWithFallback",{enumerable:!0,get:function(){return i.openOKXTMAWalletlinkWithFallback}}),Object.defineProperty(e,"encodeConnectParams",{enumerable:!0,get:function(){return i.encodeConnectParams}}),Object.defineProperty(e,"encodeTWAConnectURLParams",{enumerable:!0,get:function(){return i.encodeTWAConnectURLParams}});var o=Vi();Object.defineProperty(e,"hexToByteArray",{enumerable:!0,get:function(){return o.hexToByteArray}}),Object.defineProperty(e,"toHexString",{enumerable:!0,get:function(){return o.toHexString}}),Object.defineProperty(e,"concatUint8Arrays",{enumerable:!0,get:function(){return o.concatUint8Arrays}}),Object.defineProperty(e,"splitToUint8Arrays",{enumerable:!0,get:function(){return o.splitToUint8Arrays}}),Object.defineProperty(e,"base64encode",{enumerable:!0,get:function(){return o.base64encode}}),Object.defineProperty(e,"base64decode",{enumerable:!0,get:function(){return o.base64decode}}),Object.defineProperty(e,"isIos",{enumerable:!0,get:function(){return o.isIos}}),Object.defineProperty(e,"isValidObject",{enumerable:!0,get:function(){return o.isValidObject}});var a=co();Object.defineProperty(e,"openLink",{enumerable:!0,get:function(){return a.openLink}}),Object.defineProperty(e,"openLinkBlank",{enumerable:!0,get:function(){return a.openLinkBlank}}),Object.defineProperty(e,"openDeeplinkWithFallback",{enumerable:!0,get:function(){return a.openDeeplinkWithFallback}}),Object.defineProperty(e,"isMobileUserAgent",{enumerable:!0,get:function(){return a.isMobileUserAgent}}),Object.defineProperty(e,"isOS",{enumerable:!0,get:function(){return a.isOS}}),Object.defineProperty(e,"isBrowser",{enumerable:!0,get:function(){return a.isBrowser}})})),po=p(((e,t)=>{var r,i;r=e,i=function(){var e=e||function(e){var t;if(typeof window<"u"&&window.crypto&&(t=window.crypto),typeof self<"u"&&self.crypto&&(t=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(t=globalThis.crypto),!t&&typeof window<"u"&&window.msCrypto&&(t=window.msCrypto),!t&&typeof n.g<"u"&&n.g.crypto&&(t=n.g.crypto),!t&&"function"==typeof u)try{t=A()}catch{}var r=function(){if(t){if("function"==typeof t.getRandomValues)try{return t.getRandomValues(new Uint32Array(1))[0]}catch{}if("function"==typeof t.randomBytes)try{return t.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},i=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),o={},a=o.lib={},f=a.Base={extend:function(e){var t=i(this);return e&&t.mixIn(e),(!t.hasOwnProperty("init")||this.init===t.init)&&(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},s=a.WordArray=f.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=void 0!=t?t:4*e.length},toString:function(e){return(e||l).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o++){var a=n[o>>>2]>>>24-o%4*8&255;t[r+o>>>2]|=a<<24-(r+o)%4*8}else for(var f=0;f<i;f+=4)t[r+f>>>2]=n[f>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=f.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(r());return new s.init(t,e)}}),c=o.enc={},l=c.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new s.init(n,t/2)}},d=c.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new s.init(n,t)}},h=c.Utf8={stringify:function(e){try{return decodeURIComponent(escape(d.stringify(e)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(e){return d.parse(unescape(encodeURIComponent(e)))}},p=a.BufferedBlockAlgorithm=f.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=h.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n,r=this._data,i=r.words,o=r.sigBytes,a=this.blockSize,f=o/(4*a),c=(f=t?e.ceil(f):e.max((0|f)-this._minBufferSize,0))*a,l=e.min(4*c,o);if(c){for(var d=0;d<c;d+=a)this._doProcessBlock(i,d);n=i.splice(0,c),r.sigBytes-=l}return new s.init(n,l)},clone:function(){var e=f.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),b=(a.Hasher=p.extend({cfg:f.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new b.HMAC.init(e,n).finalize(t)}}}),o.algo={});return o}(Math);return e},"object"==typeof e?t.exports=e=i():"function"==typeof define&&n.amdO?define([],i):r.CryptoJS=i()})),bo=p(((e,t)=>{var r,i;r=e,i=function(e){return function(){var t=e,n=t.lib,r=n.Base,i=n.WordArray,o=t.x64={};o.Word=r.extend({init:function(e,t){this.high=e,this.low=t}}),o.WordArray=r.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=void 0!=t?t:8*e.length},toX32:function(){for(var e=this.words,t=e.length,n=[],r=0;r<t;r++){var o=e[r];n.push(o.high),n.push(o.low)}return i.create(n,this.sigBytes)},clone:function(){for(var e=r.clone.call(this),t=e.words=this.words.slice(0),n=t.length,i=0;i<n;i++)t[i]=t[i].clone();return e}})}(),e},"object"==typeof e?t.exports=e=i(po()):"function"==typeof define&&n.amdO?define(["./core"],i):i(r.CryptoJS)})),go=p(((e,t)=>{var r,i;r=e,i=function(e){return function(){if("function"==typeof ArrayBuffer){var t=e.lib.WordArray,n=t.init,r=t.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||typeof Uint8ClampedArray<"u"&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var t=e.byteLength,r=[],i=0;i<t;i++)r[i>>>2]|=e[i]<<24-i%4*8;n.call(this,r,t)}else n.apply(this,arguments)};r.prototype=t}}(),e.lib.WordArray},"object"==typeof e?t.exports=e=i(po()):"function"==typeof define&&n.amdO?define(["./core"],i):i(r.CryptoJS)})),vo=p(((e,t)=>{var r,i;r=e,i=function(e){return function(){var t=e,n=t.lib.WordArray,r=t.enc;function i(e){return e<<8&4278255360|e>>>8&16711935}r.Utf16=r.Utf16BE={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i+=2){var o=t[i>>>2]>>>16-i%4*8&65535;r.push(String.fromCharCode(o))}return r.join("")},parse:function(e){for(var t=e.length,r=[],i=0;i<t;i++)r[i>>>1]|=e.charCodeAt(i)<<16-i%2*16;return n.create(r,2*t)}},r.Utf16LE={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],o=0;o<n;o+=2){var a=i(t[o>>>2]>>>16-o%4*8&65535);r.push(String.fromCharCode(a))}return r.join("")},parse:function(e){for(var t=e.length,r=[],o=0;o<t;o++)r[o>>>1]|=i(e.charCodeAt(o)<<16-o%2*16);return n.create(r,2*t)}}}(),e.enc.Utf16},"object"==typeof e?t.exports=e=i(po()):"function"==typeof define&&n.amdO?define(["./core"],i):i(r.CryptoJS)})),yo=p(((e,t)=>{var r,i;r=e,i=function(e){return function(){var t=e,n=t.lib.WordArray;t.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();for(var i=[],o=0;o<n;o+=3)for(var a=(t[o>>>2]>>>24-o%4*8&255)<<16|(t[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|t[o+2>>>2]>>>24-(o+2)%4*8&255,f=0;f<4&&o+.75*f<n;f++)i.push(r.charAt(a>>>6*(3-f)&63));var s=r.charAt(64);if(s)for(;i.length%4;)i.push(s);return i.join("")},parse:function(e){var t=e.length,r=this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var o=0;o<r.length;o++)i[r.charCodeAt(o)]=o}var a=r.charAt(64);if(a){var f=e.indexOf(a);-1!==f&&(t=f)}return function(e,t,r){for(var i=[],o=0,a=0;a<t;a++)if(a%4){var f=r[e.charCodeAt(a-1)]<<a%4*2|r[e.charCodeAt(a)]>>>6-a%4*2;i[o>>>2]|=f<<24-o%4*8,o++}return n.create(i,o)}(e,t,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),e.enc.Base64},"object"==typeof e?t.exports=e=i(po()):"function"==typeof define&&n.amdO?define(["./core"],i):i(r.CryptoJS)})),mo=p(((e,t)=>{var r,i;r=e,i=function(e){return function(){var t=e,n=t.lib.WordArray;t.enc.Base64url={stringify:function(e,t){void 0===t&&(t=!0);var n=e.words,r=e.sigBytes,i=t?this._safe_map:this._map;e.clamp();for(var o=[],a=0;a<r;a+=3)for(var f=(n[a>>>2]>>>24-a%4*8&255)<<16|(n[a+1>>>2]>>>24-(a+1)%4*8&255)<<8|n[a+2>>>2]>>>24-(a+2)%4*8&255,s=0;s<4&&a+.75*s<r;s++)o.push(i.charAt(f>>>6*(3-s)&63));var c=i.charAt(64);if(c)for(;o.length%4;)o.push(c);return o.join("")},parse:function(e,t){void 0===t&&(t=!0);var r=e.length,i=t?this._safe_map:this._map,o=this._reverseMap;if(!o){o=this._reverseMap=[];for(var a=0;a<i.length;a++)o[i.charCodeAt(a)]=a}var f=i.charAt(64);if(f){var s=e.indexOf(f);-1!==s&&(r=s)}return function(e,t,r){for(var i=[],o=0,a=0;a<t;a++)if(a%4){var f=r[e.charCodeAt(a-1)]<<a%4*2|r[e.charCodeAt(a)]>>>6-a%4*2;i[o>>>2]|=f<<24-o%4*8,o++}return n.create(i,o)}(e,r,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"}}(),e.enc.Base64url},"object"==typeof e?t.exports=e=i(po()):"function"==typeof define&&n.amdO?define(["./core"],i):i(r.CryptoJS)})),Co=p(((e,t)=>{var r,i;r=e,i=function(e){return function(t){var n=e,r=n.lib,i=r.WordArray,o=r.Hasher,a=n.algo,f=[];!function(){for(var e=0;e<64;e++)f[e]=4294967296*t.abs(t.sin(e+1))|0}();var s=a.MD5=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=t+n,i=e[r];e[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o=this._hash.words,a=e[t+0],s=e[t+1],h=e[t+2],p=e[t+3],b=e[t+4],g=e[t+5],v=e[t+6],y=e[t+7],m=e[t+8],C=e[t+9],w=e[t+10],x=e[t+11],O=e[t+12],_=e[t+13],E=e[t+14],S=e[t+15],R=o[0],N=o[1],k=o[2],T=o[3];R=c(R,N,k,T,a,7,f[0]),T=c(T,R,N,k,s,12,f[1]),k=c(k,T,R,N,h,17,f[2]),N=c(N,k,T,R,p,22,f[3]),R=c(R,N,k,T,b,7,f[4]),T=c(T,R,N,k,g,12,f[5]),k=c(k,T,R,N,v,17,f[6]),N=c(N,k,T,R,y,22,f[7]),R=c(R,N,k,T,m,7,f[8]),T=c(T,R,N,k,C,12,f[9]),k=c(k,T,R,N,w,17,f[10]),N=c(N,k,T,R,x,22,f[11]),R=c(R,N,k,T,O,7,f[12]),T=c(T,R,N,k,_,12,f[13]),k=c(k,T,R,N,E,17,f[14]),R=l(R,N=c(N,k,T,R,S,22,f[15]),k,T,s,5,f[16]),T=l(T,R,N,k,v,9,f[17]),k=l(k,T,R,N,x,14,f[18]),N=l(N,k,T,R,a,20,f[19]),R=l(R,N,k,T,g,5,f[20]),T=l(T,R,N,k,w,9,f[21]),k=l(k,T,R,N,S,14,f[22]),N=l(N,k,T,R,b,20,f[23]),R=l(R,N,k,T,C,5,f[24]),T=l(T,R,N,k,E,9,f[25]),k=l(k,T,R,N,p,14,f[26]),N=l(N,k,T,R,m,20,f[27]),R=l(R,N,k,T,_,5,f[28]),T=l(T,R,N,k,h,9,f[29]),k=l(k,T,R,N,y,14,f[30]),R=d(R,N=l(N,k,T,R,O,20,f[31]),k,T,g,4,f[32]),T=d(T,R,N,k,m,11,f[33]),k=d(k,T,R,N,x,16,f[34]),N=d(N,k,T,R,E,23,f[35]),R=d(R,N,k,T,s,4,f[36]),T=d(T,R,N,k,b,11,f[37]),k=d(k,T,R,N,y,16,f[38]),N=d(N,k,T,R,w,23,f[39]),R=d(R,N,k,T,_,4,f[40]),T=d(T,R,N,k,a,11,f[41]),k=d(k,T,R,N,p,16,f[42]),N=d(N,k,T,R,v,23,f[43]),R=d(R,N,k,T,C,4,f[44]),T=d(T,R,N,k,O,11,f[45]),k=d(k,T,R,N,S,16,f[46]),R=u(R,N=d(N,k,T,R,h,23,f[47]),k,T,a,6,f[48]),T=u(T,R,N,k,y,10,f[49]),k=u(k,T,R,N,E,15,f[50]),N=u(N,k,T,R,g,21,f[51]),R=u(R,N,k,T,O,6,f[52]),T=u(T,R,N,k,p,10,f[53]),k=u(k,T,R,N,w,15,f[54]),N=u(N,k,T,R,s,21,f[55]),R=u(R,N,k,T,m,6,f[56]),T=u(T,R,N,k,S,10,f[57]),k=u(k,T,R,N,v,15,f[58]),N=u(N,k,T,R,_,21,f[59]),R=u(R,N,k,T,b,6,f[60]),T=u(T,R,N,k,x,10,f[61]),k=u(k,T,R,N,h,15,f[62]),N=u(N,k,T,R,C,21,f[63]),o[0]=o[0]+R|0,o[1]=o[1]+N|0,o[2]=o[2]+k|0,o[3]=o[3]+T|0},_doFinalize:function(){var e=this._data,n=e.words,r=8*this._nDataBytes,i=8*e.sigBytes;n[i>>>5]|=128<<24-i%32;var o=t.floor(r/4294967296),a=r;n[15+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),n[14+(i+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),e.sigBytes=4*(n.length+1),this._process();for(var f=this._hash,s=f.words,c=0;c<4;c++){var l=s[c];s[c]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}return f},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});function c(e,t,n,r,i,o,a){var f=e+(t&n|~t&r)+i+a;return(f<<o|f>>>32-o)+t}function l(e,t,n,r,i,o,a){var f=e+(t&r|n&~r)+i+a;return(f<<o|f>>>32-o)+t}function d(e,t,n,r,i,o,a){var f=e+(t^n^r)+i+a;return(f<<o|f>>>32-o)+t}function u(e,t,n,r,i,o,a){var f=e+(n^(t|~r))+i+a;return(f<<o|f>>>32-o)+t}n.MD5=o._createHelper(s),n.HmacMD5=o._createHmacHelper(s)}(Math),e.MD5},"object"==typeof e?t.exports=e=i(po()):"function"==typeof define&&n.amdO?define(["./core"],i):i(r.CryptoJS)})),wo=p(((e,t)=>{var r,i;r=e,i=function(e){return function(){var t=e,n=t.lib,r=n.WordArray,i=n.Hasher,o=t.algo,a=[],f=o.SHA1=i.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],f=n[3],s=n[4],c=0;c<80;c++){if(c<16)a[c]=0|e[t+c];else{var l=a[c-3]^a[c-8]^a[c-14]^a[c-16];a[c]=l<<1|l>>>31}var d=(r<<5|r>>>27)+s+a[c];d+=c<20?1518500249+(i&o|~i&f):c<40?1859775393+(i^o^f):c<60?(i&o|i&f|o&f)-1894007588:(i^o^f)-899497514,s=f,f=o,o=i<<30|i>>>2,i=r,r=d}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+f|0,n[4]=n[4]+s|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=Math.floor(n/4294967296),t[15+(r+64>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA1=i._createHelper(f),t.HmacSHA1=i._createHmacHelper(f)}(),e.SHA1},"object"==typeof e?t.exports=e=i(po()):"function"==typeof define&&n.amdO?define(["./core"],i):i(r.CryptoJS)})),xo=p(((e,t)=>{var r,i;r=e,i=function(e){return function(t){var n=e,r=n.lib,i=r.WordArray,o=r.Hasher,a=n.algo,f=[],s=[];!function(){function e(e){for(var n=t.sqrt(e),r=2;r<=n;r++)if(!(e%r))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var r=2,i=0;i<64;)e(r)&&(i<8&&(f[i]=n(t.pow(r,.5))),s[i]=n(t.pow(r,1/3)),i++),r++}();var c=[],l=a.SHA256=o.extend({_doReset:function(){this._hash=new i.init(f.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],a=n[3],f=n[4],l=n[5],d=n[6],u=n[7],h=0;h<64;h++){if(h<16)c[h]=0|e[t+h];else{var p=c[h-15],b=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,g=c[h-2],v=(g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10;c[h]=b+c[h-7]+v+c[h-16]}var y=r&i^r&o^i&o,m=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),C=u+((f<<26|f>>>6)^(f<<21|f>>>11)^(f<<7|f>>>25))+(f&l^~f&d)+s[h]+c[h];u=d,d=l,l=f,f=a+C|0,a=o,o=i,i=r,r=C+(m+y)|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+a|0,n[4]=n[4]+f|0,n[5]=n[5]+l|0,n[6]=n[6]+d|0,n[7]=n[7]+u|0},_doFinalize:function(){var e=this._data,n=e.words,r=8*this._nDataBytes,i=8*e.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=t.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,e.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});n.SHA256=o._createHelper(l),n.HmacSHA256=o._createHmacHelper(l)}(Math),e.SHA256},"object"==typeof e?t.exports=e=i(po()):"function"==typeof define&&n.amdO?define(["./core"],i):i(r.CryptoJS)})),Oo=p(((e,t)=>{var r,i;r=e,i=function(e){return function(){var t=e,n=t.lib.WordArray,r=t.algo,i=r.SHA256,o=r.SHA224=i.extend({_doReset:function(){this._hash=new n.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=i._doFinalize.call(this);return e.sigBytes-=4,e}});t.SHA224=i._createHelper(o),t.HmacSHA224=i._createHmacHelper(o)}(),e.SHA224},"object"==typeof e?t.exports=e=i(po(),xo()):"function"==typeof define&&n.amdO?define(["./core","./sha256"],i):i(r.CryptoJS)})),_o=p(((e,t)=>{var r,i;r=e,i=function(e){return function(){var t=e,n=t.lib.Hasher,r=t.x64,i=r.Word,o=r.WordArray,a=t.algo;function f(){return i.create.apply(i,arguments)}var s=[f(1116352408,3609767458),f(1899447441,602891725),f(3049323471,3964484399),f(3921009573,2173295548),f(961987163,4081628472),f(1508970993,3053834265),f(2453635748,2937671579),f(2870763221,3664609560),f(3624381080,2734883394),f(310598401,1164996542),f(607225278,1323610764),f(1426881987,3590304994),f(1925078388,4068182383),f(2162078206,991336113),f(2614888103,633803317),f(3248222580,3479774868),f(3835390401,2666613458),f(4022224774,944711139),f(264347078,2341262773),f(604807628,2007800933),f(770255983,1495990901),f(1249150122,1856431235),f(1555081692,3175218132),f(1996064986,2198950837),f(2554220882,3999719339),f(2821834349,766784016),f(2952996808,2566594879),f(3210313671,3203337956),f(3336571891,1034457026),f(3584528711,2466948901),f(113926993,3758326383),f(338241895,168717936),f(666307205,1188179964),f(773529912,1546045734),f(1294757372,1522805485),f(1396182291,2643833823),f(1695183700,2343527390),f(1986661051,1014477480),f(2177026350,1206759142),f(2456956037,344077627),f(2730485921,1290863460),f(2820302411,3158454273),f(3259730800,3505952657),f(3345764771,106217008),f(3516065817,3606008344),f(3600352804,1432725776),f(4094571909,1467031594),f(275423344,851169720),f(430227734,3100823752),f(506948616,1363258195),f(659060556,3750685593),f(883997877,3785050280),f(958139571,3318307427),f(1322822218,3812723403),f(1537002063,2003034995),f(1747873779,3602036899),f(1955562222,1575990012),f(2024104815,1125592928),f(2227730452,2716904306),f(2361852424,442776044),f(2428436474,593698344),f(2756734187,3733110249),f(3204031479,2999351573),f(3329325298,3815920427),f(3391569614,3928383900),f(3515267271,566280711),f(3940187606,3454069534),f(4118630271,4000239992),f(116418474,1914138554),f(174292421,2731055270),f(289380356,3203993006),f(460393269,320620315),f(685471733,587496836),f(852142971,1086792851),f(1017036298,365543100),f(1126000580,2618297676),f(1288033470,3409855158),f(1501505948,4234509866),f(1607167915,987167468),f(1816402316,1246189591)],c=[];!function(){for(var e=0;e<80;e++)c[e]=f()}();var l=a.SHA512=n.extend({_doReset:function(){this._hash=new o.init([new i.init(1779033703,4089235720),new i.init(3144134277,2227873595),new i.init(1013904242,4271175723),new i.init(2773480762,1595750129),new i.init(1359893119,2917565137),new i.init(2600822924,725511199),new i.init(528734635,4215389547),new i.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],a=n[3],f=n[4],l=n[5],d=n[6],u=n[7],h=r.high,p=r.low,b=i.high,g=i.low,v=o.high,y=o.low,m=a.high,C=a.low,w=f.high,x=f.low,O=l.high,_=l.low,E=d.high,S=d.low,R=u.high,N=u.low,k=h,T=p,A=b,P=g,D=v,I=y,K=m,j=C,M=w,U=x,L=O,W=_,B=E,X=S,$=R,H=N,q=0;q<80;q++){var F,J,V=c[q];if(q<16)J=V.high=0|e[t+2*q],F=V.low=0|e[t+2*q+1];else{var z=c[q-15],G=z.high,Z=z.low,Y=(G>>>1|Z<<31)^(G>>>8|Z<<24)^G>>>7,Q=(Z>>>1|G<<31)^(Z>>>8|G<<24)^(Z>>>7|G<<25),ee=c[q-2],te=ee.high,ne=ee.low,re=(te>>>19|ne<<13)^(te<<3|ne>>>29)^te>>>6,ie=(ne>>>19|te<<13)^(ne<<3|te>>>29)^(ne>>>6|te<<26),oe=c[q-7],ae=oe.high,fe=oe.low,se=c[q-16],ce=se.high,le=se.low;J=(J=(J=Y+ae+((F=Q+fe)>>>0<Q>>>0?1:0))+re+((F+=ie)>>>0<ie>>>0?1:0))+ce+((F+=le)>>>0<le>>>0?1:0),V.high=J,V.low=F}var de,ue=M&L^~M&B,he=U&W^~U&X,pe=k&A^k&D^A&D,be=T&P^T&I^P&I,ge=(k>>>28|T<<4)^(k<<30|T>>>2)^(k<<25|T>>>7),ve=(T>>>28|k<<4)^(T<<30|k>>>2)^(T<<25|k>>>7),ye=(M>>>14|U<<18)^(M>>>18|U<<14)^(M<<23|U>>>9),me=(U>>>14|M<<18)^(U>>>18|M<<14)^(U<<23|M>>>9),Ce=s[q],we=Ce.high,xe=Ce.low,Oe=$+ye+((de=H+me)>>>0<H>>>0?1:0),_e=ve+be;$=B,H=X,B=L,X=W,L=M,W=U,M=K+(Oe=(Oe=(Oe=Oe+ue+((de+=he)>>>0<he>>>0?1:0))+we+((de+=xe)>>>0<xe>>>0?1:0))+J+((de+=F)>>>0<F>>>0?1:0))+((U=j+de|0)>>>0<j>>>0?1:0)|0,K=D,j=I,D=A,I=P,A=k,P=T,k=Oe+(ge+pe+(_e>>>0<ve>>>0?1:0))+((T=de+_e|0)>>>0<de>>>0?1:0)|0}p=r.low=p+T,r.high=h+k+(p>>>0<T>>>0?1:0),g=i.low=g+P,i.high=b+A+(g>>>0<P>>>0?1:0),y=o.low=y+I,o.high=v+D+(y>>>0<I>>>0?1:0),C=a.low=C+j,a.high=m+K+(C>>>0<j>>>0?1:0),x=f.low=x+U,f.high=w+M+(x>>>0<U>>>0?1:0),_=l.low=_+W,l.high=O+L+(_>>>0<W>>>0?1:0),S=d.low=S+X,d.high=E+B+(S>>>0<X>>>0?1:0),N=u.low=N+H,u.high=R+$+(N>>>0<H>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[30+(r+128>>>10<<5)]=Math.floor(n/4294967296),t[31+(r+128>>>10<<5)]=n,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32});t.SHA512=n._createHelper(l),t.HmacSHA512=n._createHmacHelper(l)}(),e.SHA512},"object"==typeof e?t.exports=e=i(po(),bo()):"function"==typeof define&&n.amdO?define(["./core","./x64-core"],i):i(r.CryptoJS)})),Eo=p(((e,t)=>{var r,i;r=e,i=function(e){return function(){var t=e,n=t.x64,r=n.Word,i=n.WordArray,o=t.algo,a=o.SHA512,f=o.SHA384=a.extend({_doReset:function(){this._hash=new i.init([new r.init(3418070365,3238371032),new r.init(1654270250,914150663),new r.init(2438529370,812702999),new r.init(355462360,4144912697),new r.init(1731405415,4290775857),new r.init(2394180231,1750603025),new r.init(3675008525,1694076839),new r.init(1203062813,3204075428)])},_doFinalize:function(){var e=a._doFinalize.call(this);return e.sigBytes-=16,e}});t.SHA384=a._createHelper(f),t.HmacSHA384=a._createHmacHelper(f)}(),e.SHA384},"object"==typeof e?t.exports=e=i(po(),bo(),_o()):"function"==typeof define&&n.amdO?define(["./core","./x64-core","./sha512"],i):i(r.CryptoJS)})),So=p(((e,t)=>{var r,i;r=e,i=function(e){return function(t){var n=e,r=n.lib,i=r.WordArray,o=r.Hasher,a=n.x64.Word,f=n.algo,s=[],c=[],l=[];!function(){for(var e=1,t=0,n=0;n<24;n++){s[e+5*t]=(n+1)*(n+2)/2%64;var r=(2*e+3*t)%5;e=t%5,t=r}for(e=0;e<5;e++)for(t=0;t<5;t++)c[e+5*t]=t+(2*e+3*t)%5*5;for(var i=1,o=0;o<24;o++){for(var f=0,d=0,u=0;u<7;u++){if(1&i){var h=(1<<u)-1;h<32?d^=1<<h:f^=1<<h-32}128&i?i=i<<1^113:i<<=1}l[o]=a.create(f,d)}}();var d=[];!function(){for(var e=0;e<25;e++)d[e]=a.create()}();var u=f.SHA3=o.extend({cfg:o.cfg.extend({outputLength:512}),_doReset:function(){for(var e=this._state=[],t=0;t<25;t++)e[t]=new a.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(e,t){for(var n=this._state,r=this.blockSize/2,i=0;i<r;i++){var o=e[t+2*i],a=e[t+2*i+1];o=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),a=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),(N=n[i]).high^=a,N.low^=o}for(var f=0;f<24;f++){for(var u=0;u<5;u++){for(var h=0,p=0,b=0;b<5;b++)h^=(N=n[u+5*b]).high,p^=N.low;var g=d[u];g.high=h,g.low=p}for(u=0;u<5;u++){var v=d[(u+4)%5],y=d[(u+1)%5],m=y.high,C=y.low;for(h=v.high^(m<<1|C>>>31),p=v.low^(C<<1|m>>>31),b=0;b<5;b++)(N=n[u+5*b]).high^=h,N.low^=p}for(var w=1;w<25;w++){var x=(N=n[w]).high,O=N.low,_=s[w];_<32?(h=x<<_|O>>>32-_,p=O<<_|x>>>32-_):(h=O<<_-32|x>>>64-_,p=x<<_-32|O>>>64-_);var E=d[c[w]];E.high=h,E.low=p}var S=d[0],R=n[0];for(S.high=R.high,S.low=R.low,u=0;u<5;u++)for(b=0;b<5;b++){var N=n[w=u+5*b],k=d[w],T=d[(u+1)%5+5*b],A=d[(u+2)%5+5*b];N.high=k.high^~T.high&A.high,N.low=k.low^~T.low&A.low}N=n[0];var P=l[f];N.high^=P.high,N.low^=P.low}},_doFinalize:function(){var e=this._data,n=e.words,r=(this._nDataBytes,8*e.sigBytes),o=32*this.blockSize;n[r>>>5]|=1<<24-r%32,n[(t.ceil((r+1)/o)*o>>>5)-1]|=128,e.sigBytes=4*n.length,this._process();for(var a=this._state,f=this.cfg.outputLength/8,s=f/8,c=[],l=0;l<s;l++){var d=a[l],u=d.high,h=d.low;u=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8),h=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8),c.push(h),c.push(u)}return new i.init(c,f)},clone:function(){for(var e=o.clone.call(this),t=e._state=this._state.slice(0),n=0;n<25;n++)t[n]=t[n].clone();return e}});n.SHA3=o._createHelper(u),n.HmacSHA3=o._createHmacHelper(u)}(Math),e.SHA3},"object"==typeof e?t.exports=e=i(po(),bo()):"function"==typeof define&&n.amdO?define(["./core","./x64-core"],i):i(r.CryptoJS)})),Ro=p(((e,t)=>{var r,i;r=e,i=function(e){return function(){var t=e,n=t.lib,r=n.WordArray,i=n.Hasher,o=t.algo,a=r.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),f=r.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),s=r.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),c=r.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),l=r.create([0,1518500249,1859775393,2400959708,2840853838]),d=r.create([1352829926,1548603684,1836072691,2053994217,0]),u=o.RIPEMD160=i.extend({_doReset:function(){this._hash=r.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=t+n,i=e[r];e[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o,u,m,C,w,x,O,_,E,S,R,N=this._hash.words,k=l.words,T=d.words,A=a.words,P=f.words,D=s.words,I=c.words;for(x=o=N[0],O=u=N[1],_=m=N[2],E=C=N[3],S=w=N[4],n=0;n<80;n+=1)R=o+e[t+A[n]]|0,R+=n<16?h(u,m,C)+k[0]:n<32?p(u,m,C)+k[1]:n<48?b(u,m,C)+k[2]:n<64?g(u,m,C)+k[3]:v(u,m,C)+k[4],R=(R=y(R|=0,D[n]))+w|0,o=w,w=C,C=y(m,10),m=u,u=R,R=x+e[t+P[n]]|0,R+=n<16?v(O,_,E)+T[0]:n<32?g(O,_,E)+T[1]:n<48?b(O,_,E)+T[2]:n<64?p(O,_,E)+T[3]:h(O,_,E)+T[4],R=(R=y(R|=0,I[n]))+S|0,x=S,S=E,E=y(_,10),_=O,O=R;R=N[1]+m+E|0,N[1]=N[2]+C+S|0,N[2]=N[3]+w+x|0,N[3]=N[4]+o+O|0,N[4]=N[0]+u+_|0,N[0]=R},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),e.sigBytes=4*(t.length+1),this._process();for(var i=this._hash,o=i.words,a=0;a<5;a++){var f=o[a];o[a]=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8)}return i},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});function h(e,t,n){return e^t^n}function p(e,t,n){return e&t|~e&n}function b(e,t,n){return(e|~t)^n}function g(e,t,n){return e&n|t&~n}function v(e,t,n){return e^(t|~n)}function y(e,t){return e<<t|e>>>32-t}t.RIPEMD160=i._createHelper(u),t.HmacRIPEMD160=i._createHmacHelper(u)}(Math),e.RIPEMD160},"object"==typeof e?t.exports=e=i(po()):"function"==typeof define&&n.amdO?define(["./core"],i):i(r.CryptoJS)})),No=p(((e,t)=>{var r,i;r=e,i=function(e){!function(){var t=e,n=t.lib.Base,r=t.enc.Utf8;t.algo.HMAC=n.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=r.parse(t));var n=e.blockSize,i=4*n;t.sigBytes>i&&(t=e.finalize(t)),t.clamp();for(var o=this._oKey=t.clone(),a=this._iKey=t.clone(),f=o.words,s=a.words,c=0;c<n;c++)f[c]^=1549556828,s[c]^=909522486;o.sigBytes=a.sigBytes=i,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(n))}})}()},"object"==typeof e?t.exports=e=i(po()):"function"==typeof define&&n.amdO?define(["./core"],i):i(r.CryptoJS)})),ko=p(((e,t)=>{var r,i;r=e,i=function(e){return function(){var t=e,n=t.lib,r=n.Base,i=n.WordArray,o=t.algo,a=o.SHA256,f=o.HMAC,s=o.PBKDF2=r.extend({cfg:r.extend({keySize:4,hasher:a,iterations:25e4}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n=this.cfg,r=f.create(n.hasher,e),o=i.create(),a=i.create([1]),s=o.words,c=a.words,l=n.keySize,d=n.iterations;s.length<l;){var u=r.update(t).finalize(a);r.reset();for(var h=u.words,p=h.length,b=u,g=1;g<d;g++){b=r.finalize(b),r.reset();for(var v=b.words,y=0;y<p;y++)h[y]^=v[y]}o.concat(u),c[0]++}return o.sigBytes=4*l,o}});t.PBKDF2=function(e,t,n){return s.create(n).compute(e,t)}}(),e.PBKDF2},"object"==typeof e?t.exports=e=i(po(),xo(),No()):"function"==typeof define&&n.amdO?define(["./core","./sha256","./hmac"],i):i(r.CryptoJS)})),To=p(((e,t)=>{var r,i;r=e,i=function(e){return function(){var t=e,n=t.lib,r=n.Base,i=n.WordArray,o=t.algo,a=o.MD5,f=o.EvpKDF=r.extend({cfg:r.extend({keySize:4,hasher:a,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n,r=this.cfg,o=r.hasher.create(),a=i.create(),f=a.words,s=r.keySize,c=r.iterations;f.length<s;){n&&o.update(n),n=o.update(e).finalize(t),o.reset();for(var l=1;l<c;l++)n=o.finalize(n),o.reset();a.concat(n)}return a.sigBytes=4*s,a}});t.EvpKDF=function(e,t,n){return f.create(n).compute(e,t)}}(),e.EvpKDF},"object"==typeof e?t.exports=e=i(po(),wo(),No()):"function"==typeof define&&n.amdO?define(["./core","./sha1","./hmac"],i):i(r.CryptoJS)})),Ao=p(((e,t)=>{var r,i;r=e,i=function(e){e.lib.Cipher||function(){var t=e,n=t.lib,r=n.Base,i=n.WordArray,o=n.BufferedBlockAlgorithm,a=t.enc,f=(a.Utf8,a.Base64),s=t.algo.EvpKDF,c=n.Cipher=o.extend({cfg:r.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){o.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?y:g}return function(t){return{encrypt:function(n,r,i){return e(r).encrypt(t,n,r,i)},decrypt:function(n,r,i){return e(r).decrypt(t,n,r,i)}}}}()}),l=(n.StreamCipher=c.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),t.mode={}),d=n.BlockCipherMode=r.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),u=l.CBC=function(){var e=d.extend();function t(e,t,n){var r,i=this._iv;i?(r=i,this._iv=void 0):r=this._prevBlock;for(var o=0;o<n;o++)e[t+o]^=r[o]}return e.Encryptor=e.extend({processBlock:function(e,n){var r=this._cipher,i=r.blockSize;t.call(this,e,n,i),r.encryptBlock(e,n),this._prevBlock=e.slice(n,n+i)}}),e.Decryptor=e.extend({processBlock:function(e,n){var r=this._cipher,i=r.blockSize,o=e.slice(n,n+i);r.decryptBlock(e,n),t.call(this,e,n,i),this._prevBlock=o}}),e}(),h=(t.pad={}).Pkcs7={pad:function(e,t){for(var n=4*t,r=n-e.sigBytes%n,o=r<<24|r<<16|r<<8|r,a=[],f=0;f<r;f+=4)a.push(o);var s=i.create(a,r);e.concat(s)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},p=(n.BlockCipher=c.extend({cfg:c.cfg.extend({mode:u,padding:h}),reset:function(){var e;c.reset.call(this);var t=this.cfg,n=t.iv,r=t.mode;this._xformMode==this._ENC_XFORM_MODE?e=r.createEncryptor:(e=r.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,n&&n.words):(this._mode=e.call(r,this,n&&n.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4}),n.CipherParams=r.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}})),b=(t.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,n=e.salt;return(n?i.create([1398893684,1701076831]).concat(n).concat(t):t).toString(f)},parse:function(e){var t,n=f.parse(e),r=n.words;return 1398893684==r[0]&&1701076831==r[1]&&(t=i.create(r.slice(2,4)),r.splice(0,4),n.sigBytes-=16),p.create({ciphertext:n,salt:t})}},g=n.SerializableCipher=r.extend({cfg:r.extend({format:b}),encrypt:function(e,t,n,r){r=this.cfg.extend(r);var i=e.createEncryptor(n,r),o=i.finalize(t),a=i.cfg;return p.create({ciphertext:o,key:n,iv:a.iv,algorithm:e,mode:a.mode,padding:a.padding,blockSize:e.blockSize,formatter:r.format})},decrypt:function(e,t,n,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),e.createDecryptor(n,r).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),v=(t.kdf={}).OpenSSL={execute:function(e,t,n,r,o){if(r||(r=i.random(8)),o)var a=s.create({keySize:t+n,hasher:o}).compute(e,r);else a=s.create({keySize:t+n}).compute(e,r);var f=i.create(a.words.slice(t),4*n);return a.sigBytes=4*t,p.create({key:a,iv:f,salt:r})}},y=n.PasswordBasedCipher=g.extend({cfg:g.cfg.extend({kdf:v}),encrypt:function(e,t,n,r){var i=(r=this.cfg.extend(r)).kdf.execute(n,e.keySize,e.ivSize,r.salt,r.hasher);r.iv=i.iv;var o=g.encrypt.call(this,e,t,i.key,r);return o.mixIn(i),o},decrypt:function(e,t,n,r){r=this.cfg.extend(r),t=this._parse(t,r.format);var i=r.kdf.execute(n,e.keySize,e.ivSize,t.salt,r.hasher);return r.iv=i.iv,g.decrypt.call(this,e,t,i.key,r)}})}()},"object"==typeof e?t.exports=e=i(po(),To()):"function"==typeof define&&n.amdO?define(["./core","./evpkdf"],i):i(r.CryptoJS)})),Po=p(((e,t)=>{var r,i;r=e,i=function(e){return e.mode.CFB=function(){var t=e.lib.BlockCipherMode.extend();function n(e,t,n,r){var i,o=this._iv;o?(i=o.slice(0),this._iv=void 0):i=this._prevBlock,r.encryptBlock(i,0);for(var a=0;a<n;a++)e[t+a]^=i[a]}return t.Encryptor=t.extend({processBlock:function(e,t){var r=this._cipher,i=r.blockSize;n.call(this,e,t,i,r),this._prevBlock=e.slice(t,t+i)}}),t.Decryptor=t.extend({processBlock:function(e,t){var r=this._cipher,i=r.blockSize,o=e.slice(t,t+i);n.call(this,e,t,i,r),this._prevBlock=o}}),t}(),e.mode.CFB},"object"==typeof e?t.exports=e=i(po(),Ao()):"function"==typeof define&&n.amdO?define(["./core","./cipher-core"],i):i(r.CryptoJS)})),Do=p(((e,t)=>{var r,i;r=e,i=function(e){return e.mode.CTR=function(){var t=e.lib.BlockCipherMode.extend(),n=t.Encryptor=t.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,i=this._iv,o=this._counter;i&&(o=this._counter=i.slice(0),this._iv=void 0);var a=o.slice(0);n.encryptBlock(a,0),o[r-1]=o[r-1]+1|0;for(var f=0;f<r;f++)e[t+f]^=a[f]}});return t.Decryptor=n,t}(),e.mode.CTR},"object"==typeof e?t.exports=e=i(po(),Ao()):"function"==typeof define&&n.amdO?define(["./core","./cipher-core"],i):i(r.CryptoJS)})),Io=p(((e,t)=>{var r,i;r=e,i=function(e){return e.mode.CTRGladman=function(){var t=e.lib.BlockCipherMode.extend();function n(e){if(255===(e>>24&255)){var t=e>>16&255,n=e>>8&255,r=255&e;255===t?(t=0,255===n?(n=0,255===r?r=0:++r):++n):++t,e=0,e+=t<<16,e+=n<<8,e+=r}else e+=1<<24;return e}var r=t.Encryptor=t.extend({processBlock:function(e,t){var r=this._cipher,i=r.blockSize,o=this._iv,a=this._counter;o&&(a=this._counter=o.slice(0),this._iv=void 0),function(e){0===(e[0]=n(e[0]))&&(e[1]=n(e[1]))}(a);var f=a.slice(0);r.encryptBlock(f,0);for(var s=0;s<i;s++)e[t+s]^=f[s]}});return t.Decryptor=r,t}(),e.mode.CTRGladman},"object"==typeof e?t.exports=e=i(po(),Ao()):"function"==typeof define&&n.amdO?define(["./core","./cipher-core"],i):i(r.CryptoJS)})),Ko=p(((e,t)=>{var r,i;r=e,i=function(e){return e.mode.OFB=function(){var t=e.lib.BlockCipherMode.extend(),n=t.Encryptor=t.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,i=this._iv,o=this._keystream;i&&(o=this._keystream=i.slice(0),this._iv=void 0),n.encryptBlock(o,0);for(var a=0;a<r;a++)e[t+a]^=o[a]}});return t.Decryptor=n,t}(),e.mode.OFB},"object"==typeof e?t.exports=e=i(po(),Ao()):"function"==typeof define&&n.amdO?define(["./core","./cipher-core"],i):i(r.CryptoJS)})),jo=p(((e,t)=>{var r,i;r=e,i=function(e){return e.mode.ECB=function(){var t=e.lib.BlockCipherMode.extend();return t.Encryptor=t.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),t.Decryptor=t.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),t}(),e.mode.ECB},"object"==typeof e?t.exports=e=i(po(),Ao()):"function"==typeof define&&n.amdO?define(["./core","./cipher-core"],i):i(r.CryptoJS)})),Mo=p(((e,t)=>{var r,i;r=e,i=function(e){return e.pad.AnsiX923={pad:function(e,t){var n=e.sigBytes,r=4*t,i=r-n%r,o=n+i-1;e.clamp(),e.words[o>>>2]|=i<<24-o%4*8,e.sigBytes+=i},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},e.pad.Ansix923},"object"==typeof e?t.exports=e=i(po(),Ao()):"function"==typeof define&&n.amdO?define(["./core","./cipher-core"],i):i(r.CryptoJS)})),Uo=p(((e,t)=>{var r,i;r=e,i=function(e){return e.pad.Iso10126={pad:function(t,n){var r=4*n,i=r-t.sigBytes%r;t.concat(e.lib.WordArray.random(i-1)).concat(e.lib.WordArray.create([i<<24],1))},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},e.pad.Iso10126},"object"==typeof e?t.exports=e=i(po(),Ao()):"function"==typeof define&&n.amdO?define(["./core","./cipher-core"],i):i(r.CryptoJS)})),Lo=p(((e,t)=>{var r,i;r=e,i=function(e){return e.pad.Iso97971={pad:function(t,n){t.concat(e.lib.WordArray.create([2147483648],1)),e.pad.ZeroPadding.pad(t,n)},unpad:function(t){e.pad.ZeroPadding.unpad(t),t.sigBytes--}},e.pad.Iso97971},"object"==typeof e?t.exports=e=i(po(),Ao()):"function"==typeof define&&n.amdO?define(["./core","./cipher-core"],i):i(r.CryptoJS)})),Wo=p(((e,t)=>{var r,i;r=e,i=function(e){return e.pad.ZeroPadding={pad:function(e,t){var n=4*t;e.clamp(),e.sigBytes+=n-(e.sigBytes%n||n)},unpad:function(e){var t=e.words,n=e.sigBytes-1;for(n=e.sigBytes-1;n>=0;n--)if(t[n>>>2]>>>24-n%4*8&255){e.sigBytes=n+1;break}}},e.pad.ZeroPadding},"object"==typeof e?t.exports=e=i(po(),Ao()):"function"==typeof define&&n.amdO?define(["./core","./cipher-core"],i):i(r.CryptoJS)})),Bo=p(((e,t)=>{var r,i;r=e,i=function(e){return e.pad.NoPadding={pad:function(){},unpad:function(){}},e.pad.NoPadding},"object"==typeof e?t.exports=e=i(po(),Ao()):"function"==typeof define&&n.amdO?define(["./core","./cipher-core"],i):i(r.CryptoJS)})),Xo=p(((e,t)=>{var r,i;r=e,i=function(e){return function(){var t=e,n=t.lib.CipherParams,r=t.enc.Hex;t.format.Hex={stringify:function(e){return e.ciphertext.toString(r)},parse:function(e){var t=r.parse(e);return n.create({ciphertext:t})}}}(),e.format.Hex},"object"==typeof e?t.exports=e=i(po(),Ao()):"function"==typeof define&&n.amdO?define(["./core","./cipher-core"],i):i(r.CryptoJS)})),$o=p(((e,t)=>{var r,i;r=e,i=function(e){return function(){var t=e,n=t.lib.BlockCipher,r=t.algo,i=[],o=[],a=[],f=[],s=[],c=[],l=[],d=[],u=[],h=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var n=0,r=0;for(t=0;t<256;t++){var p=r^r<<1^r<<2^r<<3^r<<4;p=p>>>8^255&p^99,i[n]=p,o[p]=n;var b=e[n],g=e[b],v=e[g],y=257*e[p]^16843008*p;a[n]=y<<24|y>>>8,f[n]=y<<16|y>>>16,s[n]=y<<8|y>>>24,c[n]=y,y=16843009*v^65537*g^257*b^16843008*n,l[p]=y<<24|y>>>8,d[p]=y<<16|y>>>16,u[p]=y<<8|y>>>24,h[p]=y,n?(n=b^e[e[e[v^b]]],r^=e[e[r]]):n=r=1}}();var p=[0,1,2,4,8,16,32,64,128,27,54],b=r.AES=n.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,n=e.sigBytes/4,r=4*((this._nRounds=n+6)+1),o=this._keySchedule=[],a=0;a<r;a++)a<n?o[a]=t[a]:(c=o[a-1],a%n?n>6&&a%n==4&&(c=i[c>>>24]<<24|i[c>>>16&255]<<16|i[c>>>8&255]<<8|i[255&c]):(c=i[(c=c<<8|c>>>24)>>>24]<<24|i[c>>>16&255]<<16|i[c>>>8&255]<<8|i[255&c],c^=p[a/n|0]<<24),o[a]=o[a-n]^c);for(var f=this._invKeySchedule=[],s=0;s<r;s++){if(a=r-s,s%4)var c=o[a];else c=o[a-4];f[s]=s<4||a<=4?c:l[i[c>>>24]]^d[i[c>>>16&255]]^u[i[c>>>8&255]]^h[i[255&c]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,a,f,s,c,i)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,l,d,u,h,o),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,r,i,o,a,f){for(var s=this._nRounds,c=e[t]^n[0],l=e[t+1]^n[1],d=e[t+2]^n[2],u=e[t+3]^n[3],h=4,p=1;p<s;p++){var b=r[c>>>24]^i[l>>>16&255]^o[d>>>8&255]^a[255&u]^n[h++],g=r[l>>>24]^i[d>>>16&255]^o[u>>>8&255]^a[255&c]^n[h++],v=r[d>>>24]^i[u>>>16&255]^o[c>>>8&255]^a[255&l]^n[h++],y=r[u>>>24]^i[c>>>16&255]^o[l>>>8&255]^a[255&d]^n[h++];c=b,l=g,d=v,u=y}b=(f[c>>>24]<<24|f[l>>>16&255]<<16|f[d>>>8&255]<<8|f[255&u])^n[h++],g=(f[l>>>24]<<24|f[d>>>16&255]<<16|f[u>>>8&255]<<8|f[255&c])^n[h++],v=(f[d>>>24]<<24|f[u>>>16&255]<<16|f[c>>>8&255]<<8|f[255&l])^n[h++],y=(f[u>>>24]<<24|f[c>>>16&255]<<16|f[l>>>8&255]<<8|f[255&d])^n[h++],e[t]=b,e[t+1]=g,e[t+2]=v,e[t+3]=y},keySize:8});t.AES=n._createHelper(b)}(),e.AES},"object"==typeof e?t.exports=e=i(po(),yo(),Co(),To(),Ao()):"function"==typeof define&&n.amdO?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],i):i(r.CryptoJS)})),Ho=p(((e,t)=>{var r,i;r=e,i=function(e){return function(){var t=e,n=t.lib,r=n.WordArray,i=n.BlockCipher,o=t.algo,a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],f=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],s=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],c=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],l=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],d=o.DES=i.extend({_doReset:function(){for(var e=this._key.words,t=[],n=0;n<56;n++){var r=a[n]-1;t[n]=e[r>>>5]>>>31-r%32&1}for(var i=this._subKeys=[],o=0;o<16;o++){var c=i[o]=[],l=s[o];for(n=0;n<24;n++)c[n/6|0]|=t[(f[n]-1+l)%28]<<31-n%6,c[4+(n/6|0)]|=t[28+(f[n+24]-1+l)%28]<<31-n%6;for(c[0]=c[0]<<1|c[0]>>>31,n=1;n<7;n++)c[n]=c[n]>>>4*(n-1)+3;c[7]=c[7]<<5|c[7]>>>27}var d=this._invSubKeys=[];for(n=0;n<16;n++)d[n]=i[15-n]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(e,t,n){this._lBlock=e[t],this._rBlock=e[t+1],u.call(this,4,252645135),u.call(this,16,65535),h.call(this,2,858993459),h.call(this,8,16711935),u.call(this,1,1431655765);for(var r=0;r<16;r++){for(var i=n[r],o=this._lBlock,a=this._rBlock,f=0,s=0;s<8;s++)f|=c[s][((a^i[s])&l[s])>>>0];this._lBlock=a,this._rBlock=o^f}var d=this._lBlock;this._lBlock=this._rBlock,this._rBlock=d,u.call(this,1,1431655765),h.call(this,8,16711935),h.call(this,2,858993459),u.call(this,16,65535),u.call(this,4,252645135),e[t]=this._lBlock,e[t+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function u(e,t){var n=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=n,this._lBlock^=n<<e}function h(e,t){var n=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=n,this._rBlock^=n<<e}t.DES=i._createHelper(d);var p=o.TripleDES=i.extend({_doReset:function(){var e=this._key.words;if(2!==e.length&&4!==e.length&&e.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var t=e.slice(0,2),n=e.length<4?e.slice(0,2):e.slice(2,4),i=e.length<6?e.slice(0,2):e.slice(4,6);this._des1=d.createEncryptor(r.create(t)),this._des2=d.createEncryptor(r.create(n)),this._des3=d.createEncryptor(r.create(i))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2});t.TripleDES=i._createHelper(p)}(),e.TripleDES},"object"==typeof e?t.exports=e=i(po(),yo(),Co(),To(),Ao()):"function"==typeof define&&n.amdO?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],i):i(r.CryptoJS)})),qo=p(((e,t)=>{var r,i;r=e,i=function(e){return function(){var t=e,n=t.lib.StreamCipher,r=t.algo,i=r.RC4=n.extend({_doReset:function(){for(var e=this._key,t=e.words,n=e.sigBytes,r=this._S=[],i=0;i<256;i++)r[i]=i;i=0;for(var o=0;i<256;i++){var a=i%n,f=t[a>>>2]>>>24-a%4*8&255;o=(o+r[i]+f)%256;var s=r[i];r[i]=r[o],r[o]=s}this._i=this._j=0},_doProcessBlock:function(e,t){e[t]^=o.call(this)},keySize:8,ivSize:0});function o(){for(var e=this._S,t=this._i,n=this._j,r=0,i=0;i<4;i++){n=(n+e[t=(t+1)%256])%256;var o=e[t];e[t]=e[n],e[n]=o,r|=e[(e[t]+e[n])%256]<<24-8*i}return this._i=t,this._j=n,r}t.RC4=n._createHelper(i);var a=r.RC4Drop=i.extend({cfg:i.cfg.extend({drop:192}),_doReset:function(){i._doReset.call(this);for(var e=this.cfg.drop;e>0;e--)o.call(this)}});t.RC4Drop=n._createHelper(a)}(),e.RC4},"object"==typeof e?t.exports=e=i(po(),yo(),Co(),To(),Ao()):"function"==typeof define&&n.amdO?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],i):i(r.CryptoJS)})),Fo=p(((e,t)=>{var r,i;r=e,i=function(e){return function(){var t=e,n=t.lib.StreamCipher,r=t.algo,i=[],o=[],a=[],f=r.Rabbit=n.extend({_doReset:function(){for(var e=this._key.words,t=this.cfg.iv,n=0;n<4;n++)e[n]=16711935&(e[n]<<8|e[n]>>>24)|4278255360&(e[n]<<24|e[n]>>>8);var r=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],i=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];for(this._b=0,n=0;n<4;n++)s.call(this);for(n=0;n<8;n++)i[n]^=r[n+4&7];if(t){var o=t.words,a=o[0],f=o[1],c=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),l=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8),d=c>>>16|4294901760&l,u=l<<16|65535&c;for(i[0]^=c,i[1]^=d,i[2]^=l,i[3]^=u,i[4]^=c,i[5]^=d,i[6]^=l,i[7]^=u,n=0;n<4;n++)s.call(this)}},_doProcessBlock:function(e,t){var n=this._X;s.call(this),i[0]=n[0]^n[5]>>>16^n[3]<<16,i[1]=n[2]^n[7]>>>16^n[5]<<16,i[2]=n[4]^n[1]>>>16^n[7]<<16,i[3]=n[6]^n[3]>>>16^n[1]<<16;for(var r=0;r<4;r++)i[r]=16711935&(i[r]<<8|i[r]>>>24)|4278255360&(i[r]<<24|i[r]>>>8),e[t+r]^=i[r]},blockSize:4,ivSize:2});function s(){for(var e=this._X,t=this._C,n=0;n<8;n++)o[n]=t[n];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<o[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<o[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<o[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<o[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<o[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<o[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<o[6]>>>0?1:0)|0,this._b=t[7]>>>0<o[7]>>>0?1:0,n=0;n<8;n++){var r=e[n]+t[n],i=65535&r,f=r>>>16,s=((i*i>>>17)+i*f>>>15)+f*f,c=((4294901760&r)*r|0)+((65535&r)*r|0);a[n]=s^c}e[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,e[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,e[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,e[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,e[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,e[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,e[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,e[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}t.Rabbit=n._createHelper(f)}(),e.Rabbit},"object"==typeof e?t.exports=e=i(po(),yo(),Co(),To(),Ao()):"function"==typeof define&&n.amdO?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],i):i(r.CryptoJS)})),Jo=p(((e,t)=>{var r,i;r=e,i=function(e){return function(){var t=e,n=t.lib.StreamCipher,r=t.algo,i=[],o=[],a=[],f=r.RabbitLegacy=n.extend({_doReset:function(){var e=this._key.words,t=this.cfg.iv,n=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],r=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(var i=0;i<4;i++)s.call(this);for(i=0;i<8;i++)r[i]^=n[i+4&7];if(t){var o=t.words,a=o[0],f=o[1],c=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),l=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8),d=c>>>16|4294901760&l,u=l<<16|65535&c;for(r[0]^=c,r[1]^=d,r[2]^=l,r[3]^=u,r[4]^=c,r[5]^=d,r[6]^=l,r[7]^=u,i=0;i<4;i++)s.call(this)}},_doProcessBlock:function(e,t){var n=this._X;s.call(this),i[0]=n[0]^n[5]>>>16^n[3]<<16,i[1]=n[2]^n[7]>>>16^n[5]<<16,i[2]=n[4]^n[1]>>>16^n[7]<<16,i[3]=n[6]^n[3]>>>16^n[1]<<16;for(var r=0;r<4;r++)i[r]=16711935&(i[r]<<8|i[r]>>>24)|4278255360&(i[r]<<24|i[r]>>>8),e[t+r]^=i[r]},blockSize:4,ivSize:2});function s(){for(var e=this._X,t=this._C,n=0;n<8;n++)o[n]=t[n];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<o[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<o[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<o[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<o[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<o[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<o[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<o[6]>>>0?1:0)|0,this._b=t[7]>>>0<o[7]>>>0?1:0,n=0;n<8;n++){var r=e[n]+t[n],i=65535&r,f=r>>>16,s=((i*i>>>17)+i*f>>>15)+f*f,c=((4294901760&r)*r|0)+((65535&r)*r|0);a[n]=s^c}e[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,e[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,e[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,e[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,e[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,e[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,e[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,e[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}t.RabbitLegacy=n._createHelper(f)}(),e.RabbitLegacy},"object"==typeof e?t.exports=e=i(po(),yo(),Co(),To(),Ao()):"function"==typeof define&&n.amdO?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],i):i(r.CryptoJS)})),Vo=p(((e,t)=>{var r,i;r=e,i=function(e){return function(){var t=e,n=t.lib.BlockCipher,r=t.algo;let i=16,o=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],a=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var f={pbox:[],sbox:[]};function s(e,t){let n=t>>24&255,r=t>>16&255,i=t>>8&255,o=255&t,a=e.sbox[0][n]+e.sbox[1][r];return a^=e.sbox[2][i],a+=e.sbox[3][o],a}function c(e,t,n){let r,o=t,a=n;for(let f=0;f<i;++f)o^=e.pbox[f],a=s(e,o)^a,r=o,o=a,a=r;return r=o,o=a,a=r,a^=e.pbox[i],o^=e.pbox[17],{left:o,right:a}}var l=r.Blowfish=n.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var e=this._keyPriorReset=this._key,t=e.words,n=e.sigBytes/4;!function(e,t,n){for(let o=0;o<4;o++){e.sbox[o]=[];for(let t=0;t<256;t++)e.sbox[o][t]=a[o][t]}let r=0;for(let a=0;a<18;a++)e.pbox[a]=o[a]^t[r],r++,r>=n&&(r=0);let i=0,f=0,s=0;for(let o=0;o<18;o+=2)s=c(e,i,f),i=s.left,f=s.right,e.pbox[o]=i,e.pbox[o+1]=f;for(let o=0;o<4;o++)for(let t=0;t<256;t+=2)s=c(e,i,f),i=s.left,f=s.right,e.sbox[o][t]=i,e.sbox[o][t+1]=f}(f,t,n)}},encryptBlock:function(e,t){var n=c(f,e[t],e[t+1]);e[t]=n.left,e[t+1]=n.right},decryptBlock:function(e,t){var n=function(e,t,n){let r,i=t,o=n;for(let a=17;a>1;--a)i^=e.pbox[a],o=s(e,i)^o,r=i,i=o,o=r;return r=i,i=o,o=r,o^=e.pbox[1],i^=e.pbox[0],{left:i,right:o}}(f,e[t],e[t+1]);e[t]=n.left,e[t+1]=n.right},blockSize:2,keySize:4,ivSize:2});t.Blowfish=n._createHelper(l)}(),e.Blowfish},"object"==typeof e?t.exports=e=i(po(),yo(),Co(),To(),Ao()):"function"==typeof define&&n.amdO?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],i):i(r.CryptoJS)})),zo=p(((e,t)=>{var r,i;r=e,i=function(e){return e},"object"==typeof e?t.exports=e=i(po(),bo(),go(),vo(),yo(),mo(),Co(),wo(),xo(),Oo(),_o(),Eo(),So(),Ro(),No(),ko(),To(),Ao(),Po(),Do(),Io(),Ko(),jo(),Mo(),Uo(),Lo(),Wo(),Bo(),Xo(),$o(),Ho(),qo(),Fo(),Jo(),Vo()):"function"==typeof define&&n.amdO?define(["./core","./x64-core","./lib-typedarrays","./enc-utf16","./enc-base64","./enc-base64url","./md5","./sha1","./sha256","./sha224","./sha512","./sha384","./sha3","./ripemd160","./hmac","./pbkdf2","./evpkdf","./cipher-core","./mode-cfb","./mode-ctr","./mode-ctr-gladman","./mode-ofb","./mode-ecb","./pad-ansix923","./pad-iso10126","./pad-iso97971","./pad-zeropadding","./pad-nopadding","./format-hex","./aes","./tripledes","./rc4","./rabbit","./rabbit-legacy","./blowfish"],i):r.CryptoJS=r.CryptoJS})),Go=p((e=>{var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=e&&e.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&t(r,e,i);return n(r,e),r},i=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.Storage=void 0;var o=T(),a=i(P()),f=Vi(),s=ho(),c=r(pn()),l=ho(),d=zo(),u=class e{constructor(t){let n=(0,f.resolveLocalStorage)();this.storeKey="",this.cipherIV="",this.subKey=t,c.logDebug("--------get current local storage --------"),c.logDebug(n);let r=n.getItem(e.cacheKey+t);if(typeof r>"u"||null===r)return c.logDebug("with no cache"),void(this.cache={});if(c.logDebug(r),r?.length>0){var i=(0,s.safeJsonParse)(r);this.cache=i}c.logDebug(`get cache obj: ${this.cache}`),(typeof this.cache>"u"||null==this.cache)&&(this.cache={})}saveContent(e,t){let n={id:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-",timestamp:Date.now().toString(),content:e};this.saveItem(n,t)}saveItem(t,n){let r=e.cacheKey+this.subKey,i=(0,f.resolveLocalStorage)();c.logDebug(this.cache),c.logDebug(`get cache obj: ${this.cache}, ${n}, ${t}`),this.cache[n]=t;let o=(0,s.safeJsonStringify)(this.cache);c.logDebug(`STORAGE: ${n} @ ${this.cache}`),i.setItem(r,o)}getItem(e){return c.logDebug(`STORAGE >> getItem: ${e} @ ${this.cache}`),this.cache[e]}getCachedPBKDF2InfoKey(){var e,t,n,r;if(this.storeKey.length>0&&(null===(e=this.cipherIV)||void 0===e?void 0:e.length)>0)return{pw:this.storeKey,iv:this.cipherIV};let i=null===(t=this.getItem(o.OKXCONNECTOR_STORAGER_CRYPTO_SALT))||void 0===t?void 0:t.content;i||(i=(0,f.toHexString)(a.default.randomBytes(24)),this.saveContent(i,o.OKXCONNECTOR_STORAGER_CRYPTO_SALT));let s=null===(n=this.getItem(o.OKXCONNECTOR_STORAGE_CRYPTO_PASSWORD))||void 0===n?void 0:n.content;s||(s=(0,f.toHexString)(a.default.randomBytes(32)),this.saveContent(s,o.OKXCONNECTOR_STORAGE_CRYPTO_PASSWORD));let c=null===(r=this.getItem(o.OKXCONNECTOR_STORAGE_CRYPTO_CIPHERIV))||void 0===r?void 0:r.content;if(!c){let e=a.default.randomBytes(16);c=(0,f.toHexString)(e),this.saveContent(c,o.OKXCONNECTOR_STORAGE_CRYPTO_CIPHERIV)}return this.cipherIV=c,this.storeKey=(0,d.PBKDF2)(s,i,{iterations:10}).toString(),{pw:this.storeKey,iv:this.cipherIV}}encryptStoreMsg(e,t){(0,l.logDebug)(`encryptStoreMsg  encryptStoreMsg start ${Date.now()}`);let n=this.getCachedPBKDF2InfoKey();(0,l.logDebug)(`encryptStoreMsg  encryptStoreMsg mid ${Date.now()}`);var r=d.AES.encrypt(e,n.pw).toString();this.saveContent(r,t),(0,l.logDebug)(`encryptStoreMsg  encryptStoreMsg end ${Date.now()}`)}getAndDecrypt(e){(0,l.logDebug)(`encryptStoreMsg  getAndDecrypt start ${Date.now()}`);let t=this.getItem(e);if(t&&t.content){let e=this.getCachedPBKDF2InfoKey();(0,l.logDebug)(`encryptStoreMsg  getAndDecrypt mid ${Date.now()}`);let n=d.AES.decrypt(t.content,e.pw).toString(d.enc.Utf8);return(0,l.logDebug)(`encryptStoreMsg  getAndDecrypt end ${Date.now()}`),n}return null}clearCache(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(void 0===t){this.cache={};let t=e.cacheKey+this.subKey;localStorage.setItem(t,"")}else{let n=e.cacheKey+this.subKey,r=(0,f.resolveLocalStorage)();c.logDebug(this.cache),this.cache[t]=null;let i=(0,s.safeJsonStringify)(this.cache);c.logDebug(`STORAGE: clean key ${t} @ ${this.cache}`),r.setItem(n,i)}}};e.Storage=u,u.cacheKey="OKXStorageKey"})),Zo=p((e=>{var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=e&&e.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&t(r,e,i);return n(r,e),r},i=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(t){o(t)}}function f(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,f)}s((r=r.apply(e,t||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.OKXWalletConnector=void 0;var o=k(),a=T(),f=Go(),s=ho(),c=Vi(),l=m(),d=r(pn()),u=fo(),h=(0,c.resolveWebSocketImplementation)();e.OKXWalletConnector=class{constructor(e){if(this.events=new l.EventEmitter,this.state=o.ConnectorState.InitState,this.selectedUrlIndex=0,this.retryCount=0,this.timeOutLimit=8e3,!(0,c.checkWSUrl)(e))throw new Error(`CONNECTOR: invalid url ${e}`);this.url=e,this.heartbeatTimer=null,this.connectionTimeoutTimer=null,this.connectURLStorage=new f.Storage(a.OKXCONNECTOR_CACHE_KEY+a.OKXCONNECTOR_CACHE_KEY)}get connecting(){return this.state==o.ConnectorState.Connecting}onPayload(e){if(!(typeof e.data>"u")){if(d.logDebug("get received data"),d.logDebug(e),"string"==typeof e.data&&"pong"===e.data)return void d.logDebug(`CONNECT: receive pong ${Date.now().toString()}`);this.events.emit("payload",e.data)}}onClose(e){var t;d.logDebug("socket get closed: ",null===(t=this.socket)||void 0===t?void 0:t.url,e.code),this.socket=void 0,this.events.emit("close",e)}onError(e,t){let n={id:e,msg:t.toString()};this.events.emit("payload",n)}onopen(e){e.onmessage=e=>this.onPayload(e),e.onclose=e=>this.onClose(e),this.socket=e,this.state=o.ConnectorState.Connected,this.events.emit("open")}emitError(e){this.events.emit("fail",e)}heartbeat(){return i(this,void 0,void 0,(function*(){if(this.heartbeatTimer&&clearTimeout(this.heartbeatTimer),this.state==o.ConnectorState.Connected||this.state==o.ConnectorState.OnError){if(this.socket){if(this.socket.readyState===WebSocket.OPEN)d.logDebug(`send ping heart beat: ${Date.now().toString()}, ${this.socket}`),this.socket.send("ping"),this.heartbeatTimer=setTimeout(this.heartbeat.bind(this),5e3);else if(d.logDebug("socket not ready"),this.state==o.ConnectorState.Connected||this.state==o.ConnectorState.OnError){d.logDebug("socket reconnect by heartbeat with state",this.state,this.socket.readyState);try{yield this.tryRegistOpen()}catch{d.logError("regist open failed"),this.heartbeatTimer=setTimeout(this.heartbeat.bind(this),5e3)}}}else if(d.logDebug("socket not exist"),this.state==o.ConnectorState.Connected||this.state==o.ConnectorState.OnError){d.logDebug("socket reconnect by heartbeat");try{yield this.tryRegistOpen()}catch{d.logError("regist open failed"),this.heartbeatTimer=setTimeout(this.heartbeat.bind(this),5e3)}}}else d.logDebug("heart beat close")}))}registOpen(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.url,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!(0,c.checkWSUrl)(e))throw new Error(`CONNECTOR: invalid url ${e}`);this.url=e,t||d.logDebug("Connection connect:",this.url,(new Date).toUTCString()),this.state=o.ConnectorState.Connecting;new URLSearchParams(e).get("origin");return new Promise(((t,n)=>{let r=new h(e,[]);d.logDebug("Connection connect Begin:",this.url,(new Date).toUTCString()),this.startTimeOutTimer(r),(0,c.hasBuiltInWebSocket)()?(d.logDebug("Add socket error handler"),r.onerror=()=>{n(new Error("socket error")),r.close()}):(d.logDebug("Add socket error handler"),r.on("error",(()=>{n(new Error("socket error")),r.close()}))),r.onopen=()=>{d.logDebug("socket opened"),this.resetTimeOutTimer(o.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE.FINISHED),this.onopen(r),this.heartbeat(),t(r)}}))}checkMaxRetry(){return d.logDebug("current retry count:",this.retryCount,"of",o.OKXCONNECTOR_WS_URL_LIST.length),this.retryCount>o.OKXCONNECTOR_WS_URL_LIST.length}connectionTryNext(){return i(this,void 0,void 0,(function*(){if(!this.checkMaxRetry()){this.retryCount+=1;let e=this.getNextSelectUrl();return d.logDebug("Connection retry:",e,(new Date).toUTCString()),this.registOpen(e,!0)}d.logDebug("Max Connection retry ",this.retryCount,(new Date).toUTCString())}))}startTimeOutTimer(e){this.connectionTimeoutTimer&&this.resetTimeOutTimer(o.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE.CANCELED),this.pendingSocket=e,this.connectionTimeoutTimer=setTimeout((()=>{this.pendingSocket&&this.resetTimeOutTimer(o.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE.TIME_OUT)}),this.timeOutLimit)}resetTimeOutTimer(e){var t;e!=o.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE.FINISHED&&(null===(t=this.pendingSocket)||void 0===t||t.close(e)),this.pendingSocket=void 0,clearTimeout(this.connectionTimeoutTimer)}cacheSuccessUrlSelect(){this.connectURLStorage.saveContent(this.selectedUrlIndex.toString(),a.OKXCONNECTOR_CACHE_KEY)}getSuccessUrlSelect(){var e;let t=null===(e=this.connectURLStorage.getItem(a.OKXCONNECTOR_CACHE_KEY))||void 0===e?void 0:e.content,n=0;return t&&(n=Number(t)),this.selectedUrlIndex=n,o.OKXCONNECTOR_WS_URL_LIST[n]}getNextSelectUrl(){return this.selectedUrlIndex+=1,this.selectedUrlIndex=this.selectedUrlIndex%o.OKXCONNECTOR_WS_URL_LIST.length,o.OKXCONNECTOR_WS_URL_LIST[this.selectedUrlIndex]}onVisibleChanged(){return i(this,void 0,void 0,(function*(){if("visible"===document.visibilityState&&(d.logDebug(`get changed ${this.state}, ${this.socket}`),this.state==o.ConnectorState.Connected&&typeof this.socket>"u")){d.logDebug("CONNECTION need reopen");try{yield this.tryRegistOpen()}catch{d.logError("regist open failed")}}else;}))}tryRegistOpen(){return i(this,arguments,void 0,(function(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.url;return function*(){if(e.connecting)return d.logDebug("tryRegistOpen => connecting state"),new Promise(((t,n)=>{e.events.once("fail",(e=>(d.logDebug("tryRegistOpen => connecting fail listener",e),n(e)))),e.events.once("open",(()=>typeof e.socket>"u"?n(new Error("Connect lost")):t(e.socket)))}));d.logDebug("tryRegistOpen => try registOpen until retry limit is hit");let n=!1;for(;!e.checkMaxRetry()&&!e.socket;)try{d.logDebug("tryRegistOpen => call registOpen, try count:",e.retryCount,n),yield e.registOpen(t,n)}catch(r){d.logDebug("tryRegistOpen => registOpen failed",r),e.retryCount+=1,t=e.getNextSelectUrl(),n=!0}if(d.logDebug("tryRegistOpen => exit while loop",e.retryCount,e.socket),!e.socket&&e.checkMaxRetry())throw d.logDebug("tryRegistOpen => failed to open a socket",e.retryCount,e.socket),e.retryCount=0,e.state=o.ConnectorState.OnError,e.emitError(new Error("tryRegistOpen failed")),new u.OKXConnectError(u.OKX_CONNECT_ERROR_CODES.CONNECTION_ERROR,"Failed to connect")}()}))}connect(){return i(this,void 0,void 0,(function*(){try{yield this.tryRegistOpen(),document.removeEventListener("visibilitychange",this.onVisibleChanged.bind(this)),document.addEventListener("visibilitychange",this.onVisibleChanged.bind(this))}catch(wf){throw d.logDebug("connect => failed to connect",wf),wf}}))}disconnect(){return i(this,void 0,void 0,(function*(){return this.state=o.ConnectorState.Disconnected,new Promise(((e,t)=>{typeof this.socket>"u"?e():(this.socket.onclose=t=>{this.onClose(t),e()},this.socket.close(),this.heartbeatTimer&&clearTimeout(this.heartbeatTimer))}))}))}currentStatus(){return{state:this.state,url:this.url}}addListener(e,t,n,r){this.listenPayloadHandler&&this.events.removeListener("payload",this.listenPayloadHandler),this.listenPayloadHandler=i=>{var o;d.logDebug(`<<< get payload ${i}`);let a=(0,s.safeJsonParse)(i);if(a.params&&a.params.data){let i=null===(o=a.params.data)||void 0===o?void 0:o.message;if(i)try{let o=t(i);void 0===o?(d.logDebug("CONNECT: decrypt undefined"),r(e,"Decrypt undefined")):n(e,o)}catch(f){d.logDebug(`CONNECT: decrypt failed: ${f}`),r(e,f.message)}}},this.events.on("payload",this.listenPayloadHandler),this.failHandler&&this.events.removeListener("fail",this.failHandler),this.failHandler=t=>{t?(d.logDebug(`CONNECT failed: ${t}`),r(e,t.message)):r(e,"Unkonow error")},this.events.on("fail",this.failHandler)}addPackageParse(e){this.payloadHandler&&this.events.removeListener("payload",this.payloadHandler),this.payloadHandler=t=>i(this,void 0,void 0,(function*(){d.logDebug(`CONNECTION @[${(new Date).toUTCString()}] <<<< received e:${t}`);let n=(0,s.safeJsonParse)(t);yield e(n)})),this.events.on("payload",this.payloadHandler)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}send(e,t){return i(this,void 0,void 0,(function*(){typeof this.socket>"u"&&(d.logDebug(`>>> send payload undefined ${t}`),yield e());try{d.logDebug(`CONNECTION @[${(new Date).toUTCString()}]>>> send payload ${(0,s.safeJsonStringify)(t)}`),this.socket&&this.socket.send((0,s.safeJsonStringify)(t))}catch(n){this.onError(t.id,n)}}))}getMsgPayloadFromHistory(e){return i(this,void 0,void 0,(function*(){if(typeof e>"u")return;let t={params:{data:e}},n=(0,s.safeJsonStringify)(e);d.logDebug("get received data from history"),d.logDebug(n),n=(0,s.safeJsonStringify)(t),this.events.emit("payload",n)}))}onOpen(e){this.openHandler&&this.events.removeListener("open",this.openHandler),this.openHandler=()=>i(this,void 0,void 0,(function*(){d.logDebug(`CONNECTION @[${(new Date).toUTCString()}] >>> ws opened: `),yield e()})),this.events.on("open",this.openHandler),this.cacheSuccessUrlSelect()}}})),Yo=p((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CONNECT_METHOD_BATCH_FETCHMSG=e.CONNECT_METHOD_FETCHMSG=e.CONNECT_METHOD_RECEIVE=e.CONNECT_METHOD_UNSUB=e.CONNECT_METHOD_SUB=e.CONNECT_METHOD_PUBLISH=e.CONNECT_METHOD_LOGIN=e.CONNECT_METHOD_PUSH=void 0,e.CONNECT_METHOD_PUSH="push",e.CONNECT_METHOD_LOGIN="login",e.CONNECT_METHOD_PUBLISH="publish",e.CONNECT_METHOD_SUB="subscribe",e.CONNECT_METHOD_UNSUB="unsubscribe",e.CONNECT_METHOD_RECEIVE="receive",e.CONNECT_METHOD_FETCHMSG="fetchMessages",e.CONNECT_METHOD_BATCH_FETCHMSG="batchFetchMessages"})),Qo=p((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.OKXCONNECTOR_JWT_TTL=e.OKXCONNECTOR_JWT_WALLET_SIDE=e.OKXCONNECTOR_JWT_SIDE=void 0,e.OKXCONNECTOR_JWT_SIDE="wallet",e.OKXCONNECTOR_JWT_WALLET_SIDE="dapp",e.OKXCONNECTOR_JWT_TTL=864e5})),ea=p((e=>{var t=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.SessionCrypto=void 0;var n=t(P()),r=Vi();e.SessionCrypto=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;this.nonceLength=24,this.sessionKeyPair=e?this.createKeypairFromString(e):this.createKeypair()}createKeypair(){return n.default.box.keyPair()}createKeypairFromString(e){return{publicKey:(0,r.hexToByteArray)(e.publicKey),secretKey:(0,r.hexToByteArray)(e.secretKey)}}createNonce(){return n.default.randomBytes(this.nonceLength)}get keyPair(){return this.sessionKeyPair}encrypt(e,t){let i=(new TextEncoder).encode(e),o=this.createNonce(),a=n.default.box(i,o,(0,r.hexToByteArray)(t),this.keyPair.secretKey),f=(0,r.concatUint8Arrays)(o,a);var s=(0,r.toHexString)(f),c=(new TextEncoder).encode(s);return(0,r.base64encode)(c,!1)}encryptWallet(e,t){let i=(new TextEncoder).encode(e),o=this.createNonce(),a=n.default.box(i,o,(0,r.hexToByteArray)(t),this.keyPair.secretKey),f=(0,r.concatUint8Arrays)(o,a);return(0,r.base64encode)(f,!1)}decrypt(e,t){let i=(0,r.base64decode)(e,!0).toUint8Array(),[o,a]=(0,r.splitToUint8Arrays)(i,this.nonceLength),f=n.default.box.open(a,o,(0,r.hexToByteArray)(t),this.keyPair.secretKey);if(!f)throw new Error(`Decryption error: \n message: ${e.toString()} \n sender pubkey: ${t.toString()} \n keypair pubkey: ${(0,r.toHexString)(this.keyPair.publicKey)} \n keypair secretkey: ${(0,r.toHexString)(this.keyPair.secretKey)}`);return(new TextDecoder).decode(f)}decryptWallet(e,t){let i=(0,r.base64decode)(e,!0),o=(0,r.hexToByteArray)(i.toString()),[a,f]=(0,r.splitToUint8Arrays)(o,this.nonceLength),s=n.default.box.open(f,a,(0,r.hexToByteArray)(t),this.keyPair.secretKey);if(!s)throw new Error(`Decryption error: \n message: ${e.toString()} \n sender pubkey: ${t.toString()} \n keypair pubkey: ${(0,r.toHexString)(this.keyPair.publicKey)} \n keypair secretkey: ${(0,r.toHexString)(this.keyPair.secretKey)}`);return(new TextDecoder).decode(s)}stringifyKeypair(){return{publicKey:(0,r.toHexString)(this.keyPair.publicKey),secretKey:(0,r.toHexString)(this.keyPair.secretKey)}}}})),ta=p((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserRandomSource=void 0;e.BrowserRandomSource=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;let e=typeof self<"u"?self.crypto||self.msCrypto:null;e&&void 0!==e.getRandomValues&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");let t=new Uint8Array(e);for(let n=0;n<t.length;n+=65536)this._crypto.getRandomValues(t.subarray(n,n+Math.min(t.length-n,65536)));return t}}})),na=p((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeRandomSource=void 0;var t=un();e.NodeRandomSource=class{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof u<"u"){let e=A();e&&e.randomBytes&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let n=this._crypto.randomBytes(e);if(n.length!==e)throw new Error("NodeRandomSource: got fewer bytes than requested");let r=new Uint8Array(e);for(let t=0;t<r.length;t++)r[t]=n[t];return(0,t.wipe)(n),r}}})),ra=p((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SystemRandomSource=void 0;var t=ta(),n=na();e.SystemRandomSource=class{constructor(){return this.isAvailable=!1,this.name="",this._source=new t.BrowserRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Browser")):(this._source=new n.NodeRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Node")):void 0)}randomBytes(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(e)}}})),ia=p((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.randomStringForEntropy=e.randomString=e.randomUint32=e.randomBytes=e.defaultRandomSource=void 0;var t=ra(),n=dn(),r=un();function i(t){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.defaultRandomSource).randomBytes(t)}e.defaultRandomSource=new t.SystemRandomSource,e.randomBytes=i,e.randomUint32=function(){let t=i(4,arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.defaultRandomSource),o=(0,n.readUint32LE)(t);return(0,r.wipe)(t),o};var o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function a(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.defaultRandomSource;if(n.length<2)throw new Error("randomString charset is too short");if(n.length>256)throw new Error("randomString charset is too long");let f="",s=n.length,c=256-256%s;for(;t>0;){let e=i(Math.ceil(256*t/c),a);for(let r=0;r<e.length&&t>0;r++){let i=e[r];i<c&&(f+=n.charAt(i%s),t--)}(0,r.wipe)(e)}return f}e.randomString=a,e.randomStringForEntropy=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.defaultRandomSource;return a(Math.ceil(t/(Math.log(n.length)/Math.LN2)),n,r)}})),oa=p((e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=dn(),n=un();e.DIGEST_LENGTH=64,e.BLOCK_SIZE=128;var r=function(){function r(){this.digestLength=e.DIGEST_LENGTH,this.blockSize=e.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return r.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},r.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},r.prototype.clean=function(){n.wipe(this._buffer),n.wipe(this._tempHi),n.wipe(this._tempLo),this.reset()},r.prototype.update=function(t,n){if(void 0===n&&(n=t.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var r=0;if(this._bytesHashed+=n,this._bufferLength>0){for(;this._bufferLength<e.BLOCK_SIZE&&n>0;)this._buffer[this._bufferLength++]=t[r++],n--;this._bufferLength===this.blockSize&&(o(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(n>=this.blockSize&&(r=o(this._tempHi,this._tempLo,this._stateHi,this._stateLo,t,r,n),n%=this.blockSize);n>0;)this._buffer[this._bufferLength++]=t[r++],n--;return this},r.prototype.finish=function(e){if(!this._finished){var n=this._bytesHashed,r=this._bufferLength,i=n/536870912|0,a=n<<3,f=n%128<112?128:256;this._buffer[r]=128;for(var s=r+1;s<f-8;s++)this._buffer[s]=0;t.writeUint32BE(i,this._buffer,f-8),t.writeUint32BE(a,this._buffer,f-4),o(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,f),this._finished=!0}for(s=0;s<this.digestLength/8;s++)t.writeUint32BE(this._stateHi[s],e,8*s),t.writeUint32BE(this._stateLo[s],e,8*s+4);return this},r.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},r.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},r.prototype.restoreState=function(e){return this._stateHi.set(e.stateHi),this._stateLo.set(e.stateLo),this._bufferLength=e.bufferLength,e.buffer&&this._buffer.set(e.buffer),this._bytesHashed=e.bytesHashed,this._finished=!1,this},r.prototype.cleanSavedState=function(e){n.wipe(e.stateHi),n.wipe(e.stateLo),e.buffer&&n.wipe(e.buffer),e.bufferLength=0,e.bytesHashed=0},r}();e.SHA512=r;var i=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function o(e,n,r,o,a,f,s){for(var c,l,d,u,h,p,b,g,v=r[0],y=r[1],m=r[2],C=r[3],w=r[4],x=r[5],O=r[6],_=r[7],E=o[0],S=o[1],R=o[2],N=o[3],k=o[4],T=o[5],A=o[6],P=o[7];s>=128;){for(var D=0;D<16;D++){var I=8*D+f;e[D]=t.readUint32BE(a,I),n[D]=t.readUint32BE(a,I+4)}for(D=0;D<80;D++){var K,j,M=v,U=y,L=m,W=C,B=w,X=x,$=O,H=E,q=S,F=R,J=N,V=k,z=T,G=A;if(h=65535&(l=P),p=l>>>16,b=65535&(c=_),g=c>>>16,h+=65535&(l=(k>>>14|w<<18)^(k>>>18|w<<14)^(w>>>9|k<<23)),p+=l>>>16,b+=65535&(c=(w>>>14|k<<18)^(w>>>18|k<<14)^(k>>>9|w<<23)),g+=c>>>16,h+=65535&(l=k&T^~k&A),p+=l>>>16,b+=65535&(c=w&x^~w&O),g+=c>>>16,c=i[2*D],h+=65535&(l=i[2*D+1]),p+=l>>>16,b+=65535&c,g+=c>>>16,c=e[D%16],p+=(l=n[D%16])>>>16,b+=65535&c,g+=c>>>16,b+=(p+=(h+=65535&l)>>>16)>>>16,h=65535&(l=u=65535&h|p<<16),p=l>>>16,b=65535&(c=d=65535&b|(g+=b>>>16)<<16),g=c>>>16,h+=65535&(l=(E>>>28|v<<4)^(v>>>2|E<<30)^(v>>>7|E<<25)),p+=l>>>16,b+=65535&(c=(v>>>28|E<<4)^(E>>>2|v<<30)^(E>>>7|v<<25)),g+=c>>>16,p+=(l=E&S^E&R^S&R)>>>16,b+=65535&(c=v&y^v&m^y&m),g+=c>>>16,K=65535&(b+=(p+=(h+=65535&l)>>>16)>>>16)|(g+=b>>>16)<<16,j=65535&h|p<<16,h=65535&(l=J),p=l>>>16,b=65535&(c=W),g=c>>>16,p+=(l=u)>>>16,b+=65535&(c=d),g+=c>>>16,y=M,m=U,C=L,w=W=65535&(b+=(p+=(h+=65535&l)>>>16)>>>16)|(g+=b>>>16)<<16,x=B,O=X,_=$,v=K,S=H,R=q,N=F,k=J=65535&h|p<<16,T=V,A=z,P=G,E=j,D%16===15)for(I=0;I<16;I++)c=e[I],h=65535&(l=n[I]),p=l>>>16,b=65535&c,g=c>>>16,c=e[(I+9)%16],h+=65535&(l=n[(I+9)%16]),p+=l>>>16,b+=65535&c,g+=c>>>16,d=e[(I+1)%16],h+=65535&(l=((u=n[(I+1)%16])>>>1|d<<31)^(u>>>8|d<<24)^(u>>>7|d<<25)),p+=l>>>16,b+=65535&(c=(d>>>1|u<<31)^(d>>>8|u<<24)^d>>>7),g+=c>>>16,d=e[(I+14)%16],p+=(l=((u=n[(I+14)%16])>>>19|d<<13)^(d>>>29|u<<3)^(u>>>6|d<<26))>>>16,b+=65535&(c=(d>>>19|u<<13)^(u>>>29|d<<3)^d>>>6),g+=c>>>16,g+=(b+=(p+=(h+=65535&l)>>>16)>>>16)>>>16,e[I]=65535&b|g<<16,n[I]=65535&h|p<<16}h=65535&(l=E),p=l>>>16,b=65535&(c=v),g=c>>>16,c=r[0],p+=(l=o[0])>>>16,b+=65535&c,g+=c>>>16,g+=(b+=(p+=(h+=65535&l)>>>16)>>>16)>>>16,r[0]=v=65535&b|g<<16,o[0]=E=65535&h|p<<16,h=65535&(l=S),p=l>>>16,b=65535&(c=y),g=c>>>16,c=r[1],p+=(l=o[1])>>>16,b+=65535&c,g+=c>>>16,g+=(b+=(p+=(h+=65535&l)>>>16)>>>16)>>>16,r[1]=y=65535&b|g<<16,o[1]=S=65535&h|p<<16,h=65535&(l=R),p=l>>>16,b=65535&(c=m),g=c>>>16,c=r[2],p+=(l=o[2])>>>16,b+=65535&c,g+=c>>>16,g+=(b+=(p+=(h+=65535&l)>>>16)>>>16)>>>16,r[2]=m=65535&b|g<<16,o[2]=R=65535&h|p<<16,h=65535&(l=N),p=l>>>16,b=65535&(c=C),g=c>>>16,c=r[3],p+=(l=o[3])>>>16,b+=65535&c,g+=c>>>16,g+=(b+=(p+=(h+=65535&l)>>>16)>>>16)>>>16,r[3]=C=65535&b|g<<16,o[3]=N=65535&h|p<<16,h=65535&(l=k),p=l>>>16,b=65535&(c=w),g=c>>>16,c=r[4],p+=(l=o[4])>>>16,b+=65535&c,g+=c>>>16,g+=(b+=(p+=(h+=65535&l)>>>16)>>>16)>>>16,r[4]=w=65535&b|g<<16,o[4]=k=65535&h|p<<16,h=65535&(l=T),p=l>>>16,b=65535&(c=x),g=c>>>16,c=r[5],p+=(l=o[5])>>>16,b+=65535&c,g+=c>>>16,g+=(b+=(p+=(h+=65535&l)>>>16)>>>16)>>>16,r[5]=x=65535&b|g<<16,o[5]=T=65535&h|p<<16,h=65535&(l=A),p=l>>>16,b=65535&(c=O),g=c>>>16,c=r[6],p+=(l=o[6])>>>16,b+=65535&c,g+=c>>>16,g+=(b+=(p+=(h+=65535&l)>>>16)>>>16)>>>16,r[6]=O=65535&b|g<<16,o[6]=A=65535&h|p<<16,h=65535&(l=P),p=l>>>16,b=65535&(c=_),g=c>>>16,c=r[7],p+=(l=o[7])>>>16,b+=65535&c,g+=c>>>16,g+=(b+=(p+=(h+=65535&l)>>>16)>>>16)>>>16,r[7]=_=65535&b|g<<16,o[7]=P=65535&h|p<<16,f+=128,s-=128}return f}e.hash=function(e){var t=new r;t.update(e);var n=t.digest();return t.clean(),n}})),aa=p((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.convertSecretKeyToX25519=e.convertPublicKeyToX25519=e.verify=e.sign=e.extractPublicKeyFromSecretKey=e.generateKeyPair=e.generateKeyPairFromSeed=e.SEED_LENGTH=e.SECRET_KEY_LENGTH=e.PUBLIC_KEY_LENGTH=e.SIGNATURE_LENGTH=void 0;var t=ia(),n=oa(),r=un();function i(e){let t=new Float64Array(16);if(e)for(let n=0;n<e.length;n++)t[n]=e[n];return t}e.SIGNATURE_LENGTH=64,e.PUBLIC_KEY_LENGTH=32,e.SECRET_KEY_LENGTH=64,e.SEED_LENGTH=32,new Uint8Array(32)[0]=9;var o=i(),a=i([1]),f=i([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),s=i([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),c=i([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),l=i([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),d=i([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function u(e,t){for(let n=0;n<16;n++)e[n]=0|t[n]}function h(e){let t=1;for(let n=0;n<16;n++){let r=e[n]+t+65535;t=Math.floor(r/65536),e[n]=r-65536*t}e[0]+=t-1+37*(t-1)}function p(e,t,n){let r=~(n-1);for(let i=0;i<16;i++){let n=r&(e[i]^t[i]);e[i]^=n,t[i]^=n}}function b(e,t){let n=i(),r=i();for(let i=0;i<16;i++)r[i]=t[i];h(r),h(r),h(r);for(let i=0;i<2;i++){n[0]=r[0]-65517;for(let t=1;t<15;t++)n[t]=r[t]-65535-(n[t-1]>>16&1),n[t-1]&=65535;n[15]=r[15]-32767-(n[14]>>16&1);let e=n[15]>>16&1;n[14]&=65535,p(r,n,1-e)}for(let i=0;i<16;i++)e[2*i]=255&r[i],e[2*i+1]=r[i]>>8}function g(e,t){let n=0;for(let r=0;r<32;r++)n|=e[r]^t[r];return(1&n-1>>>8)-1}function v(e,t){let n=new Uint8Array(32),r=new Uint8Array(32);return b(n,e),b(r,t),g(n,r)}function y(e){let t=new Uint8Array(32);return b(t,e),1&t[0]}function m(e,t,n){for(let r=0;r<16;r++)e[r]=t[r]+n[r]}function C(e,t,n){for(let r=0;r<16;r++)e[r]=t[r]-n[r]}function w(e,t,n){let r,i,o=0,a=0,f=0,s=0,c=0,l=0,d=0,u=0,h=0,p=0,b=0,g=0,v=0,y=0,m=0,C=0,w=0,x=0,O=0,_=0,E=0,S=0,R=0,N=0,k=0,T=0,A=0,P=0,D=0,I=0,K=0,j=n[0],M=n[1],U=n[2],L=n[3],W=n[4],B=n[5],X=n[6],$=n[7],H=n[8],q=n[9],F=n[10],J=n[11],V=n[12],z=n[13],G=n[14],Z=n[15];r=t[0],o+=r*j,a+=r*M,f+=r*U,s+=r*L,c+=r*W,l+=r*B,d+=r*X,u+=r*$,h+=r*H,p+=r*q,b+=r*F,g+=r*J,v+=r*V,y+=r*z,m+=r*G,C+=r*Z,r=t[1],a+=r*j,f+=r*M,s+=r*U,c+=r*L,l+=r*W,d+=r*B,u+=r*X,h+=r*$,p+=r*H,b+=r*q,g+=r*F,v+=r*J,y+=r*V,m+=r*z,C+=r*G,w+=r*Z,r=t[2],f+=r*j,s+=r*M,c+=r*U,l+=r*L,d+=r*W,u+=r*B,h+=r*X,p+=r*$,b+=r*H,g+=r*q,v+=r*F,y+=r*J,m+=r*V,C+=r*z,w+=r*G,x+=r*Z,r=t[3],s+=r*j,c+=r*M,l+=r*U,d+=r*L,u+=r*W,h+=r*B,p+=r*X,b+=r*$,g+=r*H,v+=r*q,y+=r*F,m+=r*J,C+=r*V,w+=r*z,x+=r*G,O+=r*Z,r=t[4],c+=r*j,l+=r*M,d+=r*U,u+=r*L,h+=r*W,p+=r*B,b+=r*X,g+=r*$,v+=r*H,y+=r*q,m+=r*F,C+=r*J,w+=r*V,x+=r*z,O+=r*G,_+=r*Z,r=t[5],l+=r*j,d+=r*M,u+=r*U,h+=r*L,p+=r*W,b+=r*B,g+=r*X,v+=r*$,y+=r*H,m+=r*q,C+=r*F,w+=r*J,x+=r*V,O+=r*z,_+=r*G,E+=r*Z,r=t[6],d+=r*j,u+=r*M,h+=r*U,p+=r*L,b+=r*W,g+=r*B,v+=r*X,y+=r*$,m+=r*H,C+=r*q,w+=r*F,x+=r*J,O+=r*V,_+=r*z,E+=r*G,S+=r*Z,r=t[7],u+=r*j,h+=r*M,p+=r*U,b+=r*L,g+=r*W,v+=r*B,y+=r*X,m+=r*$,C+=r*H,w+=r*q,x+=r*F,O+=r*J,_+=r*V,E+=r*z,S+=r*G,R+=r*Z,r=t[8],h+=r*j,p+=r*M,b+=r*U,g+=r*L,v+=r*W,y+=r*B,m+=r*X,C+=r*$,w+=r*H,x+=r*q,O+=r*F,_+=r*J,E+=r*V,S+=r*z,R+=r*G,N+=r*Z,r=t[9],p+=r*j,b+=r*M,g+=r*U,v+=r*L,y+=r*W,m+=r*B,C+=r*X,w+=r*$,x+=r*H,O+=r*q,_+=r*F,E+=r*J,S+=r*V,R+=r*z,N+=r*G,k+=r*Z,r=t[10],b+=r*j,g+=r*M,v+=r*U,y+=r*L,m+=r*W,C+=r*B,w+=r*X,x+=r*$,O+=r*H,_+=r*q,E+=r*F,S+=r*J,R+=r*V,N+=r*z,k+=r*G,T+=r*Z,r=t[11],g+=r*j,v+=r*M,y+=r*U,m+=r*L,C+=r*W,w+=r*B,x+=r*X,O+=r*$,_+=r*H,E+=r*q,S+=r*F,R+=r*J,N+=r*V,k+=r*z,T+=r*G,A+=r*Z,r=t[12],v+=r*j,y+=r*M,m+=r*U,C+=r*L,w+=r*W,x+=r*B,O+=r*X,_+=r*$,E+=r*H,S+=r*q,R+=r*F,N+=r*J,k+=r*V,T+=r*z,A+=r*G,P+=r*Z,r=t[13],y+=r*j,m+=r*M,C+=r*U,w+=r*L,x+=r*W,O+=r*B,_+=r*X,E+=r*$,S+=r*H,R+=r*q,N+=r*F,k+=r*J,T+=r*V,A+=r*z,P+=r*G,D+=r*Z,r=t[14],m+=r*j,C+=r*M,w+=r*U,x+=r*L,O+=r*W,_+=r*B,E+=r*X,S+=r*$,R+=r*H,N+=r*q,k+=r*F,T+=r*J,A+=r*V,P+=r*z,D+=r*G,I+=r*Z,r=t[15],C+=r*j,w+=r*M,x+=r*U,O+=r*L,_+=r*W,E+=r*B,S+=r*X,R+=r*$,N+=r*H,k+=r*q,T+=r*F,A+=r*J,P+=r*V,D+=r*z,I+=r*G,K+=r*Z,o+=38*w,a+=38*x,f+=38*O,s+=38*_,c+=38*E,l+=38*S,d+=38*R,u+=38*N,h+=38*k,p+=38*T,b+=38*A,g+=38*P,v+=38*D,y+=38*I,m+=38*K,i=1,r=o+i+65535,i=Math.floor(r/65536),o=r-65536*i,r=a+i+65535,i=Math.floor(r/65536),a=r-65536*i,r=f+i+65535,i=Math.floor(r/65536),f=r-65536*i,r=s+i+65535,i=Math.floor(r/65536),s=r-65536*i,r=c+i+65535,i=Math.floor(r/65536),c=r-65536*i,r=l+i+65535,i=Math.floor(r/65536),l=r-65536*i,r=d+i+65535,i=Math.floor(r/65536),d=r-65536*i,r=u+i+65535,i=Math.floor(r/65536),u=r-65536*i,r=h+i+65535,i=Math.floor(r/65536),h=r-65536*i,r=p+i+65535,i=Math.floor(r/65536),p=r-65536*i,r=b+i+65535,i=Math.floor(r/65536),b=r-65536*i,r=g+i+65535,i=Math.floor(r/65536),g=r-65536*i,r=v+i+65535,i=Math.floor(r/65536),v=r-65536*i,r=y+i+65535,i=Math.floor(r/65536),y=r-65536*i,r=m+i+65535,i=Math.floor(r/65536),m=r-65536*i,r=C+i+65535,i=Math.floor(r/65536),C=r-65536*i,o+=i-1+37*(i-1),i=1,r=o+i+65535,i=Math.floor(r/65536),o=r-65536*i,r=a+i+65535,i=Math.floor(r/65536),a=r-65536*i,r=f+i+65535,i=Math.floor(r/65536),f=r-65536*i,r=s+i+65535,i=Math.floor(r/65536),s=r-65536*i,r=c+i+65535,i=Math.floor(r/65536),c=r-65536*i,r=l+i+65535,i=Math.floor(r/65536),l=r-65536*i,r=d+i+65535,i=Math.floor(r/65536),d=r-65536*i,r=u+i+65535,i=Math.floor(r/65536),u=r-65536*i,r=h+i+65535,i=Math.floor(r/65536),h=r-65536*i,r=p+i+65535,i=Math.floor(r/65536),p=r-65536*i,r=b+i+65535,i=Math.floor(r/65536),b=r-65536*i,r=g+i+65535,i=Math.floor(r/65536),g=r-65536*i,r=v+i+65535,i=Math.floor(r/65536),v=r-65536*i,r=y+i+65535,i=Math.floor(r/65536),y=r-65536*i,r=m+i+65535,i=Math.floor(r/65536),m=r-65536*i,r=C+i+65535,i=Math.floor(r/65536),C=r-65536*i,o+=i-1+37*(i-1),e[0]=o,e[1]=a,e[2]=f,e[3]=s,e[4]=c,e[5]=l,e[6]=d,e[7]=u,e[8]=h,e[9]=p,e[10]=b,e[11]=g,e[12]=v,e[13]=y,e[14]=m,e[15]=C}function x(e,t){w(e,t,t)}function O(e,t){let n,r=i();for(n=0;n<16;n++)r[n]=t[n];for(n=253;n>=0;n--)x(r,r),2!==n&&4!==n&&w(r,r,t);for(n=0;n<16;n++)e[n]=r[n]}function _(e,t){let n=i(),r=i(),o=i(),a=i(),f=i(),c=i(),l=i(),d=i(),u=i();C(n,e[1],e[0]),C(u,t[1],t[0]),w(n,n,u),m(r,e[0],e[1]),m(u,t[0],t[1]),w(r,r,u),w(o,e[3],t[3]),w(o,o,s),w(a,e[2],t[2]),m(a,a,a),C(f,r,n),C(c,a,o),m(l,a,o),m(d,r,n),w(e[0],f,c),w(e[1],d,l),w(e[2],l,c),w(e[3],f,d)}function E(e,t,n){for(let r=0;r<4;r++)p(e[r],t[r],n)}function S(e,t){let n=i(),r=i(),o=i();O(o,t[2]),w(n,t[0],o),w(r,t[1],o),b(e,r),e[31]^=y(n)<<7}function R(e,t,n){u(e[0],o),u(e[1],a),u(e[2],a),u(e[3],o);for(let r=255;r>=0;--r){let i=n[r/8|0]>>(7&r)&1;E(e,t,i),_(t,e),_(e,e),E(e,t,i)}}function N(e,t){let n=[i(),i(),i(),i()];u(n[0],c),u(n[1],l),u(n[2],a),w(n[3],c,l),R(e,n,t)}function k(t){if(t.length!==e.SEED_LENGTH)throw new Error(`ed25519: seed must be ${e.SEED_LENGTH} bytes`);let r=(0,n.hash)(t);r[0]&=248,r[31]&=127,r[31]|=64;let o=new Uint8Array(32),a=[i(),i(),i(),i()];N(a,r),S(o,a);let f=new Uint8Array(64);return f.set(t),f.set(o,32),{publicKey:o,secretKey:f}}e.generateKeyPairFromSeed=k,e.generateKeyPair=function(e){let n=(0,t.randomBytes)(32,e),i=k(n);return(0,r.wipe)(n),i},e.extractPublicKeyFromSecretKey=function(t){if(t.length!==e.SECRET_KEY_LENGTH)throw new Error(`ed25519: secret key must be ${e.SECRET_KEY_LENGTH} bytes`);return new Uint8Array(t.subarray(32))};var T=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function A(e,t){let n,r,i,o;for(r=63;r>=32;--r){for(n=0,i=r-32,o=r-12;i<o;++i)t[i]+=n-16*t[r]*T[i-(r-32)],n=Math.floor((t[i]+128)/256),t[i]-=256*n;t[i]+=n,t[r]=0}for(n=0,i=0;i<32;i++)t[i]+=n-(t[31]>>4)*T[i],n=t[i]>>8,t[i]&=255;for(i=0;i<32;i++)t[i]-=n*T[i];for(r=0;r<32;r++)t[r+1]+=t[r]>>8,e[r]=255&t[r]}function P(e){let t=new Float64Array(64);for(let n=0;n<64;n++)t[n]=e[n];for(let n=0;n<64;n++)e[n]=0;A(e,t)}function D(e,t){let n=i(),r=i(),s=i(),c=i(),l=i(),h=i(),p=i();return u(e[2],a),function(e,t){for(let n=0;n<16;n++)e[n]=t[2*n]+(t[2*n+1]<<8);e[15]&=32767}(e[1],t),x(s,e[1]),w(c,s,f),C(s,s,e[2]),m(c,e[2],c),x(l,c),x(h,l),w(p,h,l),w(n,p,s),w(n,n,c),function(e,t){let n,r=i();for(n=0;n<16;n++)r[n]=t[n];for(n=250;n>=0;n--)x(r,r),1!==n&&w(r,r,t);for(n=0;n<16;n++)e[n]=r[n]}(n,n),w(n,n,s),w(n,n,c),w(n,n,c),w(e[0],n,c),x(r,e[0]),w(r,r,c),v(r,s)&&w(e[0],e[0],d),x(r,e[0]),w(r,r,c),v(r,s)?-1:(y(e[0])===t[31]>>7&&C(e[0],o,e[0]),w(e[3],e[0],e[1]),0)}e.sign=function(e,t){let r=new Float64Array(64),o=[i(),i(),i(),i()],a=(0,n.hash)(e.subarray(0,32));a[0]&=248,a[31]&=127,a[31]|=64;let f=new Uint8Array(64);f.set(a.subarray(32),32);let s=new n.SHA512;s.update(f.subarray(32)),s.update(t);let c=s.digest();s.clean(),P(c),N(o,c),S(f,o),s.reset(),s.update(f.subarray(0,32)),s.update(e.subarray(32)),s.update(t);let l=s.digest();P(l);for(let n=0;n<32;n++)r[n]=c[n];for(let n=0;n<32;n++)for(let e=0;e<32;e++)r[n+e]+=l[n]*a[e];return A(f.subarray(32),r),f},e.verify=function(t,r,o){let a=new Uint8Array(32),f=[i(),i(),i(),i()],s=[i(),i(),i(),i()];if(o.length!==e.SIGNATURE_LENGTH)throw new Error(`ed25519: signature must be ${e.SIGNATURE_LENGTH} bytes`);if(D(s,t))return!1;let c=new n.SHA512;c.update(o.subarray(0,32)),c.update(t),c.update(r);let l=c.digest();return P(l),R(f,s,l),N(s,o.subarray(32)),_(f,s),S(a,f),!g(o,a)},e.convertPublicKeyToX25519=function(e){let t=[i(),i(),i(),i()];if(D(t,e))throw new Error("Ed25519: invalid public key");let n=i(),r=i(),o=t[1];m(n,a,o),C(r,a,o),O(r,r),w(n,n,r);let f=new Uint8Array(32);return b(f,n),f},e.convertSecretKeyToX25519=function(e){let t=(0,n.hash)(e.subarray(0,32));t[0]&=248,t[31]&=127,t[31]|=64;let i=new Uint8Array(t.subarray(0,32));return(0,r.wipe)(t),i}})),fa=p((e=>{var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=e&&e.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&t(r,e,i);return n(r,e),r},i=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(t){o(t)}}function f(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,f)}s((r=r.apply(e,t||[])).next())}))},o=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.MULTICODEC_ED25519_LENGTH=e.MULTICODEC_ED25519_HEADER=e.MULTICODEC_ED25519_BASE=e.MULTICODEC_ED25519_ENCODING=e.DID_METHOD=e.DID_PREFIX=e.DID_DELIMITER=e.KEY_PAIR_SEED_LENGTH=e.DATA_ENCODING=e.JSON_ENCODING=e.JWT_ENCODING=e.JWT_DELIMITER=e.JWT_IRIDIUM_TYP=e.JWT_IRIDIUM_ALG=e.JWTHeaderType=void 0,e.generateKeyPair=function(){return c.default.sign.keyPair()},e.decodeJSON=u,e.encodeJSON=h,e.encodeIss=p,e.decodeIss=b,e.encodeSig=g,e.decodeSig=v,e.encodeData=y,e.decodeData=function(t){var n,r;let i=(0,d.okxtoString)(t,e.DATA_ENCODING).split(e.JWT_DELIMITER),o=u(null!==(n=i[0])&&void 0!==n?n:"{}"),a=u(null!==(r=i[1])&&void 0!==r?r:"{}");return{header:o,payload:a}},e.encodeJWT=m,e.decodeJWT=C,e.signJWT=function(t,n,r,o){return i(this,arguments,void 0,(function(t,n,r,i){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Math.floor(Date.now());return function*(){let a={alg:e.JWT_IRIDIUM_ALG,typ:e.JWT_IRIDIUM_TYP},f={iss:p(i.publicKey),sub:t,aud:n,act:"authenticate user",iat:o,exp:o+r},s=y({header:a,payload:f});return l.logDebug(`get sec kp: ${i.secretKey} {${i.secretKey.length}}`),m({header:a,payload:f,signature:c.default.sign.detached(s,i.secretKey)})}()}))},e.verifyJWT=function(t){return i(this,void 0,void 0,(function*(){let{header:n,payload:r,data:i,signature:o}=C(t);if(n.alg!==e.JWT_IRIDIUM_ALG||n.typ!==e.JWT_IRIDIUM_TYP)throw new Error("JWT must use EdDSA algorithm");let f=b(r.iss);return a.verify(f,i,o)}))};var a=r(aa()),f=bn(),s=Vi(),c=o(P()),l=r(pn()),d=Ji();function u(t){return(0,f.safeJsonParse)((0,d.okxtoString)((0,d.okxfromString)(t,e.JWT_ENCODING),e.JSON_ENCODING))}function h(t){return(0,d.okxtoString)((0,d.okxfromString)((0,f.safeJsonStringify)(t),e.JSON_ENCODING),e.JWT_ENCODING)}function p(t){l.logDebug(`publicKey: ${(0,s.toHexString)(t)}`);var n=(0,d.okxtoString)(t,e.MULTICODEC_ED25519_ENCODING);return[e.DID_PREFIX,e.DID_METHOD,n].join(e.DID_DELIMITER)}function b(t){let[n,r,i]=t.split(e.DID_DELIMITER);if(n!==e.DID_PREFIX||r!==e.DID_METHOD)throw new Error('Issuer must be a DID with method "key"');if(void 0===i)throw new Error("multicodec is undefined");let o=(0,d.okxfromString)(i,e.MULTICODEC_ED25519_ENCODING);if(void 0===o||o.length!==e.MULTICODEC_ED25519_LENGTH)throw new Error("Issuer must be a public key with length 32 bytes");return o}function g(t){return(0,d.okxtoString)(t,e.JWT_ENCODING)}function v(t){return(0,d.okxfromString)(t,e.JWT_ENCODING)}function y(t){return(0,d.okxfromString)([h(t.header),h(t.payload)].join(e.JWT_DELIMITER),e.DATA_ENCODING)}function m(t){return[h(t.header),h(t.payload),g(t.signature)].join(e.JWT_DELIMITER)}function C(t){var n,r,i;let o=t.split(e.JWT_DELIMITER);return{header:u(null!==(n=o[0])&&void 0!==n?n:"{}"),payload:u(null!==(r=o[1])&&void 0!==r?r:"{}"),signature:v(null!==(i=o[2])&&void 0!==i?i:"{}"),data:(0,d.okxfromString)(o.slice(0,2).join(e.JWT_DELIMITER),e.DATA_ENCODING)}}e.JWTHeaderType="dapp",e.JWT_IRIDIUM_ALG="EdDSA",e.JWT_IRIDIUM_TYP="JWT",e.JWT_DELIMITER=".",e.JWT_ENCODING="base64url",e.JSON_ENCODING="utf8",e.DATA_ENCODING="utf8",e.KEY_PAIR_SEED_LENGTH=32,e.DID_DELIMITER=":",e.DID_PREFIX="did",e.DID_METHOD="key",e.MULTICODEC_ED25519_ENCODING="base58btc",e.MULTICODEC_ED25519_BASE="z",e.MULTICODEC_ED25519_HEADER="K36",e.MULTICODEC_ED25519_LENGTH=32})),sa=p((e=>{var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=e&&e.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&t(r,e,i);return n(r,e),r},i=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(t){o(t)}}function f(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,f)}s((r=r.apply(e,t||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.ConnectionManager=void 0;var o=Zo(),a=Yo(),f=T(),s=Qo(),c=k(),l=m(),d=Go(),u=Vi(),h=ea(),p=fa(),b=bn(),g=r(pn()),v=pn(),y=uo();e.ConnectionManager=class{constructor(){this.events=new l.EventEmitter,this.connectStorage=new d.Storage(f.OKXCONNECTOR_CACHE_KEY_DAPP),this.crypto=new h.SessionCrypto;let e=(0,y.isInTMA)();if((0,v.logDebug)("do init:",e),e){let e=this.getCachedCryptoKeyPair();(0,v.logDebug)("use same pk:",e),this.crypto=new h.SessionCrypto(e)}this.jwtKeyPair=this.getCachedJWTKeyPair(),this.saveJWTKeyPair(this.jwtKeyPair),this.connector=new o.OKXWalletConnector(c.OKXCONNECTOR_WS_URL_1),this.packageId=Date.now(),this.connectedWalletPK="",this.currentTopic="",g.logDebug(`this.connectedWalletPK  constructor   ${this.connectedWalletPK}`)}refreshPackageId(){this.packageId=Date.now()}saveCryptoKeyPair(e){let t=(0,b.safeJsonStringify)(e);this.connectStorage.encryptStoreMsg(t,f.OKXCONNECTOR_CRYPTO_KEY)}getCachedCryptoKeyPair(){let e=this.connectStorage.getAndDecrypt(f.OKXCONNECTOR_CRYPTO_KEY);return"string"==typeof e?(g.logDebug("get cached crypto key:"),g.logDebug(e),(0,b.safeJsonParse)(e)):(this.connectStorage.clearCache(),null)}saveJWTKeyPair(e){var t={publicKey:(0,u.toHexString)(e.publicKey),secretKey:(0,u.toHexString)(e.secretKey)};g.logDebug("save jwt kp");let n=(0,b.safeJsonStringify)(t);g.logDebug(n),this.connectStorage.encryptStoreMsg(n,f.OKXCONNECTOR_JWT_KEY)}getCachedJWTKeyPair(){let e=this.connectStorage.getAndDecrypt(f.OKXCONNECTOR_JWT_KEY);if("string"==typeof e){g.logDebug("get cached jwt kp:"),g.logDebug(e);let t=(0,b.safeJsonParse)(e);return g.logDebug("save jwt kp"),g.logDebug(t),{publicKey:(0,u.hexToByteArray)(t.publicKey),secretKey:(0,u.hexToByteArray)(t.secretKey)}}return(0,p.generateKeyPair)()}isWalletPKReady(){return g.logDebug(`isWalletPKReady  ===> ${this.connectedWalletPK}`),this.connectedWalletPK.length>0}makeJWT(e){return i(this,void 0,void 0,(function*(){return yield(0,p.signJWT)(e,s.OKXCONNECTOR_JWT_SIDE,s.OKXCONNECTOR_JWT_TTL,this.jwtKeyPair)}))}parsePackage(e){return i(this,arguments,void 0,(function(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function*(){var r,i,o,a,s;if(t.events.emit(e.id,e),!n){yield t.sendACK(e.id,!0);let n=null===(r=t.connectStorage.getItem(f.OKXCONNECTOR_TOKEN_CACHE))||void 0===r?void 0:r.content;if(n){let r=e;null!==(o=null===(i=r.params)||void 0===i?void 0:i.data)&&void 0!==o&&o.messageId&&(t.refreshPackageId(),yield t.sendReceive(t.packageId.toString(),null===(s=null===(a=r.params)||void 0===a?void 0:a.data)||void 0===s?void 0:s.messageId,n))}}}()}))}restoreConnect(e){return i(this,void 0,void 0,(function*(){if(g.logDebug(`connectionManager  restoreConenct   ${e}`),"string"!=typeof e||0===e.length)throw new Error("CONNECTION: invalid topic");g.logDebug("connectionManager  restoreConenct   disconnect"),yield this.disconnect(!0),this.connectStorage.saveContent(e,f.OKXCONNECTOR_TOKEN_CACHE),g.logDebug("connectionManager  restoreConenct   conect"),yield this.connect(!0)}))}getConnectInfo(){var e=(0,u.generateTopic)();return g.logDebug(`generate topic token: ${e}`),this.currentTopic=e,{channelId:e,clientId:this.crypto.stringifyKeypair().publicKey}}connect(){return i(this,arguments,void 0,(function(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function*(){e.timeLog=(new Date).getTime(),(0,v.logDebug)("ConnectTime---enter->",e.timeLog);let n=e.connectStorage.getItem(f.OKXCONNECTOR_TOKEN_CACHE);var r=e.currentTopic;if(g.logDebug(`generate topic token: ${r}`),t){typeof n<"u"&&null!==n&&(g.logDebug(`read last connect id: ${n}`),r=n.content);var o=e.connectStorage.getItem(f.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE);o&&(e.connectedWalletPK=o.content,(0,v.logDebug)(`connectionManager connect() this.connectedWalletPK : ${e.connectedWalletPK}`))}if(t){let t=e.getCachedCryptoKeyPair();t&&(e.crypto=new h.SessionCrypto(t))}g.logDebug(`use crypto client id: ${e.crypto.stringifyKeypair().publicKey}`),e.connectStorage.saveContent(r,f.OKXCONNECTOR_TOKEN_CACHE);var s=yield e.makeJWT(r);return g.logDebug(`generate jwt token: ${s}`),e.connectStorage.saveContent(s,"jwt"),new Promise(((t,n)=>{e.connector.onOpen((()=>i(e,void 0,void 0,(function*(){g.logDebug("1. connector on open");let e=(new Date).getTime();(0,v.logDebug)("ConnectTime---open->",e-this.timeLog),this.events.once(this.packageId.toString(),(e=>i(this,void 0,void 0,(function*(){if(e&&e.error){g.logError("failed when login"),yield this.connector.disconnect();var o=new Error;o.message=e.error.message,o.name=e.error.code.toString(),n(o)}this.refreshPackageId(),this.events.once(this.packageId.toString(),(e=>i(this,void 0,void 0,(function*(){if(e&&e.error){g.logError("failed when subscribe"),yield this.connector.disconnect();var i=new Error;i.message=e.error.message,i.name=e.error.code.toString(),n(i)}this.refreshPackageId(),g.logDebug(`4. subscribe callback then send fetch: ${this.packageId}`);let o=(new Date).getTime();(0,v.logDebug)("ConnectTime--subscribe callback->",o-this.timeLog),yield this.sendFetchAndConsumeMessages(this.packageId.toString(),r),t()})))),g.logDebug(`3. login callback then send subscribe: ${this.packageId}`);let f=(new Date).getTime();(0,v.logDebug)("ConnectTime---login callback->",f-this.timeLog),yield this.connector.send((()=>i(this,void 0,void 0,(function*(){g.logDebug("CONNECT: reconnect before send"),yield this.connector.connect().catch((e=>{(0,v.logDebug)("ConnectionManager connect error",e),n(e)}))}))),{id:this.packageId.toString(),jsonrpc:c.CONNECT_JSONRPC_VER,method:a.CONNECT_METHOD_SUB,params:{topic:r}})})))),g.logDebug("2. login called"),yield this.connector.send((()=>i(this,void 0,void 0,(function*(){g.logDebug("CONNECT: reconnect before send"),yield this.connector.connect().catch((e=>{(0,v.logDebug)("ConnectionManager connect error",e),n(e)}))}))),{id:this.packageId.toString(),jsonrpc:c.CONNECT_JSONRPC_VER,method:a.CONNECT_METHOD_LOGIN,params:{token:s}}),this.connector.addPackageParse((e=>{var t;if(g.logDebug("connect: parse package"),g.logDebug(e),!("params"in e)||!("data"in e.params))return void this.parsePackage(e,!0);let n=null===(t=e.params.data)||void 0===t?void 0:t.message;if(typeof n<"u"){n=n.replace(/'/g,'"');let e=(0,b.safeJsonParse)(n);"string"!=typeof e&&"clientId"in e&&e.clientId&&e.clientId.length>0&&(this.connectedWalletPK=e.clientId,g.logDebug(`this.connectedWalletPK  addPackageParse   ${this.connectedWalletPK}`),this.connectStorage.saveContent(this.connectedWalletPK,f.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE),this.saveCryptoKeyPair(this.crypto.stringifyKeypair()))}this.parsePackage(e,e.method===a.CONNECT_METHOD_RECEIVE)}))})))),e.connector.connect().catch((e=>{(0,v.logDebug)("ConnectionManager connect error",e),n(e)}))}))}()}))}disconnect(){return i(this,arguments,void 0,(function(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function*(){yield e.connector.disconnect(),e.connectStorage.clearCache(f.OKXCONNECTOR_TOKEN_CACHE),t||(e.connectStorage.clearCache(f.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE),e.connectedWalletPK="",(0,v.logDebug)(`connectionManager disconnect() this.connectedWalletPK : ${e.connectedWalletPK}`))}()}))}addListener(e,t,n){this.connector.addListener((0,b.safeJsonStringify)(e),(e=>{if(e=e.replace(/'/g,'"'),g.logDebug(`addListener ===> ${e}`),typeof e<"u"){var t=(0,b.safeJsonParse)(e),n=t.message;t.clientId&&t.clientId.length>0&&(this.connectedWalletPK=t.clientId,this.connectStorage.saveContent(this.connectedWalletPK,f.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE),g.logDebug(`this.connectedWalletPK  addListener   ${this.connectedWalletPK}`),g.logDebug(`this.cryptoKey  addListener   ${(0,u.toHexString)(this.crypto.keyPair.publicKey)}`),this.saveCryptoKeyPair(this.crypto.stringifyKeypair()));var r=this.crypto.decrypt(n,this.connectedWalletPK);return g.logDebug(`addListener ===> ${r}`),r}}),t,n)}sendRaw(e){return i(this,void 0,void 0,(function*(){g.logDebug(`message send =====> ${e}`);let t=e;g.logDebug(`message send =====encrypt message.length>>>> ${t.length}`);let n=this.connectStorage.getItem(f.OKXCONNECTOR_TOKEN_CACHE);g.logDebug(`message send =====topic>>>> ${n?.content}`),this.refreshPackageId();let r={id:this.packageId.toString(),method:a.CONNECT_METHOD_PUBLISH,jsonrpc:c.CONNECT_JSONRPC_VER,params:{message:{topic:n?.content,message:t,ttl:c.OKXCONNECTOR_MESSAGE_TTL}}};return this.events.once(this.packageId.toString(),(e=>i(this,void 0,void 0,(function*(){e&&e.error?g.logError(`@${(new Date).toUTCString()} >>> failed when send msg`):e&&!e.error&&g.logDebug(`CONNECTION @[${(new Date).toUTCString()}] >>> send msg with id ${this.packageId} successed`)})))),yield this.connector.send((()=>i(this,void 0,void 0,(function*(){g.logDebug("CONNECT: reconnect before send"),yield this.connector.connect().catch((e=>{(0,v.logDebug)("ConnectionManager connect error",e)}))}))),r),this.packageId}))}send(e){return i(this,void 0,void 0,(function*(){if(g.logDebug(`message send =====> ${e}`),!this.isWalletPKReady())throw new Error("connection not finish");let t=this.crypto.encrypt(e,this.connectedWalletPK);g.logDebug(`message send =====encrypt message.length>>>> ${t.length}`);let n=this.connectStorage.getItem(f.OKXCONNECTOR_TOKEN_CACHE);g.logDebug(`message send =====topic>>>> ${n?.content}`),this.refreshPackageId();let r={id:this.packageId.toString(),method:a.CONNECT_METHOD_PUBLISH,jsonrpc:c.CONNECT_JSONRPC_VER,params:{message:{topic:n?.content,message:t,ttl:c.OKXCONNECTOR_MESSAGE_TTL}}};return this.events.once(this.packageId.toString(),(e=>i(this,void 0,void 0,(function*(){e&&e.error?g.logError(`@${(new Date).toUTCString()} >>> failed when send msg`):e&&!e.error&&g.logDebug(`CONNECTION @[${(new Date).toUTCString()}] >>> send msg with id ${this.packageId} successed`)})))),yield this.connector.send((()=>i(this,void 0,void 0,(function*(){g.logDebug("CONNECT: reconnect before send"),yield this.connector.connect().catch((e=>{(0,v.logDebug)("ConnectionManager connect error",e)}))}))),r),this.packageId}))}sendACK(e,t){return i(this,arguments,void 0,(function(e,t){var n=this;let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return function*(){if(!0===t){let t={id:e,jsonrpc:c.CONNECT_JSONRPC_VER,result:!0};yield n.connector.send((()=>i(n,void 0,void 0,(function*(){g.logDebug("CONNECT: reconnect before send"),yield this.connector.connect().catch((e=>{(0,v.logDebug)("ConnectionManager connect error",e)}))}))),t)}else if(r){let t={id:e,jsonrpc:c.CONNECT_JSONRPC_VER,error:{code:r.code,message:r.message}};yield n.connector.send((()=>i(n,void 0,void 0,(function*(){g.logDebug("CONNECT: reconnect before send"),yield this.connector.connect().catch((e=>{(0,v.logDebug)("ConnectionManager connect error",e)}))}))),t)}}()}))}sendReceive(e,t,n){return i(this,void 0,void 0,(function*(){let r={id:e,jsonrpc:c.CONNECT_JSONRPC_VER,method:a.CONNECT_METHOD_RECEIVE,params:{data:{messageId:t,topic:n}}};yield this.connector.send((()=>i(this,void 0,void 0,(function*(){g.logDebug("CONNECT: reconnect before send"),yield this.connector.connect().catch((e=>{(0,v.logDebug)("ConnectionManager connect error",e)}))}))),r)}))}sendConnectSessionInfo(e,t,n,r){return i(this,void 0,void 0,(function*(){}))}sendFetchAndConsumeMessages(e,t){return i(this,void 0,void 0,(function*(){this.events.once(e,(e=>i(this,void 0,void 0,(function*(){var n,r;if(e.result){var i=e.result.hasMore,o=e.result.data;if(o)for(let e=0;e<o.length;e++){let n=o[e];if(n&&n.topic==t){let e=n.messageId;yield this.connector.getMsgPayloadFromHistory(n),this.refreshPackageId(),yield this.sendReceive(this.packageId.toString(),e,t)}}i&&(this.refreshPackageId(),yield this.sendFetchAndConsumeMessages(this.packageId.toString(),t))}else g.logDebug(`CONNECT: get error rsp ${null===(n=e.error)||void 0===n?void 0:n.code} : ${null===(r=e.error)||void 0===r?void 0:r.message}`)})))),g.logDebug("5. send fetch more");let n=(new Date).getTime();(0,v.logDebug)("ConnectTime---5->",n-this.timeLog);let r={id:e,jsonrpc:c.CONNECT_JSONRPC_VER,method:a.CONNECT_METHOD_FETCHMSG,params:{data:{topic:t}}};yield this.connector.send((()=>i(this,void 0,void 0,(function*(){g.logDebug("CONNECT: reconnect before send"),yield this.connector.connect().catch((e=>{(0,v.logDebug)("ConnectionManager connect error",e)}))}))),r)}))}cleanCache(){return i(this,void 0,void 0,(function*(){this.connectStorage.clearCache()}))}saveSessionContent(e,t){t||this.connectStorage.clearCache(f.OKXCONNECTOR_SESSION_PREFIX_KEY+e);let n=(0,b.safeJsonStringify)(t);this.connectStorage.encryptStoreMsg(n,f.OKXCONNECTOR_SESSION_PREFIX_KEY+e)}getSessionContent(e){let t=this.connectStorage.getAndDecrypt(f.OKXCONNECTOR_SESSION_PREFIX_KEY+e);if(t)return(0,b.safeJsonParse)(t)}getCurrentConnectionReady(){return this.isWalletPKReady()}}})),ca=p((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.WalletConnectionManagerEvent=e.WalletConnectionManagerTopicInfoCacheKey=void 0,e.WalletConnectionManagerTopicInfoCacheKey="wcmtic",e.WalletConnectionManagerEvent={RECEIVE_REQUEST:"payload"}})),la=p((e=>{var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=e&&e.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&t(r,e,i);return n(r,e),r},i=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(t){o(t)}}function f(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,f)}s((r=r.apply(e,t||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.WalletConnectionManager=void 0;var o=Zo(),a=Yo(),f=T(),s=Qo(),c=k(),l=ca(),d=m(),u=Go(),h=Vi(),p=ea(),b=fa(),g=bn(),v=r(pn()),y=pn(),C=ho();e.WalletConnectionManager=class{constructor(){this.events=new d.EventEmitter,this.communicateEvents=new d.EventEmitter,v.logDebug("connect manager construct"),this.connectStorage=new u.Storage(f.OKXCONNECTOR_CACHE_KEY),this.jwtKeyPair=this.getCachedJWTKeyPair(),this.saveJWTKeyPair(this.jwtKeyPair),this.connector=new o.OKXWalletConnector(c.OKXCONNECTOR_WS_URL_1),this.packageId=Date.now(),this.sessionCryptoInfoMap=new Map,this.inLogin=!1,this.isLogined=!1}refreshPackageId(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.packageId=Date.now()+e}saveCryptoKeyPair(e,t){let n=(0,g.safeJsonStringify)(t);this.connectStorage.encryptStoreMsg(n,f.OKXCONNECTOR_CRYPTO_KEY+e)}getCachedCryptoKeyPair(e){let t=this.connectStorage.getAndDecrypt(f.OKXCONNECTOR_CRYPTO_KEY+e);return"string"==typeof t?(v.logDebug("get cached crypto key:"),v.logDebug(t),(0,g.safeJsonParse)(t)):(this.connectStorage.clearCache(),null)}saveJWTKeyPair(e){var t={publicKey:(0,h.toHexString)(e.publicKey),secretKey:(0,h.toHexString)(e.secretKey)};v.logDebug("save jwt kp");let n=(0,g.safeJsonStringify)(t);v.logDebug(n),this.connectStorage.encryptStoreMsg(n,f.OKXCONNECTOR_JWT_KEY),v.logDebug("after save jwt kp")}getCachedJWTKeyPair(){let e=this.connectStorage.getAndDecrypt(f.OKXCONNECTOR_JWT_KEY);if("string"==typeof e){v.logDebug("get cached jwt kp:"),v.logDebug(e);let t=(0,g.safeJsonParse)(e);return v.logDebug("save jwt kp"),v.logDebug(t),{publicKey:(0,h.hexToByteArray)(t.publicKey),secretKey:(0,h.hexToByteArray)(t.secretKey)}}return(0,b.generateKeyPair)()}isTopicPublicKeyExist(e){return v.logDebug(`isTopicPublicKeyExist  ===> ${e}`),this.sessionCryptoInfoMap.get(e)}makeJWT(e){return i(this,void 0,void 0,(function*(){return yield(0,b.signJWT)(e,s.OKXCONNECTOR_JWT_WALLET_SIDE,s.OKXCONNECTOR_JWT_TTL,this.jwtKeyPair)}))}parseInternalMsg(e){try{let t=(0,g.safeJsonParse)(e)["ivur-igbfft-ptjip"];if(t&&t.length>0)return(0,C.base64decode)(t,!0).toString()}catch(xf){v.logError("parse internal msg",xf)}}parsePackage(e,t){return i(this,arguments,void 0,(function(e,t){var n=this;let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function*(){var i,o,a,f,s,c,l,d,u,h,p;n.events.emit(t.id,t);let b=n.sessionCryptoInfoMap.get(e);if(v.logDebug("get sessionInfo for decrypt topic:",e),v.logDebug("get sessionInfo for decrypt:",t.id,e,b,n.sessionCryptoInfoMap),b&&t.params.data&&null!==(i=t.params.data)&&void 0!==i&&i.message)if(null!==(o=t.params.data)&&void 0!==o&&o.isInternalData){let e=null===(a=t.params.data)||void 0===a?void 0:a.message,r=null===(f=t.params.data)||void 0===f?void 0:f.topic,i=n.parseInternalMsg(e);(0,y.logDebug)("parse internal origin: ",i),i&&i.length>0&&n.communicateEvents.emit("origin",i,r)}else try{let r=null===(s=t.params.data)||void 0===s?void 0:s.message;if(r.trimStart().startsWith("{")){let t=(0,g.safeJsonParse)(r);t.method&&((0,y.logDebug)("<<< parse raw msg:",e,t),n.communicateEvents.emit(e,r))}else{let r=b.crypto.decryptWallet(null===(c=t.params.data)||void 0===c?void 0:c.message,b.dappPublicKey);(0,y.logDebug)("<<< receive msg:",e,r),n.communicateEvents.emit(e,r)}}catch{let r=b.crypto.decryptWallet(null===(l=t.params.data)||void 0===l?void 0:l.message,b.dappPublicKey);(0,y.logDebug)("<<< receive msg:",e,r),n.communicateEvents.emit(e,r)}if(!r&&(yield n.sendACK(t.id,!0),e)){let r=t;null!==(u=null===(d=r.params)||void 0===d?void 0:d.data)&&void 0!==u&&u.messageId&&(n.refreshPackageId(),yield n.sendReceive(n.packageId.toString(),null===(p=null===(h=r.params)||void 0===h?void 0:h.data)||void 0===p?void 0:p.messageId,e))}}()}))}recovrySessionInfoFromCache(){let e=this.connectStorage.getAndDecrypt(l.WalletConnectionManagerTopicInfoCacheKey);if(v.logDebug("get cached sessionInfos:",e),e){let t=(0,g.safeJsonParse)(e);for(let e in t){let n=t[e];v.logDebug("make topicItem:",n);let r={topic:e,crypto:new p.SessionCrypto({publicKey:n.cryptoKeyPair.publicKey,secretKey:n.cryptoKeyPair.secretKey}),dappPublicKey:n.dappPublicKey};this.sessionCryptoInfoMap.set(e,r)}}v.logDebug("get cached sessionInfos map:",this.sessionCryptoInfoMap)}syncCacheSessionInfo(){let e={};for(let[n,r]of this.sessionCryptoInfoMap)v.logDebug("for each Keys",n),r&&(e[n]={cryptoKeyPair:r.crypto.stringifyKeypair(),dappPublicKey:r.dappPublicKey});let t=(0,g.safeJsonStringify)(e);v.logDebug("sync cache sessionInfos:",t),this.connectStorage.encryptStoreMsg(t,l.WalletConnectionManagerTopicInfoCacheKey)}cacheSessionInfo(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=t.dappPublicKey,i=[];for(let[o,a]of this.sessionCryptoInfoMap)v.logDebug("for each Keys",o),a.dappPublicKey==r&&(v.logDebug("duplicated dapp public key:",o,r),i.push(o));for(let[o,a]of this.sessionCryptoInfoMap)i.includes(o)&&this.sessionCryptoInfoMap.delete(o);return v.logDebug("cleaned connect session cache:",this.sessionCryptoInfoMap),this.sessionCryptoInfoMap.set(e,t),v.logDebug("cache sessionInfo:",e,t,this.sessionCryptoInfoMap),n&&this.syncCacheSessionInfo(),i}appendTopic(e,t){return i(this,void 0,void 0,(function*(){return(0,y.logDebug)("4.1. get append Topic:",e),new Promise(((n,r)=>i(this,void 0,void 0,(function*(){if(!this.isLogined){var i=new Error;return i.message="connection is not logined",i.name="append error",void r(i)}let o={topic:e,crypto:new p.SessionCrypto,dappPublicKey:t},a=this.cacheSessionInfo(e,o,!1);yield this.subscribeTopics(Array.from([e])),this.refreshPackageId(),v.logDebug(`5. subscribe callback then fetch append message: ${this.packageId}, ${e}`);let f=(new Date).getTime();(0,y.logDebug)("Append --subscribe callback->",f-this.timeLog),n(a)}))))}))}confirmAppendingTopics(){this.syncCacheSessionInfo()}connect(){return i(this,void 0,void 0,(function*(){this.timeLog=(new Date).getTime(),(0,y.logDebug)("[Wallet] ConnectTime---enter->",this.timeLog);let e=Date.now().toString();var t=yield this.makeJWT(e);return v.logDebug(`generate jwt token: ${t}`),this.connectStorage.saveContent(t,"jwt"),this.recovrySessionInfoFromCache(),new Promise(((e,n)=>{this.inLogin=!0,this.connector.onOpen((()=>i(this,void 0,void 0,(function*(){v.logDebug("1. connector on open");let r=(new Date).getTime();(0,y.logDebug)("ConnectTime---open->",r-this.timeLog),this.events.once(this.packageId.toString(),(t=>i(this,void 0,void 0,(function*(){if(t&&t.error){v.logError("failed when login"),yield this.connector.disconnect();var r=new Error;r.message=t.error.message,r.name=t.error.code.toString(),n(r)}else this.isLogined=!0,e(),v.logDebug("3. subscribe cached topics",this.sessionCryptoInfoMap),this.sessionCryptoInfoMap.size>0&&(yield this.subscribeTopics(Array.from(this.sessionCryptoInfoMap.keys())))})))),v.logDebug("2. login called"),yield this.connector.send((()=>i(this,void 0,void 0,(function*(){v.logDebug("CONNECT: reconnect before send"),yield this.connector.connect().catch((e=>{(0,y.logDebug)("WalletConnectionManager connect error",e)}))}))),{id:this.packageId.toString(),jsonrpc:c.CONNECT_JSONRPC_VER,method:a.CONNECT_METHOD_LOGIN,params:{token:t}})})))),this.connector.connect().catch((e=>{(0,y.logDebug)("WalletConnectionManager connect error",e),n(e)})),this.connector.addPackageParse((e=>{var t,n;v.logDebug("connect: parse package"),v.logDebug(e),"params"in e&&"data"in e.params?null!==(t=e.params.data)&&void 0!==t&&t.topic&&this.parsePackage(null===(n=e.params.data)||void 0===n?void 0:n.topic,e,e.method===a.CONNECT_METHOD_RECEIVE):this.parsePackage("",e,!0)}))}))}))}getSessionPublicKey(e){if(this.isTopicPublicKeyExist(e)){let t=this.sessionCryptoInfoMap.get(e);if(t)return(0,h.toHexString)(t.crypto.keyPair.publicKey)}}getCurrentCachedTopicIdList(){return Array.from(this.sessionCryptoInfoMap.keys())}disconnect(){return i(this,arguments,void 0,(function(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function*(){yield e.connector.disconnect(),e.connectStorage.clearCache(f.OKXCONNECTOR_TOKEN_CACHE),t||e.connectStorage.clearCache(f.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE)}()}))}send(e,t){return i(this,arguments,void 0,(function(e,t){var n=this;let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function*(){var o,f;if(v.logDebug(`message send =====> ${t}`),!n.isTopicPublicKeyExist(e))throw new Error("connection not finish");let s=null===(o=n.sessionCryptoInfoMap.get(e))||void 0===o?void 0:o.dappPublicKey,l=null===(f=n.sessionCryptoInfoMap.get(e))||void 0===f?void 0:f.crypto;if(l&&s){let o={message:l.encryptWallet(t,s)};r&&(o.clientId=(0,h.toHexString)(l.keyPair.publicKey)),n.refreshPackageId();let f={id:n.packageId.toString(),method:a.CONNECT_METHOD_PUBLISH,jsonrpc:c.CONNECT_JSONRPC_VER,params:{message:{topic:e,message:(0,g.safeJsonStringify)(o),ttl:c.OKXCONNECTOR_MESSAGE_TTL}}};return n.events.once(n.packageId.toString(),(e=>i(n,void 0,void 0,(function*(){e&&e.error?v.logError(`@${(new Date).toUTCString()} >>> failed when send msg`):e&&!e.error&&v.logDebug(`CONNECTION @[${(new Date).toUTCString()}] >>> send msg with id ${this.packageId} successed`)})))),yield n.connector.send((()=>i(n,void 0,void 0,(function*(){v.logDebug("CONNECT: reconnect before send"),yield this.connector.connect().catch((e=>{(0,y.logDebug)("WalletConnectionManager connect error",e)}))}))),f),n.packageId}}()}))}sendACK(e,t){return i(this,arguments,void 0,(function(e,t){var n=this;let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return function*(){if(!0===t){let t={id:e,jsonrpc:c.CONNECT_JSONRPC_VER,result:!0};yield n.connector.send((()=>i(n,void 0,void 0,(function*(){v.logDebug("CONNECT: reconnect before send"),yield this.connector.connect().catch((e=>{(0,y.logDebug)("WalletConnectionManager connect error",e)}))}))),t)}else if(r){let t={id:e,jsonrpc:c.CONNECT_JSONRPC_VER,error:{code:r.code,message:r.message}};yield n.connector.send((()=>i(n,void 0,void 0,(function*(){v.logDebug("CONNECT: reconnect before send"),yield this.connector.connect().catch((e=>{(0,y.logDebug)("WalletConnectionManager connect error",e)}))}))),t)}}()}))}sendReceive(e,t,n){return i(this,void 0,void 0,(function*(){let r={id:e,jsonrpc:c.CONNECT_JSONRPC_VER,method:a.CONNECT_METHOD_RECEIVE,params:{data:{messageId:t,topic:n}}};yield this.connector.send((()=>i(this,void 0,void 0,(function*(){v.logDebug("CONNECT: reconnect before send"),yield this.connector.connect().catch((e=>{(0,y.logDebug)("WalletConnectionManager connect error",e)}))}))),r)}))}sendUnsubscribe(e){return i(this,void 0,void 0,(function*(){yield this.connector.send((()=>i(this,void 0,void 0,(function*(){v.logDebug("CONNECT: reconnect before send"),yield this.connector.connect().catch((e=>{(0,y.logDebug)("WalletConnectionManager connect error",e)}))}))),{id:this.packageId.toString(),jsonrpc:c.CONNECT_JSONRPC_VER,method:a.CONNECT_METHOD_UNSUB,params:{topic:e}}),this.sessionCryptoInfoMap.delete(e),this.syncCacheSessionInfo()}))}sendFetchAndConsumeMessages(e,t){return i(this,void 0,void 0,(function*(){this.events.once(e,(e=>i(this,void 0,void 0,(function*(){var n,r;if(e.result){var i=e.result.hasMore,o=e.result.data;if(o)for(let e=0;e<o.length;e++){let n=o[e];if(n&&n.topic==t){let e=n.messageId;yield this.connector.getMsgPayloadFromHistory(n),this.refreshPackageId(),yield this.sendReceive(this.packageId.toString(),e,t)}}i&&(this.refreshPackageId(),yield this.sendFetchAndConsumeMessages(this.packageId.toString(),t))}else v.logDebug(`CONNECT: get error rsp ${null===(n=e.error)||void 0===n?void 0:n.code} : ${null===(r=e.error)||void 0===r?void 0:r.message}`)})))),v.logDebug("5. send fetch more");let n=(new Date).getTime();(0,y.logDebug)("ConnectTime---5->",n-this.timeLog);let r={id:e,jsonrpc:c.CONNECT_JSONRPC_VER,method:a.CONNECT_METHOD_FETCHMSG,params:{data:{topic:t}}};yield this.connector.send((()=>i(this,void 0,void 0,(function*(){v.logDebug("CONNECT: reconnect before send"),yield this.connector.connect().catch((e=>{(0,y.logDebug)("WalletConnectionManager connect error",e)}))}))),r)}))}sendBatchFetchAndConsumeMessages(e,t){return i(this,void 0,void 0,(function*(){this.events.once(e,(e=>i(this,void 0,void 0,(function*(){var n,r;if(e.result){var i=e.result.hasMore,o=e.result.data;if(o)for(let e=0;e<o.length;e++){let t=o[e];if(t&&t.topic){let n=t.messageId;yield this.connector.getMsgPayloadFromHistory(t),this.refreshPackageId(e),yield this.sendReceive(this.packageId.toString(),n,t.topic)}}i&&(this.refreshPackageId(),yield this.sendBatchFetchAndConsumeMessages(this.packageId.toString(),t))}else v.logDebug(`CONNECT: get error rsp ${null===(n=e.error)||void 0===n?void 0:n.code} : ${null===(r=e.error)||void 0===r?void 0:r.message}`)})))),v.logDebug("5. send fetch more");let n=(new Date).getTime();(0,y.logDebug)("ConnectTime---5->",n-this.timeLog);let r={id:e,jsonrpc:c.CONNECT_JSONRPC_VER,method:a.CONNECT_METHOD_BATCH_FETCHMSG,params:{topics:t,withInternalData:!0}};yield this.connector.send((()=>i(this,void 0,void 0,(function*(){v.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}))),r)}))}cleanCache(){return i(this,void 0,void 0,(function*(){this.connectStorage.clearCache()}))}saveSessionContent(e,t){t||this.connectStorage.clearCache(f.OKXCONNECTOR_SESSION_PREFIX_KEY+e);let n=(0,g.safeJsonStringify)(t);this.connectStorage.encryptStoreMsg(n,f.OKXCONNECTOR_SESSION_PREFIX_KEY+e)}getSessionContent(e){let t=this.connectStorage.getAndDecrypt(f.OKXCONNECTOR_SESSION_PREFIX_KEY+e);if(t)return(0,g.safeJsonParse)(t)}subscribeTopics(e){return i(this,void 0,void 0,(function*(){(0,y.logDebug)("4. topicid list",e),this.refreshPackageId();let t=(new Date).getTime();return(0,y.logDebug)("ConnectTime--subscribe callback->",t-this.timeLog),new Promise(((t,n)=>i(this,void 0,void 0,(function*(){let n=0;for(let r=0;r<e.length;++r){let o=e[r];this.refreshPackageId(r),this.events.once(this.packageId.toString(),(a=>i(this,void 0,void 0,(function*(){if(a&&a.error){v.logError("failed when subscribe"),yield this.connector.disconnect();var i=new Error;i.message=a.error.message,i.name=a.error.code.toString(),n+=1,n==e.length&&t()}this.refreshPackageId(r);let f=(new Date).getTime();(0,y.logDebug)("ConnectTime--subscribe callback->",f-this.timeLog),n+=1,n==e.length&&(v.logDebug(`5. send fetch msg: ${this.packageId}, ${o}`),yield this.sendBatchFetchAndConsumeMessages(this.packageId.toString(),e),t())})))),v.logDebug(`3. login callback then send subscribe: ${this.packageId}, ${o}`);let f=(new Date).getTime();(0,y.logDebug)("ConnectTime---login callback->",f-this.timeLog),yield this.connector.send((()=>i(this,void 0,void 0,(function*(){v.logDebug("CONNECT: reconnect before send"),yield this.connector.connect().catch((e=>{(0,y.logDebug)("WalletConnectionManager connect error",e)}))}))),{id:this.packageId.toString(),jsonrpc:c.CONNECT_JSONRPC_VER,method:a.CONNECT_METHOD_SUB,params:{topic:o}})}}))))}))}}})),da=p((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.buildNameSpacesByConnectResponse=function(e){return n(e)},e.buildRequestAccountNameSpacesByConnectResponse=n;var t=pn();function n(e){let n={};(0,t.logDebug)("buildRequestAccountNameSpacesByConnectResponse start connectResponse>>",JSON.stringify(e));let r=e.payload.responses.find((e=>"requestAccounts"===e.name)),i=e.payload.responses.find((e=>"ton_addr"===e.name)),o=e.payload.responses.find((e=>"ton_proof"===e.name));if(i&&!r){(0,t.logDebug)("buildRequestAccountNameSpacesByConnectResponse adapt ton data >>");let e=i.address;e="ton:"+i.network+":"+e;let n={ton_addr:i};o&&(n.ton_proof=o),r={name:"requestAccounts",accounts:[{namespace:"ton",addresses:[e],methods:["ton_sendTransaction"],extra:{},data:n}]}}return(0,t.logDebug)("buildRequestAccountNameSpacesByConnectResponse end universalResponse>>>",JSON.stringify(r)),r.accounts.forEach((e=>{var r=[],i=[];e.addresses.forEach((e=>{var n=e.split(":");if((0,t.logDebug)("buildRequestAccountNameSpacesByConnectResponse addressArr>>",n.length),n.length>=3){let o=n.slice(0,2).join(":");r.push(o),i.push(e),(0,t.logDebug)("buildRequestAccountNameSpacesByConnectResponse chain:>>",o,"addressItem:",e)}})),e.data&&e.data.ton_addr&&(e.data.ton_addr.name="ton_addr"),e.data&&e.data.ton_proof&&(e.data.ton_proof.name="ton_proof"),n[e.namespace]={chains:r,accounts:i,methods:e.methods,extra:e.extra,payload:e.data},(0,t.logDebug)("buildRequestAccountNameSpacesByConnectResponse result>>",JSON.stringify(n))})),n}})),ua=p((e=>{var t=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(t){o(t)}}function f(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,f)}s((r=r.apply(e,t||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.Engine=void 0;var n=bn(),r=pn(),i=fo(),o=ho(),a=ho(),f=da(),s=uo();e.Engine=class{constructor(e){this.pendingRequests=new Map,this.disconnectListener=[],this.connectionManager=e,this.connectionManager.addListener("sdk_response",((e,t)=>{var i=(0,n.safeJsonParse)(t);(0,r.logDebug)(`Engine ==>> addListener ==> success ==> ${i}`),this.handleResponse(e,i)}),(function(){}))}addDisconnectListener(e){this.disconnectListener.push(e)}disconnect(){(0,r.logDebug)("Engine ==>> disconnect"),this.pendingRequests.clear()}getRequestId(){let e=Date.now().toString();return(0,r.logDebug)("Engine ==>> getRequestId ==>",e),e}bindRequestForPromise(e,t){this.pendingRequests.set(e,t)}send(e,i,o){return t(this,void 0,void 0,(function*(){(0,r.logDebug)("Engine ==>> send  request==>",JSON.stringify(e));let t=this.getRequestId();try{let o=yield this.connectionManager.send(JSON.stringify(Object.assign(Object.assign({},e),{requestId:t})));this.connectionManager.events.once(o.toString(),(e=>{var t;(0,r.logDebug)(`Engine ==> send => onAck => ${(0,n.safeJsonStringify)(e)}`),e&&e.result&&(null===(t=i.onAck)||void 0===t||t.call(i))})),i.resolve&&this.bindRequestForPromise(t,i.resolve)}catch(o){return Promise.reject(o)}}))}sendSession(e){return t(this,void 0,void 0,(function*(){(0,r.logDebug)("[Connect] sendSession called:",e);let t=this.getRequestId(),n={method:"session_info",params:{sessionInfo:e}};yield this.connectionManager.sendRaw(JSON.stringify(Object.assign(Object.assign({},n),{requestId:t})))}))}handleResponse(e,t){if((0,r.logDebug)(`Engine ==>> handleResponse_1  ======>response: ${(0,n.safeJsonStringify)(t)}`,e),"requestId"in t){(0,r.logDebug)("Engine ==>> handleResponse_2  ===> in response");let e=t.requestId,n=this.pendingRequests.get(e);n?((0,r.logDebug)("Engine ==>> handleResponse_3  ===> find resolve:",n),n(t),this.pendingRequests.delete(e)):((0,r.logDebug)("Engine ==>> handleResponse_3  ===> not find resolve:"),"disconnect"===t.method&&(this.disconnectListener.forEach((e=>e())),this.disconnectListener=[],this.disconnect()))}}restoreconnect(e,n){return t(this,void 0,void 0,(function*(){var t;yield null===(t=this.connectionManager)||void 0===t?void 0:t.restoreConnect(e.topic),n(e)}))}conect(e,n,f){return t(this,void 0,void 0,(function*(){var t,s;let c=this.connectionManager.getConnectInfo(),l=this.getRequestId(),d=null!==(t=n.openUniversalUrl)&&void 0!==t&&t,u={protocolVer:Number(i.tonConnectSdkVersion),topic:c.channelId,clientId:c.clientId,requestId:l,dAppInfo:n.dappInfo,requests:e},h=JSON.stringify(u),p=(new TextEncoder).encode(h),b=btoa(String.fromCharCode(...p)),g=`${i.standardDeeplink}?param=${b}`;(0,r.logDebug)("engine ==>> connect ==>>deeplinkUrl:",g);let v=(0,a.isIos)();(0,r.logDebug)(`engine ==>> connect ==>>isIOS: ${v}   openUniversalLink: ${d}`),v&&d&&((0,r.logDebug)("bridge-provider ==>> connect_3"),(0,o.openOKXDeeplinkWithFallback)(g)),yield null===(s=this.connectionManager)||void 0===s?void 0:s.disconnect(!1),this.bindRequestForPromise(l,(e=>{let t=this.onConnect(e,n,c.channelId);f(t,e)}));try{yield this.connectionManager.connect()}catch(y){throw(0,r.logDebug)("Engine conect error",y),y}return!v&&d&&((0,r.logDebug)("bridge-provider ==>> connect_4"),(0,o.openOKXDeeplinkWithFallback)(g)),{connectInfo:c,deeplinkUrl:(0,o.getUniversalLink)(g)}}))}onConnect(e,t,n){if("connect"==e.method){let r=(0,f.buildNameSpacesByConnectResponse)(e);if(r)return{topic:n,sessionConfig:t,namespaces:r}}return null}universalConnect(e,n,c){return t(this,void 0,void 0,(function*(){return new Promise(((l,d)=>t(this,void 0,void 0,(function*(){var t,u,h,p;try{(0,r.logDebug)("engine universalConnect request :",JSON.stringify(e)),(0,r.logDebug)("engine universalConnect sessionConfig :",JSON.stringify(n));let v=[],y=[];e.forEach((e=>{let t=e.name;t.startsWith("requestAccounts")?y.push(e):t.startsWith("ton")&&v.push(e)})),(0,r.logDebug)("engine universalConnect tonRequest :",JSON.stringify(v)),(0,r.logDebug)("engine universalConnect universalRequest :",JSON.stringify(y));let m=this.connectionManager.getConnectInfo(),C=this.getRequestId(),w=null!==(t=n.openUniversalUrl)&&void 0!==t&&t,x={protocolVer:Number(i.tonConnectSdkVersion),topic:m.channelId,clientId:m.clientId,requestId:C,dAppInfo:n.dappInfo,requests:y},O=(0,s.encodeConnectParams)(x);x.redirect=null!==(u=n?.redirect)&&void 0!==u?u:"none";let _={protocolVer:Number(i.tonConnectSdkVersion),topic:m.channelId,clientId:m.clientId,requestId:C,dAppInfo:n.dappInfo,requests:v,redirect:null!==(h=n?.redirect)&&void 0!==h?h:"none"},E=!1;v.length>0&&(E=!0);let S=E?_:x;(0,r.logDebug)("engine universalConnect ==>>defaultConnectRequest:",E,JSON.stringify(S));var b="";if(w){let e=(0,s.encodeConnectParams)(S);b=`${i.standardDeeplink}?param=${e}`}(0,r.logDebug)("engine universalConnect ==>>deeplinkUrl:",b);let R=(0,a.isIos)();R&&w&&((0,r.logDebug)(`engine universalConnect ==>>isIOS: ${R}   openUniversalLink: ${w}`),(0,o.openOKXDeeplinkWithFallback)(b)),yield null===(p=this.connectionManager)||void 0===p?void 0:p.disconnect(!1),this.bindRequestForPromise(C,(e=>{var t,o;try{let a=e;if("connect"==a.method){(0,r.logDebug)("engin  universalConnect success connectResponse:>>>",JSON.stringify(a));let e=(0,f.buildNameSpacesByConnectResponse)(a);if(!e)throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR);{let i={topic:m.channelId,sessionConfig:n,namespaces:e,wallet:Object.assign({},null===(t=a.payload)||void 0===t?void 0:t.wallet)};(0,r.logDebug)("engin  universalConnect success session:>>>",JSON.stringify(i)),l(i)}}else if("connect_error"==a.method&&null!==(o=a.payload)&&void 0!==o&&o.code)throw new i.OKXConnectError(a.payload.code)}catch(a){d(a)}}));try{yield this.connectionManager.connect()}catch(g){throw(0,r.logDebug)("Engine universalConnect error",g),g}if(!R&&w&&(0,o.openOKXDeeplinkWithFallback)(b),(0,r.logDebug)("engin  universalConnect ==>> connectInfoAndUrl:",c),this.sendSession(O),c){let e={connectRequest:x,redirect:n.redirect,tmaReturnUrl:n.tmaReturnUrl};E&&(e.tonConnectRequest=_),(0,r.logDebug)("universalConnect connectInfoAndUrl info :",JSON.stringify(e)),c(e)}}catch(v){(0,r.logDebug)("Engine universalConnect catch error",v),d(v)}}))))}))}}})),ha=p((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Storage=e.Engine=e.WalletConnectionManager=e.ConnectionManager=e.OKXWalletConnector=void 0;var t=Zo();Object.defineProperty(e,"OKXWalletConnector",{enumerable:!0,get:function(){return t.OKXWalletConnector}});var n=sa();Object.defineProperty(e,"ConnectionManager",{enumerable:!0,get:function(){return n.ConnectionManager}});var r=la();Object.defineProperty(e,"WalletConnectionManager",{enumerable:!0,get:function(){return r.WalletConnectionManager}});var i=ua();Object.defineProperty(e,"Engine",{enumerable:!0,get:function(){return i.Engine}});var o=Go();Object.defineProperty(e,"Storage",{enumerable:!0,get:function(){return o.Storage}})})),pa=p((e=>{var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var r in e)"default"!==r&&!Object.prototype.hasOwnProperty.call(n,r)&&t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(ha(),e),n(fo(),e),n(ho(),e)})),ba=p((e=>{var t=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(t){o(t)}}function f(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,f)}s((r=r.apply(e,t||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.JsonRpcProvider=void 0;var n=m(),r=x(),i=pa(),o=pa(),a=class extends r.IJSONRpcProvider{constructor(e){super(e),this.events=new n.EventEmitter,this.connected=!1,this.connecting=!1,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}connect(){return t(this,arguments,void 0,(function(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.connection;return function*(){yield e.open(t)}()}))}disconnect(){return t(this,void 0,void 0,(function*(){yield this.close()}))}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}request(e,n){return t(this,void 0,void 0,(function*(){return this.requestStrict((0,i.formatJsonRpcRequest)(e.method,e.params||[],(0,i.getBigIntRpcId)().toString()),n)}))}requestStrict(e,n){return t(this,void 0,void 0,(function*(){return new Promise(((r,a)=>t(this,void 0,void 0,(function*(){if(!this.connection.connected)try{yield this.open()}catch(t){a(t)}this.events.on(`${e.id}`,(e=>{(0,i.isJsonRpcError)(e)?a(e.error):r(e.result)}));try{(0,o.logDebug)("[RPC] >>> send request",e,n),yield this.connection.send(e,n)}catch(t){a(t)}}))))}))}setConnection(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.connection}onPayload(e){this.events.emit("payload",e),(0,i.isJsonRpcResponse)(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&3e3===e.code&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}open(){return t(this,arguments,void 0,(function(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.connection;return function*(){e.connection===t&&e.connection.connected||(e.connection.connected&&e.close(),"string"==typeof t&&(yield e.connection.open(t),t=e.connection),e.connection=e.setConnection(t),yield e.connection.open(),e.registerEventListeners(),e.events.emit("connect"))}()}))}close(){return t(this,void 0,void 0,(function*(){yield this.connection.close()}))}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",(e=>this.onPayload(e))),this.connection.on("close",(e=>this.onClose(e))),this.connection.on("error",(e=>this.events.emit("error",e))),this.connection.on("register_error",(e=>this.onClose())),this.hasRegisteredEventListeners=!0)}};e.JsonRpcProvider=a})),ga=p(((e,t)=>{var n,r=typeof self<"u"?self:e,i=function(){function e(){this.fetch=!1,this.DOMException=r.DOMException}return e.prototype=r,new e}();n=i,function(e){var t="URLSearchParams"in n,r="Symbol"in n&&"iterator"in Symbol,i="FileReader"in n&&"Blob"in n&&function(){try{return new Blob,!0}catch{return!1}}(),o="FormData"in n,a="ArrayBuffer"in n;if(a)var f=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=ArrayBuffer.isView||function(e){return e&&f.indexOf(Object.prototype.toString.call(e))>-1};function c(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function l(e){return"string"!=typeof e&&(e=String(e)),e}function d(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r&&(t[Symbol.iterator]=function(){return t}),t}function u(e){this.map={},e instanceof u?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function h(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function p(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function b(e){var t=new FileReader,n=p(t);return t.readAsArrayBuffer(e),n}function g(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(e){this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:i&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:o&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:t&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():a&&i&&function(e){return e&&DataView.prototype.isPrototypeOf(e)}(e)?(this._bodyArrayBuffer=g(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a&&(ArrayBuffer.prototype.isPrototypeOf(e)||s(e))?this._bodyArrayBuffer=g(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var e=h(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?h(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(b)}),this.text=function(){var e=h(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,n=p(t);return t.readAsText(e),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(C)}),this.json=function(){return this.text().then(JSON.parse)},this}u.prototype.append=function(e,t){e=c(e),t=l(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},u.prototype.delete=function(e){delete this.map[c(e)]},u.prototype.get=function(e){return e=c(e),this.has(e)?this.map[e]:null},u.prototype.has=function(e){return this.map.hasOwnProperty(c(e))},u.prototype.set=function(e,t){this.map[c(e)]=l(t)},u.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},u.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),d(e)},u.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),d(e)},u.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),d(e)},r&&(u.prototype[Symbol.iterator]=u.prototype.entries);var y=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function m(e,t){var n=(t=t||{}).body;if(e instanceof m){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new u(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,!n&&null!=e._bodyInit&&(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",(t.headers||!this.headers)&&(this.headers=new u(t.headers)),this.method=function(e){var t=e.toUpperCase();return y.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function C(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}})),t}function w(e){var t=new u;return e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}})),t}function x(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new u(t.headers),this.url=t.url||"",this._initBody(e)}m.prototype.clone=function(){return new m(this,{body:this._bodyInit})},v.call(m.prototype),v.call(x.prototype),x.prototype.clone=function(){return new x(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new u(this.headers),url:this.url})},x.error=function(){var e=new x(null,{status:0,statusText:""});return e.type="error",e};var O=[301,302,303,307,308];x.redirect=function(e,t){if(-1===O.indexOf(t))throw new RangeError("Invalid status code");return new x(null,{status:t,headers:{location:e}})},e.DOMException=n.DOMException;try{new e.DOMException}catch{e.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function _(t,n){return new Promise((function(r,o){var a=new m(t,n);if(a.signal&&a.signal.aborted)return o(new e.DOMException("Aborted","AbortError"));var f=new XMLHttpRequest;function s(){f.abort()}f.onload=function(){var e={status:f.status,statusText:f.statusText,headers:w(f.getAllResponseHeaders()||"")};e.url="responseURL"in f?f.responseURL:e.headers.get("X-Request-URL");var t="response"in f?f.response:f.responseText;r(new x(t,e))},f.onerror=function(){o(new TypeError("Network request failed"))},f.ontimeout=function(){o(new TypeError("Network request failed"))},f.onabort=function(){o(new e.DOMException("Aborted","AbortError"))},f.open(a.method,a.url,!0),"include"===a.credentials?f.withCredentials=!0:"omit"===a.credentials&&(f.withCredentials=!1),"responseType"in f&&i&&(f.responseType="blob"),a.headers.forEach((function(e,t){f.setRequestHeader(t,e)})),a.signal&&(a.signal.addEventListener("abort",s),f.onreadystatechange=function(){4===f.readyState&&a.signal.removeEventListener("abort",s)}),f.send(typeof a._bodyInit>"u"?null:a._bodyInit)}))}_.polyfill=!0,n.fetch||(n.fetch=_,n.Headers=u,n.Request=m,n.Response=x),e.Headers=u,e.Request=m,e.Response=x,e.fetch=_,Object.defineProperty(e,"__esModule",{value:!0})}({}),i.fetch.ponyfill=!0,delete i.fetch.polyfill;var o=i;(e=o.fetch).default=o.fetch,e.fetch=o.fetch,e.Headers=o.Headers,e.Request=o.Request,e.Response=o.Response,t.exports=e})),va=p((e=>{var t=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(t){o(t)}}function f(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,f)}s((r=r.apply(e,t||[])).next())}))},n=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.JsonRpcConnection=void 0;var r=m(),i=n(ga()),o=pa(),a=pa(),f={headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"};e.JsonRpcConnection=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.url=e,this.disableProviderPing=t,this.events=new r.EventEmitter,this.isAvailable=!1,this.registering=!1,!(0,a.isHttpUrl)(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=t}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}open(){return t(this,arguments,void 0,(function(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.url;return function*(){yield e.register(t)}()}))}close(){return t(this,void 0,void 0,(function*(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}))}send(e){return t(this,void 0,void 0,(function*(){this.isAvailable||(yield this.register());try{let t=(0,o.safeJsonStringify)(e),n=yield(yield(0,i.default)(this.url,Object.assign(Object.assign({},f),{body:t}))).json();this.onPayload({data:n})}catch(xf){this.onError(e.id,xf)}}))}register(){return t(this,arguments,void 0,(function(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.url;return function*(){if(!(0,a.isHttpUrl)(t))throw new Error(`Provided URL is not compatible with HTTP connection: ${t}`);if(e.registering)return new Promise(((t,n)=>{e.events.once("register_error",(e=>{n(e)})),e.events.once("open",(()=>{if(typeof e.isAvailable>"u")return n(new Error("HTTP connection is missing or invalid"));t()}))}));e.url=t,e.registering=!0;try{if(!e.disableProviderPing){let e=(0,o.safeJsonStringify)({id:1,jsonrpc:"2.0",method:"test",params:[]});yield(0,i.default)(t,Object.assign(Object.assign({},f),{body:e}))}e.onOpen()}catch(xf){let n=e.parseError(xf);throw e.events.emit("register_error",n),e.onClose(),n}}()}))}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;let t="string"==typeof e.data?(0,o.safeJsonParse)(e.data):e.data;this.events.emit("payload",t)}onError(e,t){let n=this.parseError(t),r=n.message||n.toString(),i=(0,a.formatJsonRpcError)(e,r);this.events.emit("payload",i)}parseError(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.url;return(0,a.parseConnectionError)(e,t,"HTTP")}}})),ya=p((e=>{var t=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(t){o(t)}}function f(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,f)}s((r=r.apply(e,t||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.Eip155Provider=void 0;var n=E(),r=N(),i=pa(),o=ba(),a=va(),f=class{constructor(e){this.name="eip155",this.namespace=e.namespace,this.events=(0,n.getGlobal)("events"),this.client=(0,n.getGlobal)("client"),this.chainId=parseInt(this.getDefaultChain()),this.httpProviders=this.createHttpProviders(),(0,i.logDebug)("eip155 constructor --opts.namespace--\x3e",e.namespace)}isRecord(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}isArray(e){return"object"==typeof e&&null!==e&&Array.isArray(e)}updateRequestParams(e){let t=e.params&&"object"==typeof e.params&&!Array.isArray(e.params);if("wallet_switchEthereumChain"===e.method){let n=e.chainId.split(":")[1],r=parseInt(n,10);if(isNaN(r))throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Invalid decimal number,  chainId: '${n}' `);if(e.params){if(!t)throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Request params error ,  method: '${e.method}' `);{let t=e.params;"chainId"in t||(t.chainId="0x"+r.toString(16),e.params=t)}}else e.params={chainId:"0x"+r.toString(16)}}else if("personal_sign"===e.method||"eth_signTypedData_v4"===e.method||"eth_sendTransaction"===e.method||"wallet_watchAsset"===e.method){if(!e.params)throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Request params is nil, method: '${e.method}'`);if(!this.isRecord(e.params))throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Invalid request params type, method: '${e.method}'`);{let t=e.params;if((0,i.logDebug)("eip155 updateRequestParams params>",JSON.stringify(t)),"chainId"in t){let n,r=e.chainId.split(":")[1],o=parseInt(r,10),a=String(t.chainId);if(a.startsWith(this.name)&&e.chainId===a)n=o;else if(a.startsWith("0x"))n=parseInt(a,16);else{if(isNaN(Number(a)))throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Invalid params.chainId format, method: '${e.method}'`);n=parseInt(a,10)}if(o!==n)throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Request params.chainId not equal chain,  method: '${e.method}' `)}}}}adaptArray(e){if("wallet_switchEthereumChain"===e.method||"wallet_addEthereumChain"===e.method||"wallet_watchAsset"===e.method||"eth_sendTransaction"===e.method){if(this.isArray(e.params)){let t=e.params;if(t){if(1!==t.length)throw t.length>1?new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params only Support one data,  method: '${e.method}' `):new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params is nil,  method: '${e.method}' `);{let t=e.params[0];this.isRecord(t)&&(e.params=t)}}}}else if("eth_signTypedData_v4"===e.method){if(this.isArray(e.params)){let t=e.params;if(t&&t.length>2)throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params only Support one data,  method: '${e.method}' `);if(t&&0===t.length)throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params is nil,  method: '${e.method}' `);let n={};if(t&&2===t.length){let t=e.params[0];if(!t||"string"!=typeof t)throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params address error , not string,  method: '${e.method}' `);{let r=!1;if(this.namespace.accounts.forEach((e=>{e.split(":")[2]===t&&(r=!0)})),(0,i.logDebug)("eip155 adaptArray eth_signTypedData_v4 >>>isEqual: ",r),!r)throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params address error, not equal,  method: '${e.method}' `);if(!this.isRecord(e.params[1]))throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params message data error,  method: '${e.method}' `);n=e.params[1]}}else if(t&&1===t.length){if(!this.isRecord(e.params[0]))throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params message data error,  method: '${e.method}' `);n=e.params[0]}try{let t=JSON.stringify(n);e.params={typedDataJson:t}}catch{throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params call JSON.stringify() failed,  method: '${e.method}' `)}}}else if("personal_sign"===e.method&&this.isArray(e.params)){if(e.params&&e.params.length>2)throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params error,  method: '${e.method}' `);if(e.params&&0===e.params.length)throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params is nil,  method: '${e.method}' `);let t=e.params[0],n=e.params[1];if(n&&"string"==typeof n){let t=!1;if(this.namespace.accounts.forEach((e=>{e.split(":")[2]===n&&(t=!0)})),(0,i.logDebug)("eip155 adaptArray personal_sign >>>isEqual: ",t),!t)throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params address error,  method: '${e.method}' `)}if(!t||"string"!=typeof t)throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params is error,  method: '${e.method}' `);e.params={message:t}}}showRequestModal(e){switch(e.method){case"eth_requestAccounts":case"eth_accounts":case"eth_chainId":default:return!1;case"eth_sendTransaction":case"eth_signTransaction":case"eth_sign":case"personal_sign":case"eth_signTypedData":case"wallet_addEthereumChain":case"wallet_watchAsset":case"eth_signTypedData_v4":return!0;case"wallet_switchEthereumChain":{this.adaptArray(e),this.updateRequestParams(e);let{parsedChainId:t,hexChainId:n}=this.getHexChainIdFromRequest(e);return!this.isChainApproved(t)}}return!1}request(e){return t(this,void 0,void 0,(function*(){switch(this.adaptArray(e),(0,i.logDebug)("eip155 request --args--string>",JSON.stringify(e)),this.updateRequestParams(e),(0,i.logDebug)("eip155 request --params--string>",JSON.stringify(e)),e.method){case"eth_requestAccounts":case"eth_accounts":return this.getAccounts();case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_switchEthereumChain":return yield this.handleSwitchChain(e);case"wallet_addEthereumChain":return this.addEthereumChain(e)}if(!this.namespace.methods.includes(e.method))return(0,i.logDebug)("[RPC] request begin"),yield this.getHttpProvider().request(e);try{let t=yield this.client.request(e);if((0,i.logDebug)("eip155 request --response----string>",JSON.stringify(t)),this.isRecord(t)&&"result"in t){let e=t.result;return!e||"string"!=typeof e||"true"!==e&&"false"!==e?t.result:((0,i.logDebug)("eip155 request --wallet_watchAsset>>>>","true"===e),"true"===e)}return t}catch(xf){throw(0,i.logDebug)(`eip155 request --response --error--string> e instanceof OKXConnectError ${xf instanceof i.OKXConnectError}`,JSON.stringify(xf)),xf}}))}addEthereumChain(e){return t(this,void 0,void 0,(function*(){let t=yield this.client.request(e);try{if("result"in t){let n=t.result;if(n){let t=n.split(":")[0],i=n.split(":")[1],o=t+":"+i;this.namespace;if(this.namespace.accounts.push(n),this.namespace.chains.push(o),this.isRecord(e.params)&&"rpcUrls"in e.params){let t=e.params.rpcUrls,n=t?t[0]:void 0;n&&(this.namespace.rpcMap?this.namespace.rpcMap[i]=n:this.namespace.rpcMap={[i]:n},this.setHttpProvider(i,n))}this.events.emit(r.PROVIDER_EVENTS.UPDATE_NAMESPACES,{eip155:this.namespace})}}else new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`the method ${e.method} request error`)}catch{throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`the method ${e.method} request  error`)}return null}))}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,t){if(this.chainId=parseInt(e),!this.httpProviders[e]){let r=t||(0,n.getRpcUrl)(`${this.name}:${e}`,this.namespace);r?this.setHttpProvider(e,r):(0,i.logError)(`No RPC url provided for chainId: ${e}`)}this.events.emit(r.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){let e=this.namespace.accounts;return(0,i.logDebug)("eip155 getAccounts ",e,this.chainId),e?[...new Set(e.filter((e=>e.split(":")[1]===this.chainId.toString())).map((e=>e.split(":")[2])))]:[]}getHexChainIdFromRequest(e){let t=e.params,n="0x0";t&&"chainId"in t&&(n=t.chainId),n=n.startsWith("0x")?n:`0x${n}`,(0,i.logDebug)("handleSwitchChain --\x3eargs ",e),(0,i.logDebug)("handleSwitchChain --\x3ehexChainId ",n);let r=parseInt(n,16);return(0,i.logDebug)("handleSwitchChain --\x3eparsedChainId ",r),{parsedChainId:r,hexChainId:n}}handleSwitchChain(e){return t(this,void 0,void 0,(function*(){let{parsedChainId:t,hexChainId:n}=this.getHexChainIdFromRequest(e);if(this.isChainApproved(t))this.setDefaultChain(`${t}`);else{let o=yield this.client.request({method:"wallet_switchEthereumChain",chainId:e.chainId,params:{chainId:n}});try{if("result"in o){let e=o.result;if(e){let n=e.split(":")[0]+":"+e.split(":")[1];this.namespace;this.namespace.accounts.push(e),this.namespace.chains.push(n),(0,i.logDebug)("handleSwitchChain --\x3ewallet_switchEthereumChain ",o),this.setDefaultChain(`${t}`),this.events.emit(r.PROVIDER_EVENTS.UPDATE_NAMESPACES,{eip155:this.namespace})}}else new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`the method ${e.method} request error`)}catch{throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`the method ${e.method} request  error`)}}return null}))}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}createHttpProvider(e,t){let r=t;if(r)return new o.JsonRpcProvider(new a.JsonRpcConnection(r,(0,n.getGlobal)("disableProviderPing")));(0,i.logError)(`No RPC url provided for chainId: ${e}`)}createHttpProviders(){let e={};return this.namespace.chains.forEach((t=>{let r=(0,n.getChainId)(t),o=(0,n.getRpcUrl)(t,this.namespace);(0,i.logDebug)("get parsed chain and rpc:",r,o);let a=this.createHttpProvider(r,o);a&&(e[r]=a)})),(0,i.logDebug)("get http providermap:",e),e}setHttpProvider(e,t){let n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}getHttpProvider(){let e=`${this.chainId}`,t=this.httpProviders[e];if((0,i.logDebug)("[RPC] get http provider:",e,t),typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}};e.Eip155Provider=f,e.default=f})),ma=p((e=>{var t=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(t){o(t)}}function f(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,f)}s((r=r.apply(e,t||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.SuiProvider=void 0;var n=N(),r=pa(),i=E(),o=va(),a=ba(),f=class{constructor(e){this.name=r.NameSpaceKeySui,this.namespace=e.namespace,this.events=(0,i.getGlobal)("events"),this.client=(0,i.getGlobal)("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}request(e){return t(this,void 0,void 0,(function*(){return(0,r.logDebug)("sui request --args--string>",JSON.stringify(e)),(0,r.logDebug)("sui provider namespace: ",this.namespace),this.namespace.methods.includes(e.method)?this.client.request(e):this.getHttpProvider().request(e)}))}requestAccounts(){return this.getAccounts()}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(n.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter((e=>e.split(":")[1]===this.chainId.toString())).map((e=>e.split(":")[2])))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach((t=>{let n=(0,i.getChainId)(t),r=(0,i.getRpcUrl)(t,this.namespace),o=this.createHttpProvider(n,r);o&&(e[n]=o)})),e}getHttpProvider(){let e=`${this.chainId}`,t=this.httpProviders[e];if((0,r.logDebug)("[RPC] get http provider:",e,t),typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let n=this.createHttpProvider(e,t);n&&((0,r.logDebug)("setHttpProvider",e,t),this.httpProviders[e]=n)}createHttpProvider(e,t){let n=t;if(n)return new a.JsonRpcProvider(new o.JsonRpcConnection(n,(0,i.getGlobal)("disableProviderPing")));(0,r.logError)(`No RPC url provided for chainId: ${e}`)}getPubkey(e){return this.getWalletAddress(e)}getWalletAddress(e){return e||(e=this.namespace.defaultChain,e?.startsWith("sui")||(e=`sui:${e}`)),this.namespace.accounts.filter((function(t){return t.split(":").length>2&&t.startsWith(e)})).map((function(e){return e.split(":")[2]}))[0]}showRequestModal(e){switch(e.method){case"sui_signMessage":case"sui_signPersonalMessage":case"sui_signTransactionBlock":case"sui_signAndExecuteTransactionBlock":return!0;default:return!1}return!1}};e.SuiProvider=f,e.default=f})),Ca=p((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getAccountsChains=function(e){let t=[];return e.forEach((e=>{let[n,r]=e.split(":");t.push(`${n}:${r}`)})),t},e.nameSpaceToConnectWalletNameSpace=function(e){var n=[];return e&&Object.keys(e).forEach((r=>{(r===t.NameSpaceKeyEip155||r===t.NameSpaceKeySOL||r===t.NameSpaceKeySui||r===t.NameSpaceKeyAptos||r==t.NameSpaceKeyBtc||r===t.NameSpaceKeyTON)&&e[r].chains&&n.push({namespace:r,chains:e[r].chains,params:e[r].params})})),n},e.fillParamsToSession=function(e,t,n,r){let i=(e,t)=>{Object.assign(e,t)},o=(e,t)=>{for(let n in t)t.hasOwnProperty(n)&&t[n].rpcMap&&(t[n].rpcMap&&(e[n].rpcMap||(e[n].rpcMap={}),i(e[n].rpcMap,t[n].rpcMap)),t[n].defaultChain&&void 0===e[n].defaultChain&&e[n].chains.some((e=>e.split(":")[1]===t[n].defaultChain))&&(e[n].defaultChain=t[n].defaultChain))};t&&o(e.namespaces,t),n&&o(e.namespaces,n),e.sessionConfig=r},e.isCaipNamespace=n,e.parseNamespaceKey=function(e){return n(e)?e.split(":")[0]:e};var t=pa();function n(e){return e.includes(":")}})),wa=p((e=>{var t=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(t){o(t)}}function f(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,f)}s((r=r.apply(e,t||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.SignClient=void 0;var n=pa(),r=Ca(),o=E(),a=class extends n.ISignClient{constructor(e){super(e),this.engine=new n.Engine(new n.ConnectionManager),this.connect=e=>t(this,void 0,void 0,(function*(){return new Promise(((t,i)=>{var o=[];(0,n.logDebug)("client connect params >>>",JSON.stringify(e));var a={name:"requestAccounts",requiredNamespaces:(0,r.nameSpaceToConnectWalletNameSpace)(e.namespaces),optionalNamespaces:(0,r.nameSpaceToConnectWalletNameSpace)(e.optionalNamespaces)};(0,n.logDebug)("client connect connectRequest >>>",JSON.stringify(o)),o.push(a),this.engine.universalConnect(o,Object.assign({dappInfo:this.metadata},e.sessionConfig),(e=>{if(e&&e.connectRequest){var t=(0,n.encodeConnectParams)(e.connectRequest);this.events.emit("display_uri",(0,n.getUniversalLink)((0,n.getAppWalletDeepLink)(t))),(0,n.logDebug)(`universalConect EngineConnectInfo  ${JSON.stringify(e)}`),this.events.emit("okx_engine_connect_params",e)}})).then((i=>{(0,r.fillParamsToSession)(i,e.namespaces,e.optionalNamespaces,this.sessionConfig),(0,n.logDebug)(`signClient: connect: session ${JSON.stringify(i)}`),t(i)})).catch((e=>{(0,n.logDebug)(`signClient: connect: catch ${JSON.stringify(e)}`),this.events.emit("connect_error",e),i(e)}))}))})),this.restoreconnect=e=>t(this,void 0,void 0,(function*(){return new Promise(((t,n)=>{this.engine.restoreconnect(e,(e=>{t(e)}))}))})),this.reject=e=>t(this,void 0,void 0,(function*(){})),this.request=e=>t(this,void 0,void 0,(function*(){return new Promise(((r,i)=>t(this,void 0,void 0,(function*(){var t,o;(0,n.logDebug)("clint request --params>>>> >",null===(t=this.sessionConfig)||void 0===t?void 0:t.openUniversalUrl,JSON.stringify(e));try{!(null===(o=this.sessionConfig)||void 0===o)&&o.openUniversalUrl&&(0,n.isIos)()&&this.openOKXWallet(),yield this.engine.send(e,{resolve:e=>{if(delete e.requestId,(0,n.logDebug)("clint request --response >",JSON.stringify(e)),"error"in e&&e.error){let t=e.error;i(new n.OKXConnectError(e.error.code,e.method+":"+t.message))}else r(e)},onAck:()=>{var e;!(0,n.isIos)()&&null!==(e=this.sessionConfig)&&void 0!==e&&e.openUniversalUrl&&this.openOKXWallet()}})}catch(a){i(a)}}))))})),this.disconnect=()=>t(this,void 0,void 0,(function*(){return new Promise(((e,t)=>{this.engine.send({method:"disconnect"},{onAck:()=>{e()}}).catch((e=>{i.log(`disconnect : ${JSON.stringify(e)}`),t(e)}))}))})),this.events=(0,o.getGlobal)("events"),this.metadata=e}openOKXWallet(){(0,n.logDebug)("bridge-provider ==>> connect_5"),(0,n.openOKXDeeplinkWithFallback)(n.standardDeeplink)}};e.SignClient=a})),xa=p((e=>{var t=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(t){o(t)}}function f(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,f)}s((r=r.apply(e,t||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.SolanaProvider=void 0;var n=N(),r=pa(),i=E(),o=va(),a=ba(),f=class{constructor(e,t){this.name="solana",this.namespace=e.namespace,this.events=(0,i.getGlobal)("events"),this.client=(0,i.getGlobal)("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders(),this.name=t}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return t(this,void 0,void 0,(function*(){return(0,r.logDebug)("solana request --args--string>",JSON.stringify(e)),(0,r.logDebug)("solana provider namespace: ",this.namespace),this.namespace.methods.includes(e.method)?this.client.request(e):this.getHttpProvider().request(e)}))}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(n.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter((e=>e.split(":")[1]===this.chainId.toString())).map((e=>e.split(":")[2])))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach((t=>{let n=(0,i.getChainId)(t),r=(0,i.getRpcUrl)(t,this.namespace),o=this.createHttpProvider(n,r);o&&(e[n]=o)})),e}getHttpProvider(){let e=`${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){let n=t;if(n)return new a.JsonRpcProvider(new o.JsonRpcConnection(n,(0,i.getGlobal)("disableProviderPing")));(0,r.logError)(`No RPC url provided for chainId: ${e}`)}getPubkey(e){return this.getWalletAddress(e)}getWalletAddress(e){return e||(e=this.namespace.defaultChain,e?.startsWith("solana")||(e=`solana:${e}`)),this.namespace.accounts.filter((function(t){return t.split(":").length>2&&t.startsWith(e)})).map((function(e){return e.split(":")[2]}))[0]}showRequestModal(e){return!0}};e.SolanaProvider=f,e.default=f})),Oa=p((e=>{var t=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(t){o(t)}}function f(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,f)}s((r=r.apply(e,t||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});var n=N(),r=pa(),i=E(),o=va(),a=ba();e.default=class{constructor(e,t){this.name=r.NameSpaceKeyBtc,this.namespace=e.namespace,this.events=(0,i.getGlobal)("events"),this.client=(0,i.getGlobal)("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders(),this.name=t}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return t(this,void 0,void 0,(function*(){return(0,r.logDebug)("btc request --args--string>",JSON.stringify(e)),(0,r.logDebug)("btc provider namespace: ",JSON.stringify(this.namespace)),this.namespace.methods.includes(e.method)?this.client.request(e):this.getHttpProvider().request(e)}))}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(n.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter((e=>e.split(":")[1]===this.chainId.toString())).map((e=>e.split(":")[2])))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach((t=>{let n=(0,i.getChainId)(t),r=(0,i.getRpcUrl)(t,this.namespace),o=this.createHttpProvider(n,r);o&&(e[n]=o)})),e}getHttpProvider(){let e=`${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){let n=t;if(n)return new a.JsonRpcProvider(new o.JsonRpcConnection(n,(0,i.getGlobal)("disableProviderPing")));(0,r.logError)(`No RPC url provided for chainId: ${e}`)}showRequestModal(e){return!0}}})),_a=p((e=>{var t=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(t){o(t)}}function f(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,f)}s((r=r.apply(e,t||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});var n=N(),r=pa(),i=E(),o=va(),a=ba();e.default=class{constructor(e,t){this.name="aptos",this.namespace=e.namespace,this.events=(0,i.getGlobal)("events"),this.client=(0,i.getGlobal)("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders(),this.name=t}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return t(this,void 0,void 0,(function*(){return(0,r.logDebug)("solana request --args--string>",JSON.stringify(e)),(0,r.logDebug)("solana provider namespace: ",this.namespace),this.namespace.methods.includes(e.method)?this.client.request(e):this.getHttpProvider().request(e)}))}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(n.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter((e=>e.split(":")[1]===this.chainId.toString())).map((e=>e.split(":")[2])))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach((t=>{let n=(0,i.getChainId)(t),r=(0,i.getRpcUrl)(t,this.namespace),o=this.createHttpProvider(n,r);o&&(e[n]=o)})),e}getHttpProvider(){let e=`${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){let n=t;if(n)return new a.JsonRpcProvider(new o.JsonRpcConnection(n,(0,i.getGlobal)("disableProviderPing")));(0,r.logError)(`No RPC url provided for chainId: ${e}`)}showRequestModal(e){return!0}}})),Ea=p((e=>{var t=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(t){o(t)}}function f(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,f)}s((r=r.apply(e,t||[])).next())}))},n=e&&e.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(e,"__esModule",{value:!0});var r=N(),i=pa(),o=E(),a=va(),f=ba();e.default=class{constructor(e){this.name=i.NameSpaceKeyTON,this.namespace=e.namespace,this.events=(0,o.getGlobal)("events"),this.client=(0,o.getGlobal)("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}isRecord(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}request(e){return t(this,void 0,void 0,(function*(){var t,r,o,a;if((0,i.logDebug)("TONProvider request --args--string>",JSON.stringify(e)),(0,i.logDebug)("TONProvider request provider namespace: ",this.namespace),this.namespace.methods.includes(e.method)){if(!e.params)throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"ton request params is nil");if(this.isRecord(e.params)){let f=e.params,{validUntil:s}=f,c=n(f,["validUntil"]),l=null===(r=null===(t=this.namespace.payload)||void 0===t?void 0:t.ton_addr)||void 0===r?void 0:r.address;"from"in c&&(l=c.from||(null===(a=null===(o=this.namespace.payload)||void 0===o?void 0:o.ton_addr)||void 0===a?void 0:a.address)),e.params.from=l,e.params.network=this.getDefaultChain(),e.params.valid_until=s;let d=yield this.client.request(e);if(this.isRecord(d)&&"result"in d){let e={boc:d.result.toString()};return(0,i.logDebug)("TONProvider request provider response: ",JSON.stringify(d)),(0,i.logDebug)("TONProvider request provider result: ",JSON.stringify(e)),e}throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"ton_send request response is nil")}throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"ton request params type add nil")}return this.getHttpProvider().request(e)}))}requestAccounts(){return this.getAccounts()}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(r.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){var e,t;let n=this.namespace.accounts;if((0,i.logDebug)("ton getAccounts accounts :",n),(0,i.logDebug)("ton getAccounts .namespace :",JSON.stringify(this.namespace)),!n)return[];let r=null===(t=null===(e=this.namespace.payload)||void 0===e?void 0:e.ton_addr)||void 0===t?void 0:t.address;return(0,i.logDebug)("ton getAccounts address :",r),r?[r]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach((t=>{let n=(0,o.getChainId)(t),r=(0,o.getRpcUrl)(t,this.namespace),i=this.createHttpProvider(n,r);i&&(e[n]=i)})),e}getHttpProvider(){let e=`${this.chainId}`,t=this.httpProviders[e];if((0,i.logDebug)("[RPC] get http provider:",e,t),typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let n=this.createHttpProvider(e,t);n&&((0,i.logDebug)("setHttpProvider",e,t),this.httpProviders[e]=n)}createHttpProvider(e,t){let n=t;if(n)return new f.JsonRpcProvider(new a.JsonRpcConnection(n,(0,o.getGlobal)("disableProviderPing")));(0,i.logError)(`No RPC url provided for chainId: ${e}`)}showRequestModal(e){return"ton_sendTransaction"===e.method}}})),Sa=p((e=>{var t=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(t){o(t)}}function f(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,f)}s((r=r.apply(e,t||[])).next())}))},n=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.OKXUniversalProvider=void 0;var r=E(),i=ya(),o=ma(),a=N(),f=n(m()),s=wa(),c=pa(),l=Ca(),d=n(xa()),u=n(Oa()),h=n(_a()),p=n(Ea()),b=class e{static init(n){return t(this,void 0,void 0,(function*(){let t=new e(n);return yield t.initialize(),t}))}getUniversalProvider(){return this}constructor(e){this.rpcProviders={},this.events=new f.default,this.providerOpts=e}request(e,n){return t(this,void 0,void 0,(function*(){if(!this.connected())throw new c.OKXConnectError(c.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR);let{namespace:t,requestParam:r}=this.buildRequestParamFromRequest(e,n);return yield this.getProvider(t).request(r)}))}buildRequestParamFromRequest(e,t){(0,c.logDebug)("UniversalProvider request args >>>: ",t,JSON.stringify(e));let[n,r]=this.validateChain(t);if(!this.session)throw new c.OKXConnectError(c.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Please call connect() before request()");let i=Object.keys(this.session.namespaces);if(!t&&i&&i.length>1)throw new c.OKXConnectError(c.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,"Multiple chains have been linked, the request method requires chain");return(0,c.logDebug)("UniversalProvider request >>args>>>: ",e),{namespace:n,requestParam:Object.assign(Object.assign({},e),{chainId:`${n}:${r}`})}}enable(){return t(this,void 0,void 0,(function*(){if(!this.client)throw new c.OKXConnectError(c.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Sign Client not initialized");if(!this.session){if(!this.connectOpts)throw new c.OKXConnectError(c.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Sign Client not initialized");yield this.connect(this.connectOpts)}return yield this.requestAccounts()}))}disconnect(){return t(this,void 0,void 0,(function*(){if(!this.session)throw new c.OKXConnectError(c.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR);return new Promise((e=>t(this,void 0,void 0,(function*(){let n=!1,r=()=>t(this,void 0,void 0,(function*(){n||(n=!0,yield this.disconnectAndEmit(),yield this.cleanup(),e(),(0,c.logDebug)("UniversalProvider disconnect Disconnected"))}));try{yield this.client.disconnect(),yield r()}catch{yield r()}}))))}))}disconnectAndEmit(){var e,t;this.client.engine.connectionManager.disconnect(),this.events.emit("disconnect",{topic:null===(e=this.session)||void 0===e?void 0:e.topic}),this.events.emit("session_delete",{topic:null===(t=this.session)||void 0===t?void 0:t.topic})}aptosChainNameToGeneralId(e){return"aptos:mainnet"==e?"aptos:637":"movement:testnet"==e?"aptos:70000060":e}replaceAptos(e){var t,n;let r=null===(t=e.namespaces)||void 0===t?void 0:t.aptos;if(null!=r){let t=this.replaceAptosInner(r);null!=e.namespaces&&"aptos"in e.namespaces&&null!=t&&(e.namespaces.aptos=t)}let i=null===(n=e.optionalNamespaces)||void 0===n?void 0:n.aptos;if(null!=i){let t=this.replaceAptosInner(i);null!=e.optionalNamespaces&&"aptos"in e.optionalNamespaces&&null!=t&&(e.optionalNamespaces.aptos=t)}return e}replaceAptosInner(e){var t;return null!=e&&(e.chains=null===(t=e.chains)||void 0===t?void 0:t.map((e=>this.aptosChainNameToGeneralId(e))),null!=e.defaultChain&&(e.defaultChain=this.aptosChainNameToGeneralId(e.defaultChain))),e}connected(){let e=()=>{try{this.cleanup(),this.client.engine.connectionManager.disconnect()}catch(xf){(0,c.logDebug)("Error during disconnect:",xf)}};try{return!!this.session&&(!!this.client.engine.connectionManager.getCurrentConnectionReady()||(e(),!1))}catch{return e(),!1}}connect(e){return t(this,void 0,void 0,(function*(){if(!this.client)throw new c.OKXConnectError(c.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Sign Client not initialized");if(e=this.replaceAptos(e),this.connected())throw new c.OKXConnectError(c.OKX_CONNECT_ERROR_CODES.ALREADY_CONNECTED_ERROR);(0,c.logDebug)("OKXUniversalProvider connect >>>>",JSON.stringify(e)),void 0===e.sessionConfig&&(e.sessionConfig={}),void 0===e.sessionConfig.openUniversalUrl&&(e.sessionConfig.openUniversalUrl=(0,c.isMobileUserAgent)()),this.setNamespaces(e);try{(0,c.logDebug)(`UniversalProvider connect opts.stringify ====> ${JSON.stringify(e)}`);let t=yield this.client.connect(e);return(0,c.logDebug)(`UniversalProvider connect success ====> ${JSON.stringify(t)}`),t?(this.session=t,this.onConnect(),t):void 0}catch(xf){throw(0,c.logDebug)("UniversalProvider connect error ====> ",JSON.stringify(xf)),xf}}))}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}removeListener(e,t){this.events.removeListener(e,t)}off(e,t){this.events.off(e,t)}setDefaultChain(e,t){e=this.aptosChainNameToGeneralId(e);try{if(!this.connected())return;let[n,r]=this.validateChain(e);this.getProvider(n).setDefaultChain(r,t)}catch(n){if(!/Please call connect/.test(n.message))throw n}}checkStorage(){return t(this,void 0,void 0,(function*(){let e=yield this.getFromStore("connectSession");if((0,c.logDebug)(e),e){let t=e;this.session=t,this.client.session=this.session,this.sessionConfig=t.sessionConfig,this.client.sessionConfig=this.sessionConfig,(0,c.logDebug)("[evm u-provider] do reconnection",this.session),yield this.client.restoreconnect(t),this.createProviders(),setTimeout((()=>{this.events.emit("reconnect",{session:this.session})}),100)}}))}initialize(){return t(this,void 0,void 0,(function*(){let e=Object.assign({url:window.location.hostname,origin:window.location.origin},this.providerOpts.dappMetaData);(0,r.setGlobal)("events",this.events),this.client=new s.SignClient(e),(0,r.setGlobal)("client",this.client),yield this.checkStorage()}))}createProviders(){if(!this.client)throw new c.OKXConnectError(c.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Sign Client not initialized");if(!this.connected())throw new c.OKXConnectError(c.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Session not initialized. Please call connect() before enable()");[...new Set(Object.keys(this.session.namespaces).map((e=>(0,l.parseNamespaceKey)(e))))].forEach((e=>{if(!this.session)return;let t=this.session.namespaces[e];switch((0,c.logDebug)("init eip155 >> ",t),e){case"eip155":let n={namespace:t};this.rpcProviders[e]=new i.Eip155Provider(n);break;case"solana":let r={namespace:t},a=new d.default(r,"solana");this.rpcProviders[e]=a;let f=new d.default(r,"sonic");this.rpcProviders.sonic=f;let s=new d.default(r,"svm");this.rpcProviders.svm=s;break;case"ton":let c={namespace:t},l=new p.default(c);this.rpcProviders[e]=l;break;case"sui":let b={namespace:t},g=new o.SuiProvider(b);g.name="sui",this.rpcProviders[e]=g;break;case"btc":let v={namespace:t},y=new u.default(v,"btc");this.rpcProviders.btc=y;let m=new u.default(v,"fractal");this.rpcProviders.fractal=m;break;case"aptos":let C=new h.default({namespace:t},"aptos");this.rpcProviders[e]=C}}))}registerEventListeners(){if(typeof this.client>"u")throw new c.OKXConnectError(c.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Sign Client is not initialized");this.client.engine.addDisconnectListener((()=>{this.disconnectAndEmit(),this.cleanup()})),this.on(a.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,(e=>{this.onChainChanged(e)})),this.on(a.PROVIDER_EVENTS.UPDATE_NAMESPACES,(e=>{if(e){let t=Object.keys(e)[0];this.session&&(this.session.namespaces[t]=e[t],this.session&&(this.persist("connectSession",this.session),this.events.emit("session_update",this.session)),(0,c.logDebug)("PROVIDER_EVENTS.UPDATE_NAMESPACES this.session... ->>>",JSON.stringify(this.session)))}}))}getProvider(e){return(0,c.logDebug)("current get providers",this.rpcProviders),(0,c.logDebug)("query namespace: ",e),this.rpcProviders[e]}setNamespaces(e){this.connectOpts=e;let{namespaces:t,sessionConfig:n}=e,r={origin:window.location.origin,url:window.location.hostname,name:this.providerOpts.dappMetaData.name,icon:this.providerOpts.dappMetaData.icon};this.sessionConfig={dappInfo:r,openUniversalUrl:n?.openUniversalUrl,redirect:n?.redirect},(0,c.logDebug)("setNamespaces sessionConfig>>>",this.sessionConfig),this.client.sessionConfig=this.sessionConfig,this.persist("sessionConfig",n)}validateChain(e){var t;let[n,r]=e?.split(":")||["",""];if(!this.session||!this.session.namespaces||!Object.keys(this.session.namespaces).length)return(0,c.logDebug)("get name & chain",n,r),[n,r];if(n){if(!this.isChainNamespaceInSession(n))throw new c.OKXConnectError(c.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Namespace '${n}' is not configured. Please call connect() first with namespace config.`);if(r&&e){(0,c.logDebug)("this.session.namespaces --\x3e> ",n,JSON.stringify(this.session.namespaces));let r=null===(t=this.session.namespaces[n])||void 0===t?void 0:t.chains;if((0,c.logDebug)("get chainsArr & chain",JSON.stringify(r),e),r&&!r.includes(e))throw new c.OKXConnectError(c.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Namespace not include the chain '${e}'`)}}if(n&&r)return(0,c.logDebug)("get name & chain",n,r),[n,r];let i=(0,l.parseNamespaceKey)(Object.keys(this.session.namespaces)[0]),o=this.rpcProviders[i].getDefaultChain();return(0,c.logDebug)("get default chain:",o),[i,o]}isChainNamespaceInSession(e){var t,n;if(Object.keys((null===(t=this.session)||void 0===t?void 0:t.namespaces)||{}).map((e=>(0,l.parseNamespaceKey)(e))).includes(e))return!0;let r=!1;return Object.values((null===(n=this.session)||void 0===n?void 0:n.namespaces)||{}).forEach((t=>{t.chains.forEach((t=>{t.split(":")[0]==e&&(r=!0)}))})),r}requestAccountsWithNamespace(e){return this.getProvider(e).requestAccounts()}requestDefaultChainWithNamespace(e){return this.getProvider(e).getDefaultChain()}requestAccounts(){return t(this,void 0,void 0,(function*(){let[e]=this.validateChain();return yield this.getProvider(e).requestAccounts()}))}onChainChanged(e){var t;if(null===(t=this.session)||void 0===t||!t.namespaces)return;let[n,r]=this.validateChain(e);r&&(this.session.namespaces[n]&&(this.session.namespaces[n].defaultChain=r,this.persist("connectSession",this.session)),this.events.emit("chainChanged",r))}onConnect(){this.createProviders(),this.session&&this.persist("connectSession",this.session),this.events.emit("connect",{session:this.session}),this.registerEventListeners()}cleanup(){return t(this,void 0,void 0,(function*(){this.session=void 0,this.sessionProperties=void 0,this.persist("optionalNamespaces",void 0),this.persist("sessionProperties",void 0),this.persist("connectSession",void 0)}))}persist(e,t){return(0,c.logDebug)("[evm u-provider] persisit data",e,t),this.client.engine.connectionManager.saveSessionContent(e,t)}getFromStore(e){return t(this,void 0,void 0,(function*(){return this.client.engine.connectionManager.getSessionContent(e)}))}showRequestModal(e,t){try{let{namespace:n,requestParam:r}=this.buildRequestParamFromRequest(e,t);return this.getProvider(n).showRequestModal(r)}catch{return!1}}};e.OKXUniversalProvider=b,e.default=b})),Ra=p((e=>{var t=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(t){o(t)}}function f(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,f)}s((r=r.apply(e,t||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.OKXBtcProvider=void 0;var n=Na(),r=class{constructor(e){this.caip=["btc:mainnet","fractal:mainnet"],this.provider=e.getUniversalProvider()}getAddressForChainId(e){var t,r;if(null==this.checkChainId(e))throw new n.OKXConnectError(n.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");let i=null===(r=null===(t=this.provider.session)||void 0===t?void 0:t.namespaces.btc)||void 0===r?void 0:r.accounts.filter((function(t){return t.startsWith(e)}));if(null==i||i.length<0)throw new n.OKXConnectError(n.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"no connected account");return i[0].split(":")[2]}getAccount(e){var t,r,i;let o=this.checkChainId(e);if(null==o)throw new n.OKXConnectError(n.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");let a=null===(i=null===(r=null===(t=this.provider.session)||void 0===t?void 0:t.namespaces[o])||void 0===r?void 0:r.extra)||void 0===i?void 0:i[e],f="";return null!=a&&(f=a.publicKey),{address:this.getAddressForChainId(e),publicKey:f}}signMessage(e,r,i){return t(this,void 0,void 0,(function*(){if(null==this.checkChainId(e))throw new n.OKXConnectError(n.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");if("undefined"===r)throw new n.OKXConnectError(n.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"the method signMessage parmas error");let t={signStr:r,from:this.getAddressForChainId(e)};i&&(t.type=i);try{let n=yield this.provider.request({method:"btc_signMessage",params:t},e);return"result"in n?n.result:n.error}catch{throw new n.OKXConnectError(n.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"the method signTransaction request error")}}))}sendBitcoin(e,r,i,o){return t(this,void 0,void 0,(function*(){if(null==this.checkChainId(e))throw new n.OKXConnectError(n.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");let t={from:this.getAddressForChainId(e),to:r,value:(i/1e8).toString()};o?.feeRate&&(t.satBytes=o.feeRate.toString());let a=yield this.send(e,t);return void 0!==a&&"txhash"in a?a.txhash:a}))}send(e,r){return t(this,void 0,void 0,(function*(){if(null==this.checkChainId(e))throw new n.OKXConnectError(n.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");if(!this.checkParameters(r,"to","value"))throw new n.OKXConnectError(n.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"the method send parmas  error");r.from=this.getAddressForChainId(e);try{let t=yield this.provider.request({method:"btc_send",params:r},e);return"result"in t?{txhash:t.result}:t.error}catch(t){throw new n.OKXConnectError(n.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`the method send request error: ${t}`)}}))}signPsbt(e,n,r){return t(this,void 0,void 0,(function*(){return new Promise(((t,i)=>{this.signPsbts(e,[n],[r]).then((e=>{let n=JSON.parse(e);t(n[0])})).catch((e=>{i(e)}))}))}))}signPsbts(e,r,i){return t(this,void 0,void 0,(function*(){if(null==this.checkChainId(e))throw new n.OKXConnectError(n.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");if(void 0===r)throw new n.OKXConnectError(n.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"the method signPsbts params error");let t={psbtHexs:r,options:i};t.from=this.getAddressForChainId(e);try{let n=yield this.provider.request({method:"btc_signPsbts",params:t},e);return"result"in n?n.result:n.error}catch(o){throw new n.OKXConnectError(n.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`the method send request error: ${o}`)}}))}signAndPushPsbt(e,r,i){return t(this,void 0,void 0,(function*(){if(null==this.checkChainId(e))throw new n.OKXConnectError(n.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");if(void 0===r)throw new n.OKXConnectError(n.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"the method signPsbts params error");let t={psbtHex:r,options:i};t.from=this.getAddressForChainId(e);try{let n=yield this.provider.request({method:"btc_signAndPushPsbt",params:t},e);return"result"in n?JSON.parse(n.result):n.error}catch(o){throw new n.OKXConnectError(n.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`the method send request error: ${o}`)}}))}sendInscription(e,r,i,o){return t(this,void 0,void 0,(function*(){let t={address:r,inscriptionId:i,options:o};if(null==this.checkChainId(e))throw new n.OKXConnectError(n.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");if("undefined"===r)throw new n.OKXConnectError(n.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"the method sendInscription params error");var a=0;o&&"feeRate"in o&&(a=o.feeRate);let f=this.getAddressForChainId(e);var s=7;if("undefined"!==i){let e="-Atomicals",t="-Ordinals";i?.toLowerCase().endsWith(e.toLowerCase())?(s=8,i=this.removeSuffix(i,e)):i?.toLowerCase().endsWith(t.toLowerCase())&&(i=this.removeSuffix(i,t))}let c={scenario:5,feeRate:a,txType:"20",to:r,batchBean:[{coinAmount:"1",nftId:i,protocolId:s,coinId:"",inscriptionId:"",from:f}],extension:t};try{let t=yield this.provider.request({method:"btc_sendInscription",params:c},e);return"result"in t?t.result:t.error}catch{throw new n.OKXConnectError(n.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"the method signTransaction request error")}}))}removeSuffix(e,t){return e.endsWith(t)?e.slice(0,e.length-t.length):e}checkParameters(e){for(var t=[],n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.forEach((n=>{`${n}`in e||t.push(n)})),!(t.length>0)||(i.log("not find key: ",t.join(",")),!1)}checkChainId(e){if(this.caip.includes(e)){let[t,n]=e.split(":");return t}}};e.OKXBtcProvider=r,e.default=r})),Na=p((e=>{var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var r in e)"default"!==r&&!Object.prototype.hasOwnProperty.call(n,r)&&t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),e.OKXConnectError=e.OKX_CONNECT_ERROR_CODES=e.NameSpaceKeyBtc=e.NameSpaceKeySui=e.OKXBtcProvider=e.OKXUniversalProvider=void 0,n(x(),e);var r=Sa();Object.defineProperty(e,"OKXUniversalProvider",{enumerable:!0,get:function(){return r.OKXUniversalProvider}});var i=Ra();Object.defineProperty(e,"OKXBtcProvider",{enumerable:!0,get:function(){return i.OKXBtcProvider}});var o=pa();Object.defineProperty(e,"NameSpaceKeySui",{enumerable:!0,get:function(){return o.NameSpaceKeySui}}),Object.defineProperty(e,"NameSpaceKeyBtc",{enumerable:!0,get:function(){return o.NameSpaceKeyBtc}}),Object.defineProperty(e,"OKX_CONNECT_ERROR_CODES",{enumerable:!0,get:function(){return o.OKX_CONNECT_ERROR_CODES}}),Object.defineProperty(e,"OKXConnectError",{enumerable:!0,get:function(){return o.OKXConnectError}})})),ka=p((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isPendingConnectionHttp=function(e){return!("connectEvent"in e)}})),Ta=p((e=>{var t=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(t){o(t)}}function f(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,f)}s((r=r.apply(e,t||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.BridgeConnectionStorage=void 0;var n=pa();e.BridgeConnectionStorage=class{constructor(e){this.storage=e,this.storeKey="ton_connect_info_adapter_universal"}storeConnection(e){return t(this,void 0,void 0,(function*(){return(0,n.logDebug)("BridgeConnectionStorage ==>> storeConnection ==>> connection:",e),this.storage.saveContent(JSON.stringify(e),this.storeKey)}))}removeConnection(){return t(this,void 0,void 0,(function*(){return(0,n.logDebug)("BridgeConnectionStorage ==>> removeConnection"),this.storage.clearCache(this.storeKey)}))}getConnection(){return t(this,void 0,void 0,(function*(){let e=this.storage.getItem(this.storeKey);if((0,n.logDebug)("BridgeConnectionStorage ==>> getConnection ==>>this.storage: ",this.storage),!e||!e?.content)return null;try{let t=e?.content;if(t){let e;return e=JSON.parse(t),(0,n.logDebug)("BridgeConnectionStorage ==>> getConnection ==>>connection: ",e),e}return null}catch{return null}}))}getHttpConnection(){return t(this,void 0,void 0,(function*(){let e=yield this.getConnection();if(!e)throw new n.OKXConnectError(n.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Trying to read HTTP connection source while nothing is stored");return e}))}storeLastWalletEventId(e){return t(this,void 0,void 0,(function*(){let t=yield this.getConnection();if(t&&"connectEvent"in t)return t.lastWalletEventId=e,this.storeConnection(t)}))}getLastWalletEventId(){return t(this,void 0,void 0,(function*(){let e=yield this.getConnection();if(e&&"lastWalletEventId"in e)return e.lastWalletEventId}))}}})),Aa=p((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.OKXCONNECTOR_TON_KEY=e.OKXtonConnectSdkVersion=void 0,e.OKXtonConnectSdkVersion="1",e.OKXCONNECTOR_TON_KEY="OKXStorage_ctc"})),Pa=p((e=>{function t(e){return{okx_ton_connect_sdk_lib:e.okx_ton_connect_sdk_lib,okx_connect_ui_lib:e.okx_connect_ui_lib}}function n(e,n){var r,i,o,a,f,s,c,l;let d=(null===(r=n?.connectItems)||void 0===r?void 0:r.tonProof)&&"proof"in n.connectItems.tonProof?"ton_proof":"ton_addr";return{wallet_address:null!==(o=null===(i=n?.account)||void 0===i?void 0:i.address)&&void 0!==o?o:null,wallet_type:null!==(a=n?.device.appName)&&void 0!==a?a:null,wallet_version:null!==(f=n?.device.appVersion)&&void 0!==f?f:null,auth_type:d,custom_data:Object.assign({chain_id:null!==(c=null===(s=n?.account)||void 0===s?void 0:s.chain)&&void 0!==c?c:null,provider:null!==(l=n?.provider)&&void 0!==l?l:null},t(e))}}function r(e,t){var n,r,i,o;return{valid_until:null!==(n=String(t.validUntil))&&void 0!==n?n:null,from:null!==(o=null!==(r=t.from)&&void 0!==r?r:null===(i=e?.account)||void 0===i?void 0:i.address)&&void 0!==o?o:null,messages:t.messages.map((e=>{var t,n;return{address:null!==(t=e.address)&&void 0!==t?t:null,amount:null!==(n=e.amount)&&void 0!==n?n:null}}))}}Object.defineProperty(e,"__esModule",{value:!0}),e.createRequestVersionEvent=function(){return{type:"request-version"}},e.createResponseVersionEvent=function(e){return{type:"response-version",version:e}},e.createVersionInfo=t,e.createConnectionStartedEvent=function(e){return{type:"connection-started",custom_data:t(e)}},e.createConnectionDeepLinkEvent=function(e){return{type:"connection-get-deeplink",deeplinkUrl:e}},e.createConnectionInfoBeforeJumpEvent=function(e){return{type:"connection-info-before-jump",connectInfo:e}},e.createConnectionCompletedEvent=function(e,t){return Object.assign({type:"connection-completed",is_success:!0},n(e,t))},e.createConnectionErrorEvent=function(e,n,r){return{type:"connection-error",is_success:!1,error_message:n,error_code:r??null,custom_data:t(e)}},e.createConnectionRestoringStartedEvent=function(e){return{type:"connection-restoring-started",custom_data:t(e)}},e.createConnectionRestoringCompletedEvent=function(e,t){return Object.assign({type:"connection-restoring-completed",is_success:!0},n(e,t))},e.createConnectionRestoringErrorEvent=function(e,n){return{type:"connection-restoring-error",is_success:!1,error_message:n,custom_data:t(e)}},e.createTransactionSentForSignatureEvent=function(e,t,i){return Object.assign(Object.assign({type:"transaction-sent-for-signature"},n(e,t)),r(t,i))},e.createTransactionSignedEvent=function(e,t,i,o){return Object.assign(Object.assign({type:"transaction-signed",is_success:!0,signed_transaction:o.boc},n(e,t)),r(t,i))},e.createTransactionSigningFailedEvent=function(e,t,i,o,a){return Object.assign(Object.assign({type:"transaction-signing-failed",is_success:!1,error_message:o,error_code:a??null},n(e,t)),r(t,i))},e.createDisconnectionEvent=function(e,t,r){return Object.assign({type:"disconnection",scope:r},n(e,t))}})),Da=p((e=>{var t=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(t){o(t)}}function f(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,f)}s((r=r.apply(e,t||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserEventDispatcher=void 0;e.BrowserEventDispatcher=class{constructor(){this.window=window}dispatchEvent(e,n){return t(this,void 0,void 0,(function*(){var t;let r=new CustomEvent(e,{detail:n});null===(t=this.window)||void 0===t||t.dispatchEvent(r)}))}addEventListener(e,n,r){return t(this,void 0,void 0,(function*(){var t;return null===(t=this.window)||void 0===t||t.addEventListener(e,n,r),()=>{var t;return null===(t=this.window)||void 0===t?void 0:t.removeEventListener(e,n)}}))}}})),Ia=p((e=>{var t=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(t){o(t)}}function f(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,f)}s((r=r.apply(e,t||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.TonConnectTracker=void 0;var n=Pa(),r=Da();e.TonConnectTracker=class{get version(){return(0,n.createVersionInfo)({okx_ton_connect_sdk_lib:this.OKXtonConnectSdkVersion,okx_connect_ui_lib:this.OKXConnectUiVersion})}constructor(e){this.eventPrefix="okx-ton-connect-",this.OKXConnectUiVersion=null,this.eventDispatcher=new r.BrowserEventDispatcher,this.OKXtonConnectSdkVersion=e.OKXtonConnectSdkVersion,this.init().catch()}init(){return t(this,void 0,void 0,(function*(){try{yield this.setRequestVersionHandler(),this.OKXConnectUiVersion=yield this.requestTonConnectUiVersion()}catch{}}))}setRequestVersionHandler(){return t(this,void 0,void 0,(function*(){yield this.eventDispatcher.addEventListener("okx-ton-connect-request-version",(()=>t(this,void 0,void 0,(function*(){yield this.eventDispatcher.dispatchEvent("okx-ton-connect-response-version",(0,n.createResponseVersionEvent)(this.OKXtonConnectSdkVersion))}))))}))}requestTonConnectUiVersion(){return t(this,void 0,void 0,(function*(){return new Promise(((e,r)=>t(this,void 0,void 0,(function*(){try{yield this.eventDispatcher.addEventListener("okx-connect-ui-response-version",(t=>{e(t.detail.version)}),{once:!0}),yield this.eventDispatcher.dispatchEvent("okx-connect-ui-request-version",(0,n.createRequestVersionEvent)())}catch(t){r(t)}}))))}))}dispatchUserActionEvent(e){try{this.eventDispatcher.dispatchEvent(`${this.eventPrefix}${e.type}`,e).catch()}catch{}}trackConnectionStarted(){try{for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];let i=(0,n.createConnectionStartedEvent)(this.version,...t);this.dispatchUserActionEvent(i)}catch{}}trackConnectionDeepLink(){try{let e=(0,n.createConnectionDeepLinkEvent)(...arguments);this.dispatchUserActionEvent(e)}catch{}}trackConnectionCompleted(){try{for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];let i=(0,n.createConnectionCompletedEvent)(this.version,...t);this.dispatchUserActionEvent(i)}catch{}}trackConnectionInfoBeforeJump(e){try{let t=(0,n.createConnectionInfoBeforeJumpEvent)(e);this.dispatchUserActionEvent(t)}catch{}}trackConnectionError(){try{for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];let i=(0,n.createConnectionErrorEvent)(this.version,...t);this.dispatchUserActionEvent(i)}catch{}}trackConnectionRestoringStarted(){try{for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];let i=(0,n.createConnectionRestoringStartedEvent)(this.version,...t);this.dispatchUserActionEvent(i)}catch{}}trackConnectionRestoringCompleted(){try{for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];let i=(0,n.createConnectionRestoringCompletedEvent)(this.version,...t);this.dispatchUserActionEvent(i)}catch{}}trackConnectionRestoringError(){try{for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];let i=(0,n.createConnectionRestoringErrorEvent)(this.version,...t);this.dispatchUserActionEvent(i)}catch{}}trackDisconnection(){try{for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];let i=(0,n.createDisconnectionEvent)(this.version,...t);this.dispatchUserActionEvent(i)}catch{}}trackTransactionSentForSignature(){try{for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];let i=(0,n.createTransactionSentForSignatureEvent)(this.version,...t);this.dispatchUserActionEvent(i)}catch{}}trackTransactionSigned(){try{for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];let i=(0,n.createTransactionSignedEvent)(this.version,...t);this.dispatchUserActionEvent(i)}catch{}}trackTransactionSigningFailed(){try{for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];let i=(0,n.createTransactionSigningFailedEvent)(this.version,...t);this.dispatchUserActionEvent(i)}catch{}}}})),Ka=p((e=>{var t=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(t){o(t)}}function f(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,f)}s((r=r.apply(e,t||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.BridgeProvider=void 0;var n=ka(),r=pa(),o=Ta(),a=Aa(),f=Ia();e.BridgeProvider=class e{constructor(e){this.storage=e,this.type="http",this.listeners=[],this.connectManager=new r.ConnectionManager,this.walletConnectionSource={universalLink:r.standardUniversalLink},this.engine=new r.Engine(this.connectManager),this.openUniversalLink=!1,this.connectionStorage=new o.BridgeConnectionStorage(e),this.tracker=new f.TonConnectTracker({OKXtonConnectSdkVersion:a.OKXtonConnectSdkVersion})}static fromStorage(i){return t(this,void 0,void 0,(function*(){(0,r.logDebug)("bridge-provider ==>> fromStorage ==>>storage:",i);let t=yield new o.BridgeConnectionStorage(i).getHttpConnection();if((0,n.isPendingConnectionHttp)(t))return null;let a=new e(i);return a.openUniversalLink=t.openUniversalLink,a}))}connect(e,n,o,a){return t(this,void 0,void 0,(function*(){return(0,r.logDebug)("bridge-provider ==>> connect_1 ==>>message:",e),(0,r.logDebug)("bridge-provider ==>> connect_1 ==>>redirect:",n),(0,r.logDebug)("bridge-provider ==>> connect_1 ==>>openUniversalLink:",o),(0,r.logDebug)("bridge-provider ==>> connect_1 ==>>tmaReturnUrl:",a),new Promise(((t,f)=>{try{this.openUniversalLink=o,void 0===this.openUniversalLink&&(this.openUniversalLink=(0,r.isMobileUserAgent)());let i={name:"requestAccounts",requiredNamespaces:[{namespace:"ton",chains:["ton:-239"],params:e.params}]},s=[];e.params.ton_addr&&s.push(e.params.ton_addr),e.params.ton_proof&&s.push(e.params.ton_proof),s.push(i);let c={dappInfo:e.dappInfo,openUniversalUrl:this.openUniversalLink,redirect:n,tmaReturnUrl:a};this.engine.universalConnect(s,c,(e=>{(0,r.logDebug)(`bridge-provider: connect: info>>>> ${JSON.stringify(e)}`);try{if(!e.tonConnectRequest)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"universalConnect connectInfoAndUrl info.tonConnectRequest is nil");let n=(0,r.encodeConnectParams)(e.tonConnectRequest),i=(0,r.getAppWalletDeepLink)(n),o=(0,r.getUniversalLink)(i);this.tracker.trackConnectionInfoBeforeJump(e),t(o)}catch(n){f(n)}})).then((e=>{(0,r.logDebug)(`bridge-provider: connect: success>>>> ${JSON.stringify(e)}`),this.connectSuccessHandle(e)})).catch((e=>{(0,r.logDebug)(`bridge-provider: connect: catch>>>> ${JSON.stringify(e)}`);let t={event:"connect_error",requestId:Number(Date.now()),payload:{code:e.code,message:e.message}};(0,r.logDebug)("bridge-provider ==>> connectListener_4 ==>>connect_error:",t),this.listeners.forEach((e=>e(t)))}))}catch(s){i.error("bridge-provider connect try catch error:>>>",JSON.stringify(s)),f(s)}}))}))}listen(e){return this.listeners.push(e),()=>this.listeners=this.listeners.filter((t=>t!==e))}disconnectListener(){return t(this,void 0,void 0,(function*(){(0,r.logDebug)("bridge-provider ==>> disconnectListener");let e={event:"disconnect",requestId:1,payload:{}};this.listeners.forEach((t=>t(e))),yield this.closeConnection()}))}connectSuccessHandle(e){return t(this,void 0,void 0,(function*(){var t;try{let n=null===(t=e.namespaces)||void 0===t?void 0:t.ton,i=n.payload,o=e.wallet;if(!n||!i||!o||!i.ton_addr)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR);i.ton_addr;let a=e.sessionConfig,f=[];i.ton_addr&&f.push(i.ton_addr),i.ton_proof&&f.push(i.ton_proof);let s={platform:o.platform,appName:o.appName,appVersion:o.appVersion,maxProtocolVersion:o.maxProtocolVersion,features:["ton_sendTransaction"]},c={type:"http",lastWalletEventId:Number(Date.now()),connectEvent:{event:"connect",payload:{items:f,device:s}},connectionSource:this.walletConnectionSource,channelId:e.topic,openUniversalLink:a?.openUniversalUrl};(0,r.logDebug)("bridge-provider ==>> connectSuccessHandle_2 ==>>storeConnection:",c),yield this.connectionStorage.storeConnection(c);let l={event:"connect",requestId:c.lastWalletEventId,payload:c.connectEvent.payload};(0,r.logDebug)("bridge-provider ==>> connectSuccessHandle_3 ==>>listeners.forEach:",l),this.listeners.forEach((e=>e(l)))}catch(n){(0,r.logDebug)("bridge-provider ==>> connectSuccessHandle_4 ==>>error:",n);let e={event:"connect_error",requestId:Number(Date.now()),payload:{code:r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,message:"Connect success  connectSuccessHandle response error"}};(0,r.logDebug)("bridge-provider ==>> connectSuccessHandle_4 ==>>connect_error:",e),this.listeners.forEach((t=>t(e)))}}))}closeConnection(){return t(this,arguments,void 0,(function(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function*(){var i,o;(0,r.logDebug)("bridge-provider ==>> closeConnection ==>>fromRestore:",t," needOpenUrl:",n),e.listeners=[],n||(yield null===(i=e.connectManager)||void 0===i?void 0:i.disconnect(t)),t||(null===(o=e.engine)||void 0===o||o.disconnect(),yield e.connectionStorage.removeConnection())}()}))}restoreConnection(){return t(this,void 0,void 0,(function*(){var e;(0,r.logDebug)("bridge-provider ==>> restoreConnection_1");let t=yield this.connectionStorage.getHttpConnection();if(t&&!(0,n.isPendingConnectionHttp)(t))if((0,r.logDebug)("bridge-provider ==>> restoreConnection_2 ==>>storedConnection.channelId:",t.channelId),t.channelId)try{let n={event:"connect",requestId:0,payload:t.connectEvent.payload};this.listeners.forEach((e=>e(n)));let i=t.channelId;(0,r.logDebug)("bridge-provider ==>> restoreConnection_3 ==>>this.connectManager.restoreConnect:",i),null===(e=this.engine)||void 0===e||e.addDisconnectListener(this.disconnectListener.bind(this)),yield this.connectManager.restoreConnect(i)}catch{(0,r.logDebug)("bridge-provider ==>> restoreConnection_4 ==>>closeConnection_1"),yield this.closeConnection()}else(0,r.logDebug)("bridge-provider ==>> restoreConnection_4 ==>>closeConnection_2"),yield this.closeConnection()}))}openOKXWallet(){(0,r.logDebug)("bridge-provider ==>> openOKXWallet",this.openUniversalLink),this.openUniversalLink&&(0,r.openOKXDeeplink)(r.standardDeeplink)}disconnect(){return t(this,void 0,void 0,(function*(){return(0,r.logDebug)("bridge-provider ==>> disconnect_1"),new Promise((e=>t(this,void 0,void 0,(function*(){let t=!1,n=()=>{t||(t=!0,this.closeConnection().then(e))};try{yield this.sendRequest({method:"disconnect"},{onRequestSent:n,attempts:1})}catch{t||this.closeConnection().then(e)}finally{n()}}))))}))}sendRequest(e,n){return(0,r.logDebug)("bridge-provider ==>> sendRequest"),new Promise(((r,i)=>t(this,void 0,void 0,(function*(){var t;try{yield null===(t=this.engine)||void 0===t?void 0:t.send(e,{resolve:function(e){r(e)},onAck:function(){var e;null===(e=n?.onRequestSent)||void 0===e||e.call(n)}},{attempts:n?.attempts})}catch(o){i(o)}}))))}}})),ja=p((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.checkSendTransactionSupport=function(e,n){if(!e.includes("ton_sendTransaction"))throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,"Wallet doesn't support SendTransaction feature.");if(4<n.requiredMessagesNumber)throw new t.OKXConnectError(t.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,`Wallet is not able to handle such SendTransaction request. Max support messages number is 4, but ${n.requiredMessagesNumber} is required.`)};var t=pa()})),Ma=p((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.RpcParser=void 0;e.RpcParser=class{isError(e){return"error"in e}}})),Ua=p((e=>{var t=e&&e.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(e,"__esModule",{value:!0}),e.sendTransactionParser=void 0;var n=Ma(),r=class extends n.RpcParser{convertToRpcRequest(e){let{redirect:n}=e;return{method:"ton_sendTransaction",redirect:n,params:t(e,["redirect"])}}convertFromRpcResponse(e){return{boc:e.result.toString()}}};e.sendTransactionParser=new r})),La=p((e=>{var t=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(t){o(t)}}function f(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,f)}s((r=r.apply(e,t||[])).next())}))},n=e&&e.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(e,"__esModule",{value:!0}),e.OKXTonConnect=void 0;var r=Ka(),i=pa(),o=ja(),a=Ia(),f=Ua(),s=Ta(),c=Aa(),l=class{constructor(e){if(this._wallet=null,this.provider=null,this.statusChangeSubscriptions=[],this.statusChangeErrorSubscriptions=[],this.storage=new i.Storage(c.OKXCONNECTOR_TON_KEY),this.openUniversalLink=!!this.provider&&this.provider.openUniversalLink,!e.metaData)throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"dapp metaData can not be null");this.dappSettings={metaData:Object.assign(Object.assign({},e.metaData),{url:window.location.hostname,origin:window.location.origin})},this.tracker=new a.TonConnectTracker({OKXtonConnectSdkVersion:c.OKXtonConnectSdkVersion}),this.bridgeConnectionStorage=new s.BridgeConnectionStorage(this.storage)}get connected(){return null!==this._wallet}get account(){var e;return(null===(e=this._wallet)||void 0===e?void 0:e.account)||null}get wallet(){return this._wallet}set wallet(e){this._wallet=e,this.statusChangeSubscriptions.forEach((e=>e(this._wallet)))}connect(e){return t(this,void 0,void 0,(function*(){var t;return(0,i.logDebug)("ton-Connect ==>> connect_1 >> request:",e),this.connected&&(0,i.logError)("It's already connected to OKX Wallet, please call disconnect() first"),yield null===(t=this.provider)||void 0===t?void 0:t.closeConnection(!1,!0),this.provider||(this.provider=new r.BridgeProvider(this.storage)),this.provider.listen(this.walletEventsListener.bind(this)),this.tracker.trackConnectionStarted(),yield this.provider.connect(this.createConnectRequest(e),e?.redirect,e?.openUniversalLink,e?.tmaReturnUrl)}))}walletEventsListener(e){switch((0,i.logDebug)("ton-Connect ==>> walletEventsListener_1 >> e:",e),e.event){case"connect":this.onWalletConnected(e.payload);break;case"connect_error":this.onWalletConnectError(e.payload);break;case"disconnect":this.onWalletDisconnected("wallet")}}onWalletConnected(e){(0,i.logDebug)("ton-Connect ==>> onWalletConnected_1 >> connectEvent:",e);let t=e.items.find((e=>"ton_addr"===e.name)),n=e.items.find((e=>"ton_proof"===e.name));if(!t)throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"ton_addr connection item was not found");let r={device:e.device,provider:this.provider.type,account:{address:t.address,chain:t.network,walletStateInit:t.walletStateInit,publicKey:t.publicKey}};n&&(r.connectItems={tonProof:n}),this.wallet=r,(0,i.logDebug)("ton-Connect ==>> onWalletConnected_2 >> wallet:",r),this.tracker.trackConnectionCompleted(r)}onWalletConnectError(e){var t;(0,i.logDebug)("ton-Connect ==>> onWalletConnectError_1 >> connectEventError:",e);let n=new i.OKXConnectError(e.code,e.message);(0,i.logDebug)("ton-Connect ==>> onWalletConnectError_1 >> error:",n),this.statusChangeErrorSubscriptions.forEach((e=>e(n))),this.tracker.trackConnectionError(null!==(t=e.message)&&void 0!==t?t:"",e.code)}onWalletDisconnected(e){this.tracker.trackDisconnection(this.wallet,e),this.wallet=null}disconnect(){return t(this,void 0,void 0,(function*(){var e;if((0,i.logDebug)("ton-Connect ==>> disconnect_1"),!this.connected)throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,"wallet is not connected");(0,i.logDebug)("ton-Connect ==>> disconnect_222"),this.onWalletDisconnected("dapp"),yield null===(e=this.provider)||void 0===e?void 0:e.disconnect()}))}onStatusChange(e,t){return this.statusChangeSubscriptions.push(e),t&&this.statusChangeErrorSubscriptions.push(t),()=>{this.statusChangeSubscriptions=this.statusChangeSubscriptions.filter((t=>t!==e)),t&&(this.statusChangeErrorSubscriptions=this.statusChangeErrorSubscriptions.filter((e=>e!==t)))}}restoreConnection(){return t(this,void 0,void 0,(function*(){var e;(0,i.logDebug)("ton-Connect ==>> restoreConnection_1"),this.tracker.trackConnectionRestoringStarted();let t=null;try{t=yield r.BridgeProvider.fromStorage(this.storage)}catch{return this.tracker.trackConnectionRestoringError("Provider is not restored"),yield this.bridgeConnectionStorage.removeConnection(),t?.closeConnection(),void(t=null)}if(!t)return(0,i.logError)("Provider is not restored"),void this.tracker.trackConnectionRestoringError("Provider is not restored");(0,i.logDebug)("ton-Connect ==>> restoreConnection_2 ==>> Provider is restored "),null===(e=this.provider)||void 0===e||e.closeConnection(!0,!1),this.provider=t,t.listen(this.walletEventsListener.bind(this)),yield this.provider.restoreConnection(),this.connected?this.tracker.trackConnectionRestoringCompleted(this.wallet):this.tracker.trackConnectionRestoringError("Connection restoring failed")}))}sendTransaction(e,r){return t(this,void 0,void 0,(function*(){var t;(0,i.logDebug)("ton-Connect ==>> sendTransaction_1",e),this.checkConnection(),(0,o.checkSendTransactionSupport)(this.wallet.device.features,{requiredMessagesNumber:e.messages.length}),this.tracker.trackTransactionSentForSignature(this.wallet,e),(0,i.logDebug)("ton-Connect ==>> sendTransaction_2 ==>> check params");let{validUntil:a}=e,s=n(e,["validUntil"]),c=e.from||this.account.address,l=this.account.chain;(0,i.logDebug)("ton-Connect ==>> sendTransaction_2 ==>> await sendRequest",l),(0,i.isIos)()&&!r?.doNotOpenWallet&&(null===(t=this.provider)||void 0===t||t.openOKXWallet());let d=yield this.provider.sendRequest(f.sendTransactionParser.convertToRpcRequest(Object.assign(Object.assign({},s),{valid_until:a,from:c,network:l})),{onRequestSent:()=>{var e,t;!(0,i.isIos)()&&!r?.doNotOpenWallet&&(null===(e=this.provider)||void 0===e||e.openOKXWallet()),null===(t=r?.onRequestSent)||void 0===t||t.call(r)}});if((0,i.logDebug)("ton-Connect ==>> sendTransaction_3 ==>>sendRequest response:",d),f.sendTransactionParser.isError(d))throw this.tracker.trackTransactionSigningFailed(this.wallet,e,d.error.message,d.error.code),new i.OKXConnectError(d.error.code,d.error.message);let u=f.sendTransactionParser.convertFromRpcResponse(d);return this.tracker.trackTransactionSigned(this.wallet,e,u),u}))}checkConnection(){if((0,i.logDebug)("ton-Connect ==>> checkConnection"),!this.connected)throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,"Wallet not connected")}createConnectRequest(e){(0,i.logDebug)("ton-Connect ==>> createConnectRequest");let t={ton_addr:{name:"ton_addr"}};return e?.tonProof&&(t.ton_proof={name:"ton_proof",payload:e.tonProof}),{dappInfo:this.dappSettings.metaData,params:t}}static getWallets(){return this.walletsList}};e.OKXTonConnect=l,l.walletsList=[(0,i.creatOKXWalletInfo)()]})),Wa=p((e=>{var t,n;Object.defineProperty(e,"__esModule",{value:!0}),e.OKX_TON_CONNECTION_AND_TRANSACTION_EVENT=void 0,(n=t||(e.OKX_TON_CONNECTION_AND_TRANSACTION_EVENT=t={})).OKX_TON_CONNECTION_STARTED="okx-ton-connect-connection-started",n.OKX_TON_CONNECTION_COMPLETED="okx-ton-connect-connection-completed",n.OKX_TON_CONNECTION_ERROR="okx-ton-connect-connection-error",n.OKX_TON_CONNECTION_RESTORING_STARTED="okx-ton-connect-connection-restoring-started",n.OKX_TON_CONNECTION_RESTORING_COMPLETED="okx-ton-connect-connection-restoring-completed",n.OKX_TON_CONNECTION_RESTORING_ERROR="okx-ton-connect-connection-restoring-error",n.OKX_TON_DISCONNECTION="okx-ton-connect-disconnection",n.OKX_TON_TRANSACTION_SENT_FOR_SIGNATURE="okx-ton-connect-transaction-sent-for-signature",n.OKX_TON_TRANSACTION_SIGNED="okx-ton-connect-transaction-signed",n.OKX_TON_TRANSACTION_SIGNING_FAILED="okx-ton-connect-transaction-signing-failed"})),Ba=p((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserEventDispatcher=e.createVersionInfo=e.createTransactionSigningFailedEvent=e.createTransactionSignedEvent=e.createTransactionSentForSignatureEvent=e.createDisconnectionEvent=e.createConnectionStartedEvent=e.createConnectionRestoringStartedEvent=e.createConnectionRestoringErrorEvent=e.createConnectionRestoringCompletedEvent=e.createConnectionErrorEvent=e.createConnectionCompletedEvent=e.createResponseVersionEvent=e.createRequestVersionEvent=e.OKX_TON_CONNECTION_AND_TRANSACTION_EVENT=void 0;var t=Wa();Object.defineProperty(e,"OKX_TON_CONNECTION_AND_TRANSACTION_EVENT",{enumerable:!0,get:function(){return t.OKX_TON_CONNECTION_AND_TRANSACTION_EVENT}});var n=Pa();Object.defineProperty(e,"createRequestVersionEvent",{enumerable:!0,get:function(){return n.createRequestVersionEvent}}),Object.defineProperty(e,"createResponseVersionEvent",{enumerable:!0,get:function(){return n.createResponseVersionEvent}}),Object.defineProperty(e,"createConnectionCompletedEvent",{enumerable:!0,get:function(){return n.createConnectionCompletedEvent}}),Object.defineProperty(e,"createConnectionErrorEvent",{enumerable:!0,get:function(){return n.createConnectionErrorEvent}}),Object.defineProperty(e,"createConnectionRestoringCompletedEvent",{enumerable:!0,get:function(){return n.createConnectionRestoringCompletedEvent}}),Object.defineProperty(e,"createConnectionRestoringErrorEvent",{enumerable:!0,get:function(){return n.createConnectionRestoringErrorEvent}}),Object.defineProperty(e,"createConnectionRestoringStartedEvent",{enumerable:!0,get:function(){return n.createConnectionRestoringStartedEvent}}),Object.defineProperty(e,"createConnectionStartedEvent",{enumerable:!0,get:function(){return n.createConnectionStartedEvent}}),Object.defineProperty(e,"createDisconnectionEvent",{enumerable:!0,get:function(){return n.createDisconnectionEvent}}),Object.defineProperty(e,"createTransactionSentForSignatureEvent",{enumerable:!0,get:function(){return n.createTransactionSentForSignatureEvent}}),Object.defineProperty(e,"createTransactionSignedEvent",{enumerable:!0,get:function(){return n.createTransactionSignedEvent}}),Object.defineProperty(e,"createTransactionSigningFailedEvent",{enumerable:!0,get:function(){return n.createTransactionSigningFailedEvent}}),Object.defineProperty(e,"createVersionInfo",{enumerable:!0,get:function(){return n.createVersionInfo}});var r=Da();Object.defineProperty(e,"BrowserEventDispatcher",{enumerable:!0,get:function(){return r.BrowserEventDispatcher}})})),Xa=p((e=>{function t(e){return"/"===e.slice(-1)?e.slice(0,-1):e}Object.defineProperty(e,"__esModule",{value:!0}),e.removeUrlLastSlash=t,e.addPathToUrl=function(e,n){return t(e)+"/"+n}})),$a=p((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.toUserFriendlyAddress=function(e){let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],{wc:a,hex:f}=function(e){if(!e.includes(":"))throw new Error(`Wrong address ${e}. Address must include ":".`);let t=e.split(":");if(2!==t.length)throw new Error(`Wrong address ${e}. Address must include ":" only once.`);let n=parseInt(t[0]);if(0!==n&&-1!==n)throw new Error(`Wrong address ${e}. WC must be eq 0 or -1, but ${n} received.`);let r=t[1];if(64!==r?.length)throw new Error(`Wrong address ${e}. Hex part must be 64bytes length, but ${r?.length} received.`);return{wc:n,hex:o(r)}}(e),s=n;i&&(s|=r);let c=new Int8Array(34);c[0]=s,c[1]=a,c.set(f,2);let l=new Uint8Array(36);return l.set(c),l.set(function(e){let t=0,n=new Uint8Array(e.length+2);n.set(e);for(let r of n){let e=128;for(;e>0;)t<<=1,r&e&&(t+=1),e>>=1,t>65535&&(t&=65535,t^=4129)}return new Uint8Array([Math.floor(t/256),t%256])}(c),34),(0,t.base64encode)(l,!1).replace(/\+/g,"-").replace(/\//g,"_")};var t=pa(),n=81,r=128;var i={};for(let a=0;a<=255;a++){let e=a.toString(16);e.length<2&&(e="0"+e),i[e]=a}function o(e){let t=(e=e.toLowerCase()).length;if(t%2!==0)throw new Error("Hex string must have length a multiple of 2: "+e);let n=t/2,r=new Uint8Array(n);for(let o=0;o<n;o++){let t=2*o,n=e.substring(t,t+2);if(!i.hasOwnProperty(n))throw new Error("Invalid hex character: "+n);r[o]=i[n]}return r}})),Ha=p((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.toUserFriendlyAddress=e.removeUrlLastSlash=e.addPathToUrl=void 0;var t=Xa();Object.defineProperty(e,"addPathToUrl",{enumerable:!0,get:function(){return t.addPathToUrl}}),Object.defineProperty(e,"removeUrlLastSlash",{enumerable:!0,get:function(){return t.removeUrlLastSlash}});var n=$a();Object.defineProperty(e,"toUserFriendlyAddress",{enumerable:!0,get:function(){return n.toUserFriendlyAddress}})})),qa=p((e=>{var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var r in e)"default"!==r&&!Object.prototype.hasOwnProperty.call(n,r)&&t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),e.toUserFriendlyAddress=e.removeUrlLastSlash=e.addPathToUrl=e.createVersionInfo=e.BrowserEventDispatcher=e.createTransactionSigningFailedEvent=e.createTransactionSignedEvent=e.createTransactionSentForSignatureEvent=e.createDisconnectionEvent=e.createConnectionStartedEvent=e.createConnectionRestoringStartedEvent=e.createConnectionRestoringErrorEvent=e.createConnectionRestoringCompletedEvent=e.createConnectionErrorEvent=e.createConnectionCompletedEvent=e.createResponseVersionEvent=e.createRequestVersionEvent=e.OKX_TON_CONNECTION_AND_TRANSACTION_EVENT=e.OKXTonConnect=void 0;var r=La();Object.defineProperty(e,"OKXTonConnect",{enumerable:!0,get:function(){return r.OKXTonConnect}}),n(pa(),e);var i=Ba();Object.defineProperty(e,"OKX_TON_CONNECTION_AND_TRANSACTION_EVENT",{enumerable:!0,get:function(){return i.OKX_TON_CONNECTION_AND_TRANSACTION_EVENT}}),Object.defineProperty(e,"createRequestVersionEvent",{enumerable:!0,get:function(){return i.createRequestVersionEvent}}),Object.defineProperty(e,"createResponseVersionEvent",{enumerable:!0,get:function(){return i.createResponseVersionEvent}}),Object.defineProperty(e,"createConnectionCompletedEvent",{enumerable:!0,get:function(){return i.createConnectionCompletedEvent}}),Object.defineProperty(e,"createConnectionErrorEvent",{enumerable:!0,get:function(){return i.createConnectionErrorEvent}}),Object.defineProperty(e,"createConnectionRestoringCompletedEvent",{enumerable:!0,get:function(){return i.createConnectionRestoringCompletedEvent}}),Object.defineProperty(e,"createConnectionRestoringErrorEvent",{enumerable:!0,get:function(){return i.createConnectionRestoringErrorEvent}}),Object.defineProperty(e,"createConnectionRestoringStartedEvent",{enumerable:!0,get:function(){return i.createConnectionRestoringStartedEvent}}),Object.defineProperty(e,"createConnectionStartedEvent",{enumerable:!0,get:function(){return i.createConnectionStartedEvent}}),Object.defineProperty(e,"createDisconnectionEvent",{enumerable:!0,get:function(){return i.createDisconnectionEvent}}),Object.defineProperty(e,"createTransactionSentForSignatureEvent",{enumerable:!0,get:function(){return i.createTransactionSentForSignatureEvent}}),Object.defineProperty(e,"createTransactionSignedEvent",{enumerable:!0,get:function(){return i.createTransactionSignedEvent}}),Object.defineProperty(e,"createTransactionSigningFailedEvent",{enumerable:!0,get:function(){return i.createTransactionSigningFailedEvent}}),Object.defineProperty(e,"BrowserEventDispatcher",{enumerable:!0,get:function(){return i.BrowserEventDispatcher}}),Object.defineProperty(e,"createVersionInfo",{enumerable:!0,get:function(){return i.createVersionInfo}});var o=Ha();Object.defineProperty(e,"addPathToUrl",{enumerable:!0,get:function(){return o.addPathToUrl}}),Object.defineProperty(e,"removeUrlLastSlash",{enumerable:!0,get:function(){return o.removeUrlLastSlash}}),Object.defineProperty(e,"toUserFriendlyAddress",{enumerable:!0,get:function(){return o.toUserFriendlyAddress}})})),Fa=p(((e,t)=>{!function(){var e={}.hasOwnProperty;function r(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=o(e,i(n)))}return e}function i(t){if("string"==typeof t||"number"==typeof t)return t;if("object"!=typeof t)return"";if(Array.isArray(t))return r.apply(null,t);if(t.toString!==Object.prototype.toString&&!t.toString.toString().includes("[native code]"))return t.toString();var n="";for(var i in t)e.call(t,i)&&t[i]&&(n=o(n,i));return n}function o(e,t){return t?e?e+" "+t:e+t:e}typeof t<"u"&&t.exports?(r.default=r,t.exports=r):"function"==typeof define&&n.amdO?define("classnames",[],(function(){return r})):window.classNames=r}()})),Ja=p(((e,t)=>{var n=function(e){return!!(t=e)&&"object"==typeof t&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===r}(e)}(e);var t};var r="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function i(e,t){return!1!==t.clone&&t.isMergeableObject(e)?c(function(e){return Array.isArray(e)?[]:{}}(e),e,t):e}function o(e,t,n){return e.concat(t).map((function(e){return i(e,n)}))}function a(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return Object.propertyIsEnumerable.call(e,t)})):[]}(e))}function f(e,t){try{return t in e}catch{return!1}}function s(e,t,n){var r={};return n.isMergeableObject(e)&&a(e).forEach((function(t){r[t]=i(e[t],n)})),a(t).forEach((function(o){(function(e,t){return f(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,o)||(f(e,o)&&n.isMergeableObject(t[o])?r[o]=function(e,t){if(!t.customMerge)return c;var n=t.customMerge(e);return"function"==typeof n?n:c}(o,n)(e[o],t[o],n):r[o]=i(t[o],n))})),r}function c(e,t,r){(r=r||{}).arrayMerge=r.arrayMerge||o,r.isMergeableObject=r.isMergeableObject||n,r.cloneUnlessOtherwiseSpecified=i;var a=Array.isArray(t);return a===Array.isArray(e)?a?r.arrayMerge(e,t,r):s(e,t,r):i(t,r)}c.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return c(e,n,t)}),{})};var l=c;t.exports=l})),Va=p((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.IJSONRpcProvider=e.IJSONRpcConnection=void 0;e.IJSONRpcConnection=class{};e.IJSONRpcProvider=class{constructor(e){}}})),za=p((e=>{Object.defineProperty(e,"__esModule",{value:!0})})),Ga=p((e=>{var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var r in e)"default"!==r&&!Object.prototype.hasOwnProperty.call(n,r)&&t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(Va(),e),n(za(),e)})),Za=p((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getRpcUrl=function(e,t,r){var i;let o=n(e);return(null===(i=t.rpcMap)||void 0===i?void 0:i[o.reference])||""},e.getChainId=function(e){return e.includes(":")?e.split(":")[1]:e},e.convertChainIdToNumber=function(e){return"number"==typeof e?e:e.includes("0x")?parseInt(e,16):(e=e.includes(":")?e.split(":")[1]:e,isNaN(Number(e))?e:Number(e))},e.parseChainId=n,e.mergeArrays=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return[...new Set([...e,...t])]};var t=":";function n(e){let[n,r]=e.split(t);return{namespace:n,reference:r}}})),Ya=p((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.setGlobal=e.getGlobal=void 0;var t={};e.getGlobal=e=>t[e];e.setGlobal=(e,n)=>{t[e]=n}})),Qa=p((e=>{var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var r in e)"default"!==r&&!Object.prototype.hasOwnProperty.call(n,r)&&t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(Za(),e),n(Ya(),e)})),ef=p((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GENERIC_SUBPROVIDER_NAME=e.RPC_URL=e.STORAGE=e.CONTEXT=e.WC_VERSION=e.PROTOCOL=e.RELAY_URL=e.LOGGER=void 0,e.LOGGER="error",e.RELAY_URL="wss://relay.walletconnect.com",e.PROTOCOL="wc",e.WC_VERSION=2,e.CONTEXT="universal_provider",e.STORAGE=`${e.PROTOCOL}@${e.WC_VERSION}:${e.CONTEXT}:`,e.RPC_URL="https://rpc.walletconnect.com/v1/",e.GENERIC_SUBPROVIDER_NAME="generic"})),tf=p((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PROVIDER_EVENTS=void 0,e.PROVIDER_EVENTS={DEFAULT_CHAIN_CHANGED:"default_chain_changed",UPDATE_NAMESPACES:"update_name_spaces"}})),nf=p((e=>{var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var r in e)"default"!==r&&!Object.prototype.hasOwnProperty.call(n,r)&&t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(ef(),e),n(tf(),e)})),rf=p((e=>{var t=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(t){o(t)}}function f(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,f)}s((r=r.apply(e,t||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.JsonRpcProvider=void 0;var n=m(),r=Ga(),i=pa(),o=pa(),a=class extends r.IJSONRpcProvider{constructor(e){super(e),this.events=new n.EventEmitter,this.connected=!1,this.connecting=!1,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}connect(){return t(this,arguments,void 0,(function(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.connection;return function*(){yield e.open(t)}()}))}disconnect(){return t(this,void 0,void 0,(function*(){yield this.close()}))}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}request(e,n){return t(this,void 0,void 0,(function*(){return this.requestStrict((0,i.formatJsonRpcRequest)(e.method,e.params||[],(0,i.getBigIntRpcId)().toString()),n)}))}requestStrict(e,n){return t(this,void 0,void 0,(function*(){return new Promise(((r,a)=>t(this,void 0,void 0,(function*(){if(!this.connection.connected)try{yield this.open()}catch(t){a(t)}this.events.on(`${e.id}`,(e=>{(0,i.isJsonRpcError)(e)?a(e.error):r(e.result)}));try{(0,o.logDebug)("[RPC] >>> send request",e,n),yield this.connection.send(e,n)}catch(t){a(t)}}))))}))}setConnection(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.connection}onPayload(e){this.events.emit("payload",e),(0,i.isJsonRpcResponse)(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&3e3===e.code&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}open(){return t(this,arguments,void 0,(function(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.connection;return function*(){e.connection===t&&e.connection.connected||(e.connection.connected&&e.close(),"string"==typeof t&&(yield e.connection.open(t),t=e.connection),e.connection=e.setConnection(t),yield e.connection.open(),e.registerEventListeners(),e.events.emit("connect"))}()}))}close(){return t(this,void 0,void 0,(function*(){yield this.connection.close()}))}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",(e=>this.onPayload(e))),this.connection.on("close",(e=>this.onClose(e))),this.connection.on("error",(e=>this.events.emit("error",e))),this.connection.on("register_error",(e=>this.onClose())),this.hasRegisteredEventListeners=!0)}};e.JsonRpcProvider=a})),of=p((e=>{var t=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(t){o(t)}}function f(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,f)}s((r=r.apply(e,t||[])).next())}))},n=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.JsonRpcConnection=void 0;var r=m(),i=n(ga()),o=pa(),a=pa(),f={headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"};e.JsonRpcConnection=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.url=e,this.disableProviderPing=t,this.events=new r.EventEmitter,this.isAvailable=!1,this.registering=!1,!(0,a.isHttpUrl)(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=t}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}open(){return t(this,arguments,void 0,(function(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.url;return function*(){yield e.register(t)}()}))}close(){return t(this,void 0,void 0,(function*(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}))}send(e){return t(this,void 0,void 0,(function*(){this.isAvailable||(yield this.register());try{let t=(0,o.safeJsonStringify)(e),n=yield(yield(0,i.default)(this.url,Object.assign(Object.assign({},f),{body:t}))).json();this.onPayload({data:n})}catch(xf){this.onError(e.id,xf)}}))}register(){return t(this,arguments,void 0,(function(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.url;return function*(){if(!(0,a.isHttpUrl)(t))throw new Error(`Provided URL is not compatible with HTTP connection: ${t}`);if(e.registering)return new Promise(((t,n)=>{e.events.once("register_error",(e=>{n(e)})),e.events.once("open",(()=>{if(typeof e.isAvailable>"u")return n(new Error("HTTP connection is missing or invalid"));t()}))}));e.url=t,e.registering=!0;try{if(!e.disableProviderPing){let e=(0,o.safeJsonStringify)({id:1,jsonrpc:"2.0",method:"test",params:[]});yield(0,i.default)(t,Object.assign(Object.assign({},f),{body:e}))}e.onOpen()}catch(xf){let n=e.parseError(xf);throw e.events.emit("register_error",n),e.onClose(),n}}()}))}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;let t="string"==typeof e.data?(0,o.safeJsonParse)(e.data):e.data;this.events.emit("payload",t)}onError(e,t){let n=this.parseError(t),r=n.message||n.toString(),i=(0,a.formatJsonRpcError)(e,r);this.events.emit("payload",i)}parseError(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.url;return(0,a.parseConnectionError)(e,t,"HTTP")}}})),af=p((e=>{var t=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(t){o(t)}}function f(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,f)}s((r=r.apply(e,t||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.Eip155Provider=void 0;var n=Qa(),r=nf(),i=pa(),o=rf(),a=of(),f=class{constructor(e){this.name="eip155",this.namespace=e.namespace,this.events=(0,n.getGlobal)("events"),this.client=(0,n.getGlobal)("client"),this.chainId=parseInt(this.getDefaultChain()),this.httpProviders=this.createHttpProviders(),(0,i.logDebug)("eip155 constructor --opts.namespace--\x3e",e.namespace)}isRecord(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}isArray(e){return"object"==typeof e&&null!==e&&Array.isArray(e)}updateRequestParams(e){let t=e.params&&"object"==typeof e.params&&!Array.isArray(e.params);if("wallet_switchEthereumChain"===e.method){let n=e.chainId.split(":")[1],r=parseInt(n,10);if(isNaN(r))throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Invalid decimal number,  chainId: '${n}' `);if(e.params){if(!t)throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Request params error ,  method: '${e.method}' `);{let t=e.params;"chainId"in t||(t.chainId="0x"+r.toString(16),e.params=t)}}else e.params={chainId:"0x"+r.toString(16)}}else if("personal_sign"===e.method||"eth_signTypedData_v4"===e.method||"eth_sendTransaction"===e.method||"wallet_watchAsset"===e.method){if(!e.params)throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Request params is nil, method: '${e.method}'`);if(!this.isRecord(e.params))throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Invalid request params type, method: '${e.method}'`);{let t=e.params;if((0,i.logDebug)("eip155 updateRequestParams params>",JSON.stringify(t)),"chainId"in t){let n,r=e.chainId.split(":")[1],o=parseInt(r,10),a=String(t.chainId);if(a.startsWith(this.name)&&e.chainId===a)n=o;else if(a.startsWith("0x"))n=parseInt(a,16);else{if(isNaN(Number(a)))throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Invalid params.chainId format, method: '${e.method}'`);n=parseInt(a,10)}if(o!==n)throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Request params.chainId not equal chain,  method: '${e.method}' `)}}}}adaptArray(e){if("wallet_switchEthereumChain"===e.method||"wallet_addEthereumChain"===e.method||"wallet_watchAsset"===e.method||"eth_sendTransaction"===e.method){if(this.isArray(e.params)){let t=e.params;if(t){if(1!==t.length)throw t.length>1?new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params only Support one data,  method: '${e.method}' `):new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params is nil,  method: '${e.method}' `);{let t=e.params[0];this.isRecord(t)&&(e.params=t)}}}}else if("eth_signTypedData_v4"===e.method){if(this.isArray(e.params)){let t=e.params;if(t&&t.length>2)throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params only Support one data,  method: '${e.method}' `);if(t&&0===t.length)throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params is nil,  method: '${e.method}' `);let n={};if(t&&2===t.length){let t=e.params[0];if(!t||"string"!=typeof t)throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params address error , not string,  method: '${e.method}' `);{let r=!1;if(this.namespace.accounts.forEach((e=>{e.split(":")[2]===t&&(r=!0)})),(0,i.logDebug)("eip155 adaptArray eth_signTypedData_v4 >>>isEqual: ",r),!r)throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params address error, not equal,  method: '${e.method}' `);if(!this.isRecord(e.params[1]))throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params message data error,  method: '${e.method}' `);n=e.params[1]}}else if(t&&1===t.length){if(!this.isRecord(e.params[0]))throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params message data error,  method: '${e.method}' `);n=e.params[0]}try{let t=JSON.stringify(n);e.params={typedDataJson:t}}catch{throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params call JSON.stringify() failed,  method: '${e.method}' `)}}}else if("personal_sign"===e.method&&this.isArray(e.params)){if(e.params&&e.params.length>2)throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params error,  method: '${e.method}' `);if(e.params&&0===e.params.length)throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params is nil,  method: '${e.method}' `);let t=e.params[0],n=e.params[1];if(n&&"string"==typeof n){let t=!1;if(this.namespace.accounts.forEach((e=>{e.split(":")[2]===n&&(t=!0)})),(0,i.logDebug)("eip155 adaptArray personal_sign >>>isEqual: ",t),!t)throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params address error,  method: '${e.method}' `)}if(!t||"string"!=typeof t)throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params is error,  method: '${e.method}' `);e.params={message:t}}}showRequestModal(e){switch(e.method){case"eth_requestAccounts":case"eth_accounts":case"eth_chainId":default:return!1;case"eth_sendTransaction":case"eth_signTransaction":case"eth_sign":case"personal_sign":case"eth_signTypedData":case"wallet_addEthereumChain":case"wallet_watchAsset":case"eth_signTypedData_v4":return!0;case"wallet_switchEthereumChain":{this.adaptArray(e),this.updateRequestParams(e);let{parsedChainId:t,hexChainId:n}=this.getHexChainIdFromRequest(e);return!this.isChainApproved(t)}}return!1}request(e){return t(this,void 0,void 0,(function*(){switch(this.adaptArray(e),(0,i.logDebug)("eip155 request --args--string>",JSON.stringify(e)),this.updateRequestParams(e),(0,i.logDebug)("eip155 request --params--string>",JSON.stringify(e)),e.method){case"eth_requestAccounts":case"eth_accounts":return this.getAccounts();case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_switchEthereumChain":return yield this.handleSwitchChain(e);case"wallet_addEthereumChain":return this.addEthereumChain(e)}if(!this.namespace.methods.includes(e.method))return(0,i.logDebug)("[RPC] request begin"),yield this.getHttpProvider().request(e);try{let t=yield this.client.request(e);if((0,i.logDebug)("eip155 request --response----string>",JSON.stringify(t)),this.isRecord(t)&&"result"in t){let e=t.result;return!e||"string"!=typeof e||"true"!==e&&"false"!==e?t.result:((0,i.logDebug)("eip155 request --wallet_watchAsset>>>>","true"===e),"true"===e)}return t}catch(xf){throw(0,i.logDebug)(`eip155 request --response --error--string> e instanceof OKXConnectError ${xf instanceof i.OKXConnectError}`,JSON.stringify(xf)),xf}}))}addEthereumChain(e){return t(this,void 0,void 0,(function*(){let t=yield this.client.request(e);try{if("result"in t){let n=t.result;if(n){let t=n.split(":")[0],i=n.split(":")[1],o=t+":"+i;this.namespace;if(this.namespace.accounts.push(n),this.namespace.chains.push(o),this.isRecord(e.params)&&"rpcUrls"in e.params){let t=e.params.rpcUrls,n=t?t[0]:void 0;n&&(this.namespace.rpcMap?this.namespace.rpcMap[i]=n:this.namespace.rpcMap={[i]:n},this.setHttpProvider(i,n))}this.events.emit(r.PROVIDER_EVENTS.UPDATE_NAMESPACES,{eip155:this.namespace})}}else new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`the method ${e.method} request error`)}catch{throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`the method ${e.method} request  error`)}return null}))}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,t){if(this.chainId=parseInt(e),!this.httpProviders[e]){let r=t||(0,n.getRpcUrl)(`${this.name}:${e}`,this.namespace);r?this.setHttpProvider(e,r):(0,i.logError)(`No RPC url provided for chainId: ${e}`)}this.events.emit(r.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){let e=this.namespace.accounts;return(0,i.logDebug)("eip155 getAccounts ",e,this.chainId),e?[...new Set(e.filter((e=>e.split(":")[1]===this.chainId.toString())).map((e=>e.split(":")[2])))]:[]}getHexChainIdFromRequest(e){let t=e.params,n="0x0";t&&"chainId"in t&&(n=t.chainId),n=n.startsWith("0x")?n:`0x${n}`,(0,i.logDebug)("handleSwitchChain --\x3eargs ",e),(0,i.logDebug)("handleSwitchChain --\x3ehexChainId ",n);let r=parseInt(n,16);return(0,i.logDebug)("handleSwitchChain --\x3eparsedChainId ",r),{parsedChainId:r,hexChainId:n}}handleSwitchChain(e){return t(this,void 0,void 0,(function*(){let{parsedChainId:t,hexChainId:n}=this.getHexChainIdFromRequest(e);if(this.isChainApproved(t))this.setDefaultChain(`${t}`);else{let o=yield this.client.request({method:"wallet_switchEthereumChain",chainId:e.chainId,params:{chainId:n}});try{if("result"in o){let e=o.result;if(e){let n=e.split(":")[0]+":"+e.split(":")[1];this.namespace;this.namespace.accounts.push(e),this.namespace.chains.push(n),(0,i.logDebug)("handleSwitchChain --\x3ewallet_switchEthereumChain ",o),this.setDefaultChain(`${t}`),this.events.emit(r.PROVIDER_EVENTS.UPDATE_NAMESPACES,{eip155:this.namespace})}}else new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`the method ${e.method} request error`)}catch{throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`the method ${e.method} request  error`)}}return null}))}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}createHttpProvider(e,t){let r=t;if(r)return new o.JsonRpcProvider(new a.JsonRpcConnection(r,(0,n.getGlobal)("disableProviderPing")));(0,i.logError)(`No RPC url provided for chainId: ${e}`)}createHttpProviders(){let e={};return this.namespace.chains.forEach((t=>{let r=(0,n.getChainId)(t),o=(0,n.getRpcUrl)(t,this.namespace);(0,i.logDebug)("get parsed chain and rpc:",r,o);let a=this.createHttpProvider(r,o);a&&(e[r]=a)})),(0,i.logDebug)("get http providermap:",e),e}setHttpProvider(e,t){let n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}getHttpProvider(){let e=`${this.chainId}`,t=this.httpProviders[e];if((0,i.logDebug)("[RPC] get http provider:",e,t),typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}};e.Eip155Provider=f,e.default=f})),ff=p((e=>{var t=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(t){o(t)}}function f(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,f)}s((r=r.apply(e,t||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.SuiProvider=void 0;var n=nf(),r=pa(),i=Qa(),o=of(),a=rf(),f=class{constructor(e){this.name=r.NameSpaceKeySui,this.namespace=e.namespace,this.events=(0,i.getGlobal)("events"),this.client=(0,i.getGlobal)("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}request(e){return t(this,void 0,void 0,(function*(){return(0,r.logDebug)("sui request --args--string>",JSON.stringify(e)),(0,r.logDebug)("sui provider namespace: ",this.namespace),this.namespace.methods.includes(e.method)?this.client.request(e):this.getHttpProvider().request(e)}))}requestAccounts(){return this.getAccounts()}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(n.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter((e=>e.split(":")[1]===this.chainId.toString())).map((e=>e.split(":")[2])))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach((t=>{let n=(0,i.getChainId)(t),r=(0,i.getRpcUrl)(t,this.namespace),o=this.createHttpProvider(n,r);o&&(e[n]=o)})),e}getHttpProvider(){let e=`${this.chainId}`,t=this.httpProviders[e];if((0,r.logDebug)("[RPC] get http provider:",e,t),typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let n=this.createHttpProvider(e,t);n&&((0,r.logDebug)("setHttpProvider",e,t),this.httpProviders[e]=n)}createHttpProvider(e,t){let n=t;if(n)return new a.JsonRpcProvider(new o.JsonRpcConnection(n,(0,i.getGlobal)("disableProviderPing")));(0,r.logError)(`No RPC url provided for chainId: ${e}`)}getPubkey(e){return this.getWalletAddress(e)}getWalletAddress(e){return e||(e=this.namespace.defaultChain,e?.startsWith("sui")||(e=`sui:${e}`)),this.namespace.accounts.filter((function(t){return t.split(":").length>2&&t.startsWith(e)})).map((function(e){return e.split(":")[2]}))[0]}showRequestModal(e){switch(e.method){case"sui_signMessage":case"sui_signPersonalMessage":case"sui_signTransactionBlock":case"sui_signAndExecuteTransactionBlock":return!0;default:return!1}return!1}};e.SuiProvider=f,e.default=f})),sf=p((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getAccountsChains=function(e){let t=[];return e.forEach((e=>{let[n,r]=e.split(":");t.push(`${n}:${r}`)})),t},e.nameSpaceToConnectWalletNameSpace=function(e){var n=[];return e&&Object.keys(e).forEach((r=>{(r===t.NameSpaceKeyEip155||r===t.NameSpaceKeySOL||r===t.NameSpaceKeySui||r===t.NameSpaceKeyAptos||r==t.NameSpaceKeyBtc||r===t.NameSpaceKeyTON)&&e[r].chains&&n.push({namespace:r,chains:e[r].chains,params:e[r].params})})),n},e.fillParamsToSession=function(e,t,n,r){let i=(e,t)=>{Object.assign(e,t)},o=(e,t)=>{for(let n in t)t.hasOwnProperty(n)&&t[n].rpcMap&&(t[n].rpcMap&&(e[n].rpcMap||(e[n].rpcMap={}),i(e[n].rpcMap,t[n].rpcMap)),t[n].defaultChain&&void 0===e[n].defaultChain&&e[n].chains.some((e=>e.split(":")[1]===t[n].defaultChain))&&(e[n].defaultChain=t[n].defaultChain))};t&&o(e.namespaces,t),n&&o(e.namespaces,n),e.sessionConfig=r},e.isCaipNamespace=n,e.parseNamespaceKey=function(e){return n(e)?e.split(":")[0]:e};var t=pa();function n(e){return e.includes(":")}})),cf=p((e=>{var t=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(t){o(t)}}function f(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,f)}s((r=r.apply(e,t||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.SignClient=void 0;var n=pa(),r=sf(),o=Qa(),a=class extends n.ISignClient{constructor(e){super(e),this.engine=new n.Engine(new n.ConnectionManager),this.connect=e=>t(this,void 0,void 0,(function*(){return new Promise(((t,i)=>{var o=[];(0,n.logDebug)("client connect params >>>",JSON.stringify(e));var a={name:"requestAccounts",requiredNamespaces:(0,r.nameSpaceToConnectWalletNameSpace)(e.namespaces),optionalNamespaces:(0,r.nameSpaceToConnectWalletNameSpace)(e.optionalNamespaces)};(0,n.logDebug)("client connect connectRequest >>>",JSON.stringify(o)),o.push(a),this.engine.universalConnect(o,Object.assign({dappInfo:this.metadata},e.sessionConfig),(e=>{if(e&&e.connectRequest){var t=(0,n.encodeConnectParams)(e.connectRequest);this.events.emit("display_uri",(0,n.getUniversalLink)((0,n.getAppWalletDeepLink)(t))),(0,n.logDebug)(`universalConect EngineConnectInfo  ${JSON.stringify(e)}`),this.events.emit("okx_engine_connect_params",e)}})).then((i=>{(0,r.fillParamsToSession)(i,e.namespaces,e.optionalNamespaces,this.sessionConfig),(0,n.logDebug)(`signClient: connect: session ${JSON.stringify(i)}`),t(i)})).catch((e=>{(0,n.logDebug)(`signClient: connect: catch ${JSON.stringify(e)}`),this.events.emit("connect_error",e),i(e)}))}))})),this.restoreconnect=e=>t(this,void 0,void 0,(function*(){return new Promise(((t,n)=>{this.engine.restoreconnect(e,(e=>{t(e)}))}))})),this.reject=e=>t(this,void 0,void 0,(function*(){})),this.request=e=>t(this,void 0,void 0,(function*(){return new Promise(((r,i)=>t(this,void 0,void 0,(function*(){var t,o;(0,n.logDebug)("clint request --params>>>> >",this.engine.connectionManager.getCurrentConnectionReady(),null===(t=this.sessionConfig)||void 0===t?void 0:t.openUniversalUrl,JSON.stringify(e));try{!(null===(o=this.sessionConfig)||void 0===o)&&o.openUniversalUrl&&(0,n.isIos)()&&this.openOKXWallet(),yield this.engine.send(e,{resolve:e=>{if(delete e.requestId,(0,n.logDebug)("clint request --response >",JSON.stringify(e)),"error"in e&&e.error){let t=e.error;i(new n.OKXConnectError(e.error.code,e.method+":"+t.message))}else r(e)},onAck:()=>{var e;!(0,n.isIos)()&&null!==(e=this.sessionConfig)&&void 0!==e&&e.openUniversalUrl&&this.openOKXWallet()}})}catch(a){i(a)}}))))})),this.disconnect=()=>t(this,void 0,void 0,(function*(){return new Promise(((e,t)=>{this.engine.send({method:"disconnect"},{onAck:()=>{e()}}).catch((e=>{i.log(`disconnect : ${JSON.stringify(e)}`),t(e)}))}))})),this.events=(0,o.getGlobal)("events"),this.metadata=e}openOKXWallet(){(0,n.logDebug)("bridge-provider ==>> connect_5"),(0,n.openOKXDeeplink)(n.standardDeeplink)}};e.SignClient=a})),lf=p((e=>{var t=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(t){o(t)}}function f(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,f)}s((r=r.apply(e,t||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.SolanaProvider=void 0;var n=nf(),r=pa(),i=Qa(),o=of(),a=rf(),f=class{constructor(e,t){this.name="solana",this.namespace=e.namespace,this.events=(0,i.getGlobal)("events"),this.client=(0,i.getGlobal)("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders(),this.name=t}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return t(this,void 0,void 0,(function*(){return(0,r.logDebug)("solana request --args--string>",JSON.stringify(e)),(0,r.logDebug)("solana provider namespace: ",this.namespace),this.namespace.methods.includes(e.method)?this.client.request(e):this.getHttpProvider().request(e)}))}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(n.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter((e=>e.split(":")[1]===this.chainId.toString())).map((e=>e.split(":")[2])))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach((t=>{let n=(0,i.getChainId)(t),r=(0,i.getRpcUrl)(t,this.namespace),o=this.createHttpProvider(n,r);o&&(e[n]=o)})),e}getHttpProvider(){let e=`${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){let n=t;if(n)return new a.JsonRpcProvider(new o.JsonRpcConnection(n,(0,i.getGlobal)("disableProviderPing")));(0,r.logError)(`No RPC url provided for chainId: ${e}`)}getPubkey(e){return this.getWalletAddress(e)}getWalletAddress(e){return e||(e=this.namespace.defaultChain,e?.startsWith("solana")||(e=`solana:${e}`)),this.namespace.accounts.filter((function(t){return t.split(":").length>2&&t.startsWith(e)})).map((function(e){return e.split(":")[2]}))[0]}showRequestModal(e){return!0}};e.SolanaProvider=f,e.default=f})),df=p((e=>{var t=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(t){o(t)}}function f(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,f)}s((r=r.apply(e,t||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});var n=nf(),r=pa(),i=Qa(),o=of(),a=rf();e.default=class{constructor(e,t){this.name=r.NameSpaceKeyBtc,this.namespace=e.namespace,this.events=(0,i.getGlobal)("events"),this.client=(0,i.getGlobal)("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders(),this.name=t}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return t(this,void 0,void 0,(function*(){return(0,r.logDebug)("btc request --args--string>",JSON.stringify(e)),(0,r.logDebug)("btc provider namespace: ",JSON.stringify(this.namespace)),this.namespace.methods.includes(e.method)?this.client.request(e):this.getHttpProvider().request(e)}))}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(n.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter((e=>e.split(":")[1]===this.chainId.toString())).map((e=>e.split(":")[2])))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach((t=>{let n=(0,i.getChainId)(t),r=(0,i.getRpcUrl)(t,this.namespace),o=this.createHttpProvider(n,r);o&&(e[n]=o)})),e}getHttpProvider(){let e=`${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){let n=t;if(n)return new a.JsonRpcProvider(new o.JsonRpcConnection(n,(0,i.getGlobal)("disableProviderPing")));(0,r.logError)(`No RPC url provided for chainId: ${e}`)}showRequestModal(e){return!0}}})),uf=p((e=>{var t=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(t){o(t)}}function f(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,f)}s((r=r.apply(e,t||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});var n=nf(),r=pa(),i=Qa(),o=of(),a=rf();e.default=class{constructor(e,t){this.name="aptos",this.namespace=e.namespace,this.events=(0,i.getGlobal)("events"),this.client=(0,i.getGlobal)("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders(),this.name=t}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return t(this,void 0,void 0,(function*(){return(0,r.logDebug)("solana request --args--string>",JSON.stringify(e)),(0,r.logDebug)("solana provider namespace: ",this.namespace),this.namespace.methods.includes(e.method)?this.client.request(e):this.getHttpProvider().request(e)}))}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(n.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter((e=>e.split(":")[1]===this.chainId.toString())).map((e=>e.split(":")[2])))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach((t=>{let n=(0,i.getChainId)(t),r=(0,i.getRpcUrl)(t,this.namespace),o=this.createHttpProvider(n,r);o&&(e[n]=o)})),e}getHttpProvider(){let e=`${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){let n=t;if(n)return new a.JsonRpcProvider(new o.JsonRpcConnection(n,(0,i.getGlobal)("disableProviderPing")));(0,r.logError)(`No RPC url provided for chainId: ${e}`)}showRequestModal(e){return!0}}})),hf=p((e=>{var t=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(t){o(t)}}function f(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,f)}s((r=r.apply(e,t||[])).next())}))},n=e&&e.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(e,"__esModule",{value:!0});var r=nf(),i=pa(),o=Qa(),a=of(),f=rf();e.default=class{constructor(e){this.name=i.NameSpaceKeyTON,this.namespace=e.namespace,this.events=(0,o.getGlobal)("events"),this.client=(0,o.getGlobal)("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}isRecord(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}request(e){return t(this,void 0,void 0,(function*(){var t,r,o,a;if((0,i.logDebug)("TONProvider request --args--string>",JSON.stringify(e)),(0,i.logDebug)("TONProvider request provider namespace: ",this.namespace),this.namespace.methods.includes(e.method)){if(!e.params)throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"ton request params is nil");if(this.isRecord(e.params)){let f=e.params,{validUntil:s}=f,c=n(f,["validUntil"]),l=null===(r=null===(t=this.namespace.payload)||void 0===t?void 0:t.ton_addr)||void 0===r?void 0:r.address;"from"in c&&(l=c.from||(null===(a=null===(o=this.namespace.payload)||void 0===o?void 0:o.ton_addr)||void 0===a?void 0:a.address)),e.params.from=l,e.params.network=this.getDefaultChain(),e.params.valid_until=s;let d=yield this.client.request(e);if(this.isRecord(d)&&"result"in d){let e={boc:d.result.toString()};return(0,i.logDebug)("TONProvider request provider response: ",JSON.stringify(d)),(0,i.logDebug)("TONProvider request provider result: ",JSON.stringify(e)),e}throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"ton_send request response is nil")}throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"ton request params type add nil")}return this.getHttpProvider().request(e)}))}requestAccounts(){return this.getAccounts()}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(r.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){var e,t;let n=this.namespace.accounts;if((0,i.logDebug)("ton getAccounts accounts :",n),(0,i.logDebug)("ton getAccounts .namespace :",JSON.stringify(this.namespace)),!n)return[];let r=null===(t=null===(e=this.namespace.payload)||void 0===e?void 0:e.ton_addr)||void 0===t?void 0:t.address;return(0,i.logDebug)("ton getAccounts address :",r),r?[r]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach((t=>{let n=(0,o.getChainId)(t),r=(0,o.getRpcUrl)(t,this.namespace),i=this.createHttpProvider(n,r);i&&(e[n]=i)})),e}getHttpProvider(){let e=`${this.chainId}`,t=this.httpProviders[e];if((0,i.logDebug)("[RPC] get http provider:",e,t),typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let n=this.createHttpProvider(e,t);n&&((0,i.logDebug)("setHttpProvider",e,t),this.httpProviders[e]=n)}createHttpProvider(e,t){let n=t;if(n)return new f.JsonRpcProvider(new a.JsonRpcConnection(n,(0,o.getGlobal)("disableProviderPing")));(0,i.logError)(`No RPC url provided for chainId: ${e}`)}showRequestModal(e){return"ton_sendTransaction"===e.method}}})),pf=p((e=>{var t=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(t){o(t)}}function f(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,f)}s((r=r.apply(e,t||[])).next())}))},n=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.OKXUniversalProvider=void 0;var r=Qa(),i=af(),o=ff(),a=nf(),f=n(m()),s=cf(),c=pa(),l=sf(),d=n(lf()),u=n(df()),h=n(uf()),p=n(hf()),b=class e{static init(n){return t(this,void 0,void 0,(function*(){let t=new e(n);return yield t.initialize(),t}))}getUniversalProvider(){return this}constructor(e){this.rpcProviders={},this.events=new f.default,this.providerOpts=e}request(e,n){return t(this,void 0,void 0,(function*(){if(!this.connected())throw new c.OKXConnectError(c.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR);let{namespace:t,requestParam:r}=this.buildRequestParamFromRequest(e,n);return yield this.getProvider(t).request(r)}))}buildRequestParamFromRequest(e,t){(0,c.logDebug)("UniversalProvider request args >>>: ",t,JSON.stringify(e));let[n,r]=this.validateChain(t);if(!this.session)throw new c.OKXConnectError(c.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Please call connect() before request()");let i=Object.keys(this.session.namespaces);if(!t&&i&&i.length>1)throw new c.OKXConnectError(c.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,"Multiple chains have been linked, the request method requires chain");return(0,c.logDebug)("UniversalProvider request >>args>>>: ",e),{namespace:n,requestParam:Object.assign(Object.assign({},e),{chainId:`${n}:${r}`})}}enable(){return t(this,void 0,void 0,(function*(){if(!this.client)throw new c.OKXConnectError(c.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Sign Client not initialized");if(!this.session){if(!this.connectOpts)throw new c.OKXConnectError(c.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Sign Client not initialized");yield this.connect(this.connectOpts)}return yield this.requestAccounts()}))}disconnect(){return t(this,void 0,void 0,(function*(){if(!this.session)throw new c.OKXConnectError(c.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR);return new Promise((e=>t(this,void 0,void 0,(function*(){let n=!1,r=()=>t(this,void 0,void 0,(function*(){n||(n=!0,yield this.disconnectAndEmit(),yield this.cleanup(),e(),(0,c.logDebug)("UniversalProvider disconnect Disconnected"))}));try{yield this.client.disconnect(),yield r()}catch{yield r()}}))))}))}disconnectAndEmit(){var e,t;this.client.engine.connectionManager.disconnect(),this.events.emit("disconnect",{topic:null===(e=this.session)||void 0===e?void 0:e.topic}),this.events.emit("session_delete",{topic:null===(t=this.session)||void 0===t?void 0:t.topic})}aptosChainNameToGeneralId(e){return"aptos:mainnet"==e?"aptos:637":"movement:testnet"==e?"aptos:70000060":e}replaceAptos(e){var t,n;let r=null===(t=e.namespaces)||void 0===t?void 0:t.aptos;if(null!=r){let t=this.replaceAptosInner(r);null!=e.namespaces&&"aptos"in e.namespaces&&null!=t&&(e.namespaces.aptos=t)}let i=null===(n=e.optionalNamespaces)||void 0===n?void 0:n.aptos;if(null!=i){let t=this.replaceAptosInner(i);null!=e.optionalNamespaces&&"aptos"in e.optionalNamespaces&&null!=t&&(e.optionalNamespaces.aptos=t)}return e}replaceAptosInner(e){var t;return null!=e&&(e.chains=null===(t=e.chains)||void 0===t?void 0:t.map((e=>this.aptosChainNameToGeneralId(e))),null!=e.defaultChain&&(e.defaultChain=this.aptosChainNameToGeneralId(e.defaultChain))),e}connected(){let e=()=>{try{this.cleanup(),this.client.engine.connectionManager.disconnect()}catch(xf){(0,c.logDebug)("Error during disconnect:",xf)}};try{return!!this.session&&(!!this.client.engine.connectionManager.getCurrentConnectionReady()||(e(),!1))}catch{return e(),!1}}connect(e){return t(this,void 0,void 0,(function*(){if(!this.client)throw new c.OKXConnectError(c.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Sign Client not initialized");if(e=this.replaceAptos(e),this.connected())return this.session;(0,c.logDebug)("OKXUniversalProvider connect >>>>",JSON.stringify(e)),void 0===e.sessionConfig&&(e.sessionConfig={}),void 0===e.sessionConfig.openUniversalUrl&&(e.sessionConfig.openUniversalUrl=(0,c.isMobileUserAgent)()),this.setNamespaces(e);try{(0,c.logDebug)(`UniversalProvider connect opts.stringify ====> ${JSON.stringify(e)}`);let t=yield this.client.connect(e);return(0,c.logDebug)(`UniversalProvider connect success ====> ${JSON.stringify(t)}`),t?(this.session=t,this.onConnect(),t):void 0}catch(xf){throw(0,c.logDebug)("UniversalProvider connect error ====> ",JSON.stringify(xf)),xf}}))}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}removeListener(e,t){this.events.removeListener(e,t)}off(e,t){this.events.off(e,t)}setDefaultChain(e,t){e=this.aptosChainNameToGeneralId(e);try{if(!this.connected())return;let[n,r]=this.validateChain(e);this.getProvider(n).setDefaultChain(r,t)}catch(n){if(!/Please call connect/.test(n.message))throw n}}checkStorage(){return t(this,void 0,void 0,(function*(){let e=yield this.getFromStore("connectSession");if((0,c.logDebug)(e),e){let t=e;this.session=t,this.client.session=this.session,this.sessionConfig=t.sessionConfig,this.client.sessionConfig=this.sessionConfig,(0,c.logDebug)("[evm u-provider] do reconnection",this.session),yield this.client.restoreconnect(t),this.createProviders(),this.registerEventListeners(),setTimeout((()=>{this.events.emit("reconnect",{session:this.session})}),100)}}))}initialize(){return t(this,void 0,void 0,(function*(){let e=Object.assign({url:window.location.hostname,origin:window.location.origin},this.providerOpts.dappMetaData);(0,r.setGlobal)("events",this.events),this.client=new s.SignClient(e),(0,r.setGlobal)("client",this.client),yield this.checkStorage()}))}createProviders(){if(!this.client)throw new c.OKXConnectError(c.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Sign Client not initialized");if(!this.connected())throw new c.OKXConnectError(c.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Session not initialized. Please call connect() before enable()");[...new Set(Object.keys(this.session.namespaces).map((e=>(0,l.parseNamespaceKey)(e))))].forEach((e=>{if(!this.session)return;let t=this.session.namespaces[e];switch((0,c.logDebug)("init eip155 >> ",t),e){case"eip155":let n={namespace:t};this.rpcProviders[e]=new i.Eip155Provider(n);break;case"solana":let r={namespace:t},a=new d.default(r,"solana");this.rpcProviders[e]=a;let f=new d.default(r,"sonic");this.rpcProviders.sonic=f;let s=new d.default(r,"svm");this.rpcProviders.svm=s;break;case"ton":let c={namespace:t},l=new p.default(c);this.rpcProviders[e]=l;break;case"sui":let b={namespace:t},g=new o.SuiProvider(b);g.name="sui",this.rpcProviders[e]=g;break;case"btc":let v={namespace:t},y=new u.default(v,"btc");this.rpcProviders.btc=y;let m=new u.default(v,"fractal");this.rpcProviders.fractal=m;break;case"aptos":let C=new h.default({namespace:t},"aptos");this.rpcProviders[e]=C}}))}registerEventListeners(){if(typeof this.client>"u")throw new c.OKXConnectError(c.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Sign Client is not initialized");this.client.engine.addDisconnectListener((()=>{this.disconnectAndEmit(),this.cleanup()})),this.on(a.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,(e=>{this.onChainChanged(e)})),this.on(a.PROVIDER_EVENTS.UPDATE_NAMESPACES,(e=>{if(e){let t=Object.keys(e)[0];this.session&&(this.session.namespaces[t]=e[t],this.session&&(this.persist("connectSession",this.session),this.events.emit("session_update",this.session)),(0,c.logDebug)("PROVIDER_EVENTS.UPDATE_NAMESPACES this.session... ->>>",JSON.stringify(this.session)))}}))}getProvider(e){return(0,c.logDebug)("current get providers",this.rpcProviders),(0,c.logDebug)("query namespace: ",e),this.rpcProviders[e]}setNamespaces(e){this.connectOpts=e;let{namespaces:t,sessionConfig:n}=e,r={origin:window.location.origin,url:window.location.hostname,name:this.providerOpts.dappMetaData.name,icon:this.providerOpts.dappMetaData.icon};this.sessionConfig={dappInfo:r,openUniversalUrl:n?.openUniversalUrl,redirect:n?.redirect},(0,c.logDebug)("setNamespaces sessionConfig>>>",this.sessionConfig),this.client.sessionConfig=this.sessionConfig,this.persist("sessionConfig",n)}validateChain(e){var t;let[n,r]=e?.split(":")||["",""];if(!this.session||!this.session.namespaces||!Object.keys(this.session.namespaces).length)return(0,c.logDebug)("get name & chain",n,r),[n,r];if(n){if(!this.isChainNamespaceInSession(n))throw new c.OKXConnectError(c.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Namespace '${n}' is not configured. Please call connect() first with namespace config.`);if(r&&e){(0,c.logDebug)("this.session.namespaces --\x3e> ",n,JSON.stringify(this.session.namespaces));let r=null===(t=this.session.namespaces[n])||void 0===t?void 0:t.chains;if((0,c.logDebug)("get chainsArr & chain",JSON.stringify(r),e),r&&!r.includes(e))throw new c.OKXConnectError(c.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Namespace not include the chain '${e}'`)}}if(n&&r)return(0,c.logDebug)("get name & chain",n,r),[n,r];let i=(0,l.parseNamespaceKey)(Object.keys(this.session.namespaces)[0]),o=this.rpcProviders[i].getDefaultChain();return(0,c.logDebug)("get default chain:",o),[i,o]}isChainNamespaceInSession(e){var t,n;if(Object.keys((null===(t=this.session)||void 0===t?void 0:t.namespaces)||{}).map((e=>(0,l.parseNamespaceKey)(e))).includes(e))return!0;let r=!1;return Object.values((null===(n=this.session)||void 0===n?void 0:n.namespaces)||{}).forEach((t=>{t.chains.forEach((t=>{t.split(":")[0]==e&&(r=!0)}))})),r}requestAccountsWithNamespace(e){return this.getProvider(e).requestAccounts()}requestDefaultChainWithNamespace(e){return this.getProvider(e).getDefaultChain()}requestAccounts(){return t(this,void 0,void 0,(function*(){let[e]=this.validateChain();return yield this.getProvider(e).requestAccounts()}))}onChainChanged(e){var t;if(null===(t=this.session)||void 0===t||!t.namespaces)return;let[n,r]=this.validateChain(e);r&&(this.session.namespaces[n]&&(this.session.namespaces[n].defaultChain=r,this.persist("connectSession",this.session)),this.events.emit("chainChanged",r))}onConnect(){this.createProviders(),this.session&&this.persist("connectSession",this.session),this.events.emit("connect",{session:this.session}),this.registerEventListeners()}cleanup(){return t(this,void 0,void 0,(function*(){this.session=void 0,this.sessionProperties=void 0,this.persist("optionalNamespaces",void 0),this.persist("sessionProperties",void 0),this.persist("connectSession",void 0)}))}persist(e,t){return(0,c.logDebug)("[evm u-provider] persisit data",e,t),this.client.engine.connectionManager.saveSessionContent(e,t)}getFromStore(e){return t(this,void 0,void 0,(function*(){return this.client.engine.connectionManager.getSessionContent(e)}))}showRequestModal(e,t){try{let{namespace:n,requestParam:r}=this.buildRequestParamFromRequest(e,t);return this.getProvider(n).showRequestModal(r)}catch{return!1}}};e.OKXUniversalProvider=b,e.default=b})),bf=p((e=>{var t=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(t){o(t)}}function f(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,f)}s((r=r.apply(e,t||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.OKXBtcProvider=void 0;var n=gf(),r=class{constructor(e){this.caip=["btc:mainnet","fractal:mainnet"],this.provider=e.getUniversalProvider()}getAddressForChainId(e){var t,r;if(null==this.checkChainId(e))throw new n.OKXConnectError(n.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");let i=null===(r=null===(t=this.provider.session)||void 0===t?void 0:t.namespaces.btc)||void 0===r?void 0:r.accounts.filter((function(t){return t.startsWith(e)}));if(null==i||i.length<0)throw new n.OKXConnectError(n.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"no connected account");return i[0].split(":")[2]}getAccount(e){var t,r,i;let o=this.checkChainId(e);if(null==o)throw new n.OKXConnectError(n.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");let a=null===(i=null===(r=null===(t=this.provider.session)||void 0===t?void 0:t.namespaces[o])||void 0===r?void 0:r.extra)||void 0===i?void 0:i[e],f="";return null!=a&&(f=a.publicKey),{address:this.getAddressForChainId(e),publicKey:f}}signMessage(e,r,i){return t(this,void 0,void 0,(function*(){if(null==this.checkChainId(e))throw new n.OKXConnectError(n.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");if("undefined"===r)throw new n.OKXConnectError(n.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"the method signMessage parmas error");let t={signStr:r,from:this.getAddressForChainId(e)};i&&(t.type=i);try{let n=yield this.provider.request({method:"btc_signMessage",params:t},e);return"result"in n?n.result:n.error}catch{throw new n.OKXConnectError(n.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"the method signTransaction request error")}}))}sendBitcoin(e,r,i,o){return t(this,void 0,void 0,(function*(){if(null==this.checkChainId(e))throw new n.OKXConnectError(n.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");let t={from:this.getAddressForChainId(e),to:r,value:(i/1e8).toString()};o?.feeRate&&(t.satBytes=o.feeRate.toString());let a=yield this.send(e,t);return void 0!==a&&"txhash"in a?a.txhash:a}))}send(e,r){return t(this,void 0,void 0,(function*(){if(null==this.checkChainId(e))throw new n.OKXConnectError(n.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");if(!this.checkParameters(r,"to","value"))throw new n.OKXConnectError(n.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"the method send parmas  error");r.from=this.getAddressForChainId(e);try{let t=yield this.provider.request({method:"btc_send",params:r},e);return"result"in t?{txhash:t.result}:t.error}catch(t){throw new n.OKXConnectError(n.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`the method send request error: ${t}`)}}))}signPsbt(e,n,r){return t(this,void 0,void 0,(function*(){return new Promise(((t,i)=>{this.signPsbts(e,[n],[r]).then((e=>{let n=JSON.parse(e);t(n[0])})).catch((e=>{i(e)}))}))}))}signPsbts(e,r,i){return t(this,void 0,void 0,(function*(){if(null==this.checkChainId(e))throw new n.OKXConnectError(n.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");if(void 0===r)throw new n.OKXConnectError(n.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"the method signPsbts params error");let t={psbtHexs:r,options:i};t.from=this.getAddressForChainId(e);try{let n=yield this.provider.request({method:"btc_signPsbts",params:t},e);return"result"in n?n.result:n.error}catch(o){throw new n.OKXConnectError(n.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`the method send request error: ${o}`)}}))}signAndPushPsbt(e,r,i){return t(this,void 0,void 0,(function*(){if(null==this.checkChainId(e))throw new n.OKXConnectError(n.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");if(void 0===r)throw new n.OKXConnectError(n.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"the method signPsbts params error");let t={psbtHex:r,options:i};t.from=this.getAddressForChainId(e);try{let n=yield this.provider.request({method:"btc_signAndPushPsbt",params:t},e);return"result"in n?JSON.parse(n.result):n.error}catch(o){throw new n.OKXConnectError(n.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`the method send request error: ${o}`)}}))}sendInscription(e,r,i,o){return t(this,void 0,void 0,(function*(){let t={address:r,inscriptionId:i,options:o};if(null==this.checkChainId(e))throw new n.OKXConnectError(n.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");if("undefined"===r)throw new n.OKXConnectError(n.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"the method sendInscription params error");var a=0;o&&"feeRate"in o&&(a=o.feeRate);let f=this.getAddressForChainId(e);var s=7;if("undefined"!==i){let e="-Atomicals",t="-Ordinals";i?.toLowerCase().endsWith(e.toLowerCase())?(s=8,i=this.removeSuffix(i,e)):i?.toLowerCase().endsWith(t.toLowerCase())&&(i=this.removeSuffix(i,t))}let c={scenario:5,feeRate:a,txType:"20",to:r,batchBean:[{coinAmount:"1",nftId:i,protocolId:s,coinId:"",inscriptionId:"",from:f}],extension:t};try{let t=yield this.provider.request({method:"btc_sendInscription",params:c},e);return"result"in t?t.result:t.error}catch{throw new n.OKXConnectError(n.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"the method signTransaction request error")}}))}removeSuffix(e,t){return e.endsWith(t)?e.slice(0,e.length-t.length):e}checkParameters(e){for(var t=[],n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.forEach((n=>{`${n}`in e||t.push(n)})),!(t.length>0)||(i.log("not find key: ",t.join(",")),!1)}checkChainId(e){if(this.caip.includes(e)){let[t,n]=e.split(":");return t}}};e.OKXBtcProvider=r,e.default=r})),gf=p((e=>{var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var r in e)"default"!==r&&!Object.prototype.hasOwnProperty.call(n,r)&&t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),e.OKXConnectError=e.OKX_CONNECT_ERROR_CODES=e.NameSpaceKeyBtc=e.NameSpaceKeySui=e.OKXBtcProvider=e.OKXUniversalProvider=void 0,n(Ga(),e);var r=pf();Object.defineProperty(e,"OKXUniversalProvider",{enumerable:!0,get:function(){return r.OKXUniversalProvider}});var i=bf();Object.defineProperty(e,"OKXBtcProvider",{enumerable:!0,get:function(){return i.OKXBtcProvider}});var o=pa();Object.defineProperty(e,"NameSpaceKeySui",{enumerable:!0,get:function(){return o.NameSpaceKeySui}}),Object.defineProperty(e,"NameSpaceKeyBtc",{enumerable:!0,get:function(){return o.NameSpaceKeyBtc}}),Object.defineProperty(e,"OKX_CONNECT_ERROR_CODES",{enumerable:!0,get:function(){return o.OKX_CONNECT_ERROR_CODES}}),Object.defineProperty(e,"OKXConnectError",{enumerable:!0,get:function(){return o.OKXConnectError}})})),vf=v(m(),1).default,yf=v(Na()),mf={};b(mf,{OKXConnectUiError:()=>Yf,OKXTonConnectUI:()=>hg,OKXUniversalConnectUI:()=>Cg,OKX_UI_CONNECTION_AND_TRANSACTION_EVENT:()=>sg,THEME:()=>Zf});var Cf,wf,xf,Of=v(pa(),1),_f=v(qa(),1);Cf=mf,wf=v(qa(),1),g(Cf,wf,"default"),xf&&g(xf,wf,"default");var Ef,Sf,Rf,Nf,kf,Tf,Af,Pf,Df=v(so(),1),If=v(Fa(),1),Kf=v(Ja(),1),jf=v(gf(),1),Mf=Object.defineProperty,Uf=Object.defineProperties,Lf=Object.getOwnPropertyDescriptors,Wf=Object.getOwnPropertySymbols,Bf=Object.getPrototypeOf,Xf=Object.prototype.hasOwnProperty,$f=Object.prototype.propertyIsEnumerable,Hf=Reflect.get,qf=(e,t,n)=>t in e?Mf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ff=(e,t)=>{for(var n in t||(t={}))Xf.call(t,n)&&qf(e,n,t[n]);if(Wf)for(var n of Wf(t))$f.call(t,n)&&qf(e,n,t[n]);return e},Jf=(e,t)=>Uf(e,Lf(t)),Vf=(e,t,n)=>(qf(e,"symbol"!=typeof t?t+"":t,n),n),zf=(e,t,n)=>Hf(Bf(e),n,t),Gf=(e,t,n)=>new Promise(((r,i)=>{var o=e=>{try{f(n.next(e))}catch(t){i(t)}},a=e=>{try{f(n.throw(e))}catch(t){i(t)}},f=e=>e.done?r(e.value):Promise.resolve(e.value).then(o,a);f((n=n.apply(e,t)).next())})),Zf=(e=>(e.DARK="DARK",e.LIGHT="LIGHT",e))(Zf||{}),Yf=class extends Of.OKXConnectError{constructor(e){super(1,e)}},Qf={context:void 0,registry:void 0,effects:void 0,done:!1,getContextId(){return es(this.context.count)},getNextContextId(){return es(this.context.count++)}};function es(e){let t=String(e),n=t.length-1;return Qf.context.id+(n?String.fromCharCode(96+n):"")+t}var ts=Symbol("solid-proxy"),ns="function"==typeof Proxy,rs=Symbol("solid-track"),is={equals:(e,t)=>e===t},os=Ks,as=1,fs=2,ss={owned:null,cleanups:null,context:null,owner:null},cs=null,ls=null,ds=null,us=null,hs=null,ps=0;function bs(e,t){let n=ds,r=cs,i=0===e.length,o=void 0===t?r:t,a=i?ss:{owned:null,cleanups:null,context:o?o.context:null,owner:o},f=i?e:()=>e((()=>ws((()=>Ls(a)))));cs=a,ds=null;try{return Is(f,!0)}finally{ds=n,cs=r}}function gs(e,t){let n={value:e,observers:null,observerSlots:null,comparator:(t=t?Object.assign({},is,t):is).equals||void 0};return[ks.bind(n),e=>("function"==typeof e&&(e=e(n.value)),Ts(n,e))]}function vs(e,t,n){As(Ps(e,t,!1,as))}function ys(e,t,n){os=js;let r=Ps(e,t,!1,as);(!n||!n.render)&&(r.user=!0),hs?hs.push(r):As(r)}function ms(e,t,n){n=n?Object.assign({},is,n):is;let r=Ps(e,t,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,As(r),ks.bind(r)}function Cs(e){return Is(e,!1)}function ws(e){if(null===ds)return e();let t=ds;ds=null;try{return e()}finally{ds=t}}function xs(e){ys((()=>ws(e)))}function Os(e){return null===cs||(null===cs.cleanups?cs.cleanups=[e]:cs.cleanups.push(e)),e}function _s(){return ds}function Es(){return cs}function Ss(e,t){let n=Symbol("context");return{id:n,Provider:Xs(n),defaultValue:e}}function Rs(e){let t;return cs&&cs.context&&void 0!==(t=cs.context[e.id])?t:e.defaultValue}function Ns(e){let t=ms(e),n=ms((()=>Bs(t())));return n.toArray=()=>{let e=n();return Array.isArray(e)?e:null!=e?[e]:[]},n}function ks(){if(this.sources&&this.state)if(this.state===as)As(this);else{let e=us;us=null,Is((()=>Ms(this)),!1),us=e}if(ds){let e=this.observers?this.observers.length:0;ds.sources?(ds.sources.push(this),ds.sourceSlots.push(e)):(ds.sources=[this],ds.sourceSlots=[e]),this.observers?(this.observers.push(ds),this.observerSlots.push(ds.sources.length-1)):(this.observers=[ds],this.observerSlots=[ds.sources.length-1])}return this.value}function Ts(e,t,n){let r=e.value;return(!e.comparator||!e.comparator(r,t))&&(e.value=t,e.observers&&e.observers.length&&Is((()=>{for(let t=0;t<e.observers.length;t+=1){let n=e.observers[t],r=ls&&ls.running;r&&ls.disposed.has(n),(r?!n.tState:!n.state)&&(n.pure?us.push(n):hs.push(n),n.observers&&Us(n)),r||(n.state=as)}if(us.length>1e6)throw us=[],new Error}),!1)),t}function As(e){if(!e.fn)return;Ls(e);let t=ps;!function(e,t,n){let r,i=cs,o=ds;ds=cs=e;try{r=e.fn(t)}catch(a){return e.pure&&(e.state=as,e.owned&&e.owned.forEach(Ls),e.owned=null),e.updatedAt=n+1,Ws(a)}finally{ds=o,cs=i}(!e.updatedAt||e.updatedAt<=n)&&(null!=e.updatedAt&&"observers"in e?Ts(e,r):e.value=r,e.updatedAt=n)}(e,e.value,t)}function Ps(e,t,n){let r={fn:e,state:arguments.length>3&&void 0!==arguments[3]?arguments[3]:as,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:cs,context:cs?cs.context:null,pure:n};return null===cs||cs!==ss&&(cs.owned?cs.owned.push(r):cs.owned=[r]),r}function Ds(e){if(0===e.state)return;if(e.state===fs)return Ms(e);if(e.suspense&&ws(e.suspense.inFallback))return e.suspense.effects.push(e);let t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<ps);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if((e=t[n]).state===as)As(e);else if(e.state===fs){let n=us;us=null,Is((()=>Ms(e,t[0])),!1),us=n}}function Is(e,t){if(us)return e();let n=!1;t||(us=[]),hs?n=!0:hs=[],ps++;try{let t=e();return function(e){if(us&&(Ks(us),us=null),e)return;let t=hs;hs=null,t.length&&Is((()=>os(t)),!1)}(n),t}catch(r){n||(hs=null),us=null,Ws(r)}}function Ks(e){for(let t=0;t<e.length;t++)Ds(e[t])}function js(e){let t,n=0;for(t=0;t<e.length;t++){let r=e[t];r.user?e[n++]=r:Ds(r)}for(t=0;t<n;t++)Ds(e[t])}function Ms(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){let r=e.sources[n];if(r.sources){let e=r.state;e===as?r!==t&&(!r.updatedAt||r.updatedAt<ps)&&Ds(r):e===fs&&Ms(r,t)}}}function Us(e){for(let t=0;t<e.observers.length;t+=1){let n=e.observers[t];n.state||(n.state=fs,n.pure?us.push(n):hs.push(n),n.observers&&Us(n))}}function Ls(e){let t;if(e.sources)for(;e.sources.length;){let t=e.sources.pop(),n=e.sourceSlots.pop(),r=t.observers;if(r&&r.length){let e=r.pop(),i=t.observerSlots.pop();n<r.length&&(e.sourceSlots[i]=n,r[n]=e,t.observerSlots[n]=i)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)Ls(e.tOwned[t]);delete e.tOwned}if(e.owned){for(t=e.owned.length-1;t>=0;t--)Ls(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function Ws(e){throw function(e){return e instanceof Error?e:new Error("string"==typeof e?e:"Unknown error",{cause:e})}(e)}function Bs(e){if("function"==typeof e&&!e.length)return Bs(e());if(Array.isArray(e)){let t=[];for(let n=0;n<e.length;n++){let r=Bs(e[n]);Array.isArray(r)?t.push.apply(t,r):t.push(r)}return t}return e}function Xs(e,t){return function(t){let n;return vs((()=>n=ws((()=>(cs.context=Jf(Ff({},cs.context),{[e]:t.value}),Ns((()=>t.children)))))),void 0),n}}function $s(e,t){return ws((()=>e(t||{})))}function Hs(){return!0}var qs={get:(e,t,n)=>t===ts?n:e.get(t),has:(e,t)=>t===ts||e.has(t),set:Hs,deleteProperty:Hs,getOwnPropertyDescriptor:(e,t)=>({configurable:!0,enumerable:!0,get:()=>e.get(t),set:Hs,deleteProperty:Hs}),ownKeys:e=>e.keys()};function Fs(e){return(e="function"==typeof e?e():e)?e:{}}function Js(){for(let e=0,t=this.length;e<t;++e){let t=this[e]();if(void 0!==t)return t}}function Vs(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let r=!1;for(let s=0;s<t.length;s++){let e=t[s];r=r||!!e&&ts in e,t[s]="function"==typeof e?(r=!0,ms(e)):e}if(ns&&r)return new Proxy({get(e){for(let n=t.length-1;n>=0;n--){let r=Fs(t[n])[e];if(void 0!==r)return r}},has(e){for(let n=t.length-1;n>=0;n--)if(e in Fs(t[n]))return!0;return!1},keys(){let e=[];for(let n=0;n<t.length;n++)e.push(...Object.keys(Fs(t[n])));return[...new Set(e)]}},qs);let i={},o=Object.create(null);for(let s=t.length-1;s>=0;s--){let e=t[s];if(!e)continue;let n=Object.getOwnPropertyNames(e);for(let t=n.length-1;t>=0;t--){let r=n[t];if("__proto__"===r||"constructor"===r)continue;let a=Object.getOwnPropertyDescriptor(e,r);if(o[r]){let t=i[r];t&&(a.get?t.push(a.get.bind(e)):void 0!==a.value&&t.push((()=>a.value)))}else o[r]=a.get?{enumerable:!0,configurable:!0,get:Js.bind(i[r]=[a.get.bind(e)])}:void 0!==a.value?a:void 0}}let a={},f=Object.keys(o);for(let s=f.length-1;s>=0;s--){let e=f[s],t=o[e];t&&t.get?Object.defineProperty(a,e,t):a[e]=t?t.value:void 0}return a}function zs(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(ns&&ts in e){let t=new Set(n.length>1?n.flat():n[0]),r=n.map((t=>new Proxy({get:n=>t.includes(n)?e[n]:void 0,has:n=>t.includes(n)&&n in e,keys:()=>t.filter((t=>t in e))},qs)));return r.push(new Proxy({get:n=>t.has(n)?void 0:e[n],has:n=>!t.has(n)&&n in e,keys:()=>Object.keys(e).filter((e=>!t.has(e)))},qs)),r}let i={},o=n.map((()=>({})));for(let a of Object.getOwnPropertyNames(e)){let t=Object.getOwnPropertyDescriptor(e,a),r=!t.get&&!t.set&&t.enumerable&&t.writable&&t.configurable,f=!1,s=0;for(let e of n)e.includes(a)&&(f=!0,r?o[s][a]=t.value:Object.defineProperty(o[s],a,t)),++s;f||(r?i[a]=t.value:Object.defineProperty(i,a,t))}return[...o,i]}var Gs=e=>`Stale read from <${e}>.`;function Zs(e){let t=e.keyed,n=ms((()=>e.when),void 0,{equals:(e,n)=>t?e===n:!e==!n});return ms((()=>{let r=n();if(r){let i=e.children;return"function"==typeof i&&i.length>0?ws((()=>i(t?r:()=>{if(!ws(n))throw Gs("Show");return e.when}))):i}return e.fallback}),void 0,void 0)}function Ys(e){let t=!1,n=Ns((()=>e.children)),r=ms((()=>{let e=n();Array.isArray(e)||(e=[e]);for(let n=0;n<e.length;n++){let r=e[n].when;if(r)return t=!!e[n].keyed,[n,r,e[n]]}return[-1]}),void 0,{equals:(e,n)=>(t?e[1]===n[1]:!e[1]==!n[1])&&e[2]===n[2]});return ms((()=>{let[n,i,o]=r();if(n<0)return e.fallback;let a=o.children;return"function"==typeof a&&a.length>0?ws((()=>a(t?i:()=>{if(ws(r)[0]!==n)throw Gs("Match");return o.when}))):a}),void 0,void 0)}function Qs(e){return e}var ec=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline","allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"]),tc=new Set(["innerHTML","textContent","innerText","children"]),nc=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),rc=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});var ic=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),oc=new Set(["altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","svg","switch","symbol","text","textPath","tref","tspan","use","view","vkern"]),ac={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};var fc="_$DX_DELEGATE";function sc(e,t,n){let r;return bs((i=>{r=i,t===document?e():pc(t,e(),t.firstChild?null:void 0,n)}),(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).owner),()=>{r(),t.textContent=""}}function cc(e,t,n){let r,i=()=>{let t=document.createElement("template");return t.innerHTML=e,n?t.content.firstChild.firstChild:t.content.firstChild},o=t?()=>ws((()=>document.importNode(r||(r=i()),!0))):()=>(r||(r=i())).cloneNode(!0);return o.cloneNode=o,o}function lc(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function dc(e,t){null==t?e.removeAttribute("class"):e.className=t}function uc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r={};return(arguments.length>3?arguments[3]:void 0)||vs((()=>r.children=yc(e,t.children,r.children))),vs((()=>"function"==typeof t.ref&&hc(t.ref,e))),vs((()=>function(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];t||(t={});for(let a in i)if(!(a in t)){if("children"===a)continue;i[a]=gc(e,a,null,i[a],n,o,t)}for(let a in t){if("children"===a){r||yc(e,t.children);continue}let f=t[a];i[a]=gc(e,a,f,i[a],n,o,t)}}(e,t,n,!0,r,!0))),r}function hc(e,t,n){return ws((()=>e(t,n)))}function pc(e,t,n,r){if(void 0!==n&&!r&&(r=[]),"function"!=typeof t)return yc(e,t,r,n);vs((r=>yc(e,t(),r,n)),r)}function bc(e,t,n){let r=t.trim().split(/\s+/);for(let i=0,o=r.length;i<o;i++)e.classList.toggle(r[i],n)}function gc(e,t,n,r,i,o,a){let f,s,c,l,d;if("style"===t)return function(e,t,n){if(!t)return n?lc(e,"style"):t;let r,i,o=e.style;if("string"==typeof t)return o.cssText=t;for(i in"string"==typeof n&&(o.cssText=n=void 0),n||(n={}),t||(t={}),n)null==t[i]&&o.removeProperty(i),delete n[i];for(i in t)r=t[i],r!==n[i]&&(o.setProperty(i,r),n[i]=r);return n}(e,n,r);if("classList"===t)return function(e,t){let n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=Object.keys(t||{}),a=Object.keys(i);for(n=0,r=a.length;n<r;n++){let r=a[n];!r||"undefined"===r||t[r]||(bc(e,r,!1),delete i[r])}for(n=0,r=o.length;n<r;n++){let r=o[n],a=!!t[r];!r||"undefined"===r||i[r]===a||!a||(bc(e,r,!0),i[r]=a)}return i}(e,n,r);if(n===r)return r;if("ref"===t)o||n(e);else if("on:"===t.slice(0,3)){let i=t.slice(3);r&&e.removeEventListener(i,r,"function"!=typeof r&&r),n&&e.addEventListener(i,n,"function"!=typeof n&&n)}else if("oncapture:"===t.slice(0,10)){let i=t.slice(10);r&&e.removeEventListener(i,r,!0),n&&e.addEventListener(i,n,!0)}else if("on"===t.slice(0,2)){let i=t.slice(2).toLowerCase(),o=ic.has(i);if(!o&&r){let t=Array.isArray(r)?r[0]:r;e.removeEventListener(i,t)}(o||n)&&(function(e,t,n,r){if(r)Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n;else if(Array.isArray(n)){let r=n[0];e.addEventListener(t,n[0]=t=>r.call(e,n[1],t))}else e.addEventListener(t,n,"function"!=typeof n&&n)}(e,i,n,o),o&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.document,n=t[fc]||(t[fc]=new Set);for(let r=0,i=e.length;r<i;r++){let i=e[r];n.has(i)||(n.add(i),t.addEventListener(i,vc))}}([i]))}else if("attr:"===t.slice(0,5))lc(e,t.slice(5),n);else if("bool:"===t.slice(0,5))!function(e,t,n){n?e.setAttribute(t,""):e.removeAttribute(t)}(e,t.slice(5),n);else if((d="prop:"===t.slice(0,5))||(c=tc.has(t))||!i&&((l=function(e,t){let n=rc[e];return"object"==typeof n?n[t]?n.$:void 0:n}(t,e.tagName))||(s=ec.has(t)))||(f=e.nodeName.includes("-")||"is"in a))d&&(t=t.slice(5),s=!0),"class"===t||"className"===t?dc(e,n):!f||s||c?e[l||t]=n:e[function(e){return e.toLowerCase().replace(/-([a-z])/g,((e,t)=>t.toUpperCase()))}(t)]=n;else{let r=i&&t.indexOf(":")>-1&&ac[t.split(":")[0]];r?function(e,t,n,r){null==r?e.removeAttributeNS(t,n):e.setAttributeNS(t,n,r)}(e,r,t,n):lc(e,nc[t]||t,n)}return n}function vc(e){let t=e.target,n=`$$${e.type}`,r=e.target,i=e.currentTarget,o=t=>Object.defineProperty(e,"target",{configurable:!0,value:t}),a=()=>{let r=t[n];if(r&&!t.disabled){let i=t[`${n}Data`];if(void 0!==i?r.call(t,i,e):r.call(t,e),e.cancelBubble)return}return t.host&&"string"!=typeof t.host&&!t.host._$host&&t.contains(e.target)&&o(t.host),!0},f=()=>{for(;a()&&(t=t._$host||t.parentNode||t.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get:()=>t||document}),e.composedPath){let n=e.composedPath();o(n[0]);for(let e=0;e<n.length-2&&(t=n[e],a());e++){if(t._$host){t=t._$host,f();break}if(t.parentNode===i)break}}else f();o(r)}function yc(e,t,n,r,i){for(;"function"==typeof n;)n=n();if(t===n)return n;let o=typeof t,a=void 0!==r;if(e=a&&n[0]&&n[0].parentNode||e,"string"===o||"number"===o){if("number"===o&&(t=t.toString())===n)return n;if(a){let i=n[0];i&&3===i.nodeType?i.data!==t&&(i.data=t):i=document.createTextNode(t),n=wc(e,n,r,i)}else n=""!==n&&"string"==typeof n?e.firstChild.data=t:e.textContent=t}else if(null==t||"boolean"===o)n=wc(e,n,r);else{if("function"===o)return vs((()=>{let i=t();for(;"function"==typeof i;)i=i();n=yc(e,i,n,r)})),()=>n;if(Array.isArray(t)){let o=[],f=n&&Array.isArray(n);if(mc(o,t,n,i))return vs((()=>n=yc(e,o,n,r,!0))),()=>n;if(0===o.length){if(n=wc(e,n,r),a)return n}else f?0===n.length?Cc(e,o,r):function(e,t,n){let r=n.length,i=t.length,o=r,a=0,f=0,s=t[i-1].nextSibling,c=null;for(;a<i||f<o;)if(t[a]!==n[f]){for(;t[i-1]===n[o-1];)i--,o--;if(i===a){let t=o<r?f?n[f-1].nextSibling:n[o-f]:s;for(;f<o;)e.insertBefore(n[f++],t)}else if(o===f)for(;a<i;)(!c||!c.has(t[a]))&&t[a].remove(),a++;else if(t[a]===n[o-1]&&n[f]===t[i-1]){let r=t[--i].nextSibling;e.insertBefore(n[f++],t[a++].nextSibling),e.insertBefore(n[--o],r),t[i]=n[o]}else{if(!c){c=new Map;let e=f;for(;e<o;)c.set(n[e],e++)}let r=c.get(t[a]);if(null!=r)if(f<r&&r<o){let s,l=a,d=1;for(;++l<i&&l<o&&null!=(s=c.get(t[l]))&&s===r+d;)d++;if(d>r-f){let i=t[a];for(;f<r;)e.insertBefore(n[f++],i)}else e.replaceChild(n[f++],t[a++])}else a++;else t[a++].remove()}}else a++,f++}(e,n,o):(n&&wc(e),Cc(e,o));n=o}else if(t.nodeType){if(Array.isArray(n)){if(a)return n=wc(e,n,r,t);wc(e,n,null,t)}else null!=n&&""!==n&&e.firstChild?e.replaceChild(t,e.firstChild):e.appendChild(t);n=t}}return n}function mc(e,t,n,r){let i=!1;for(let o=0,a=t.length;o<a;o++){let a,f=t[o],s=n&&n[e.length];if(null!=f&&!0!==f&&!1!==f)if("object"==(a=typeof f)&&f.nodeType)e.push(f);else if(Array.isArray(f))i=mc(e,f,s)||i;else if("function"===a)if(r){for(;"function"==typeof f;)f=f();i=mc(e,Array.isArray(f)?f:[f],Array.isArray(s)?s:[s])||i}else e.push(f),i=!0;else{let t=String(f);s&&3===s.nodeType&&s.data===t?e.push(s):e.push(document.createTextNode(t))}}return i}function Cc(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;for(let r=0,i=t.length;r<i;r++)e.insertBefore(t[r],n)}function wc(e,t,n,r){if(void 0===n)return e.textContent="";let i=r||document.createTextNode("");if(t.length){let r=!1;for(let o=t.length-1;o>=0;o--){let a=t[o];if(i!==a){let t=a.parentNode===e;r||o?t&&a.remove():t?e.replaceChild(i,a):e.insertBefore(i,n)}else r=!0}}else e.insertBefore(i,n);return[i]}function xc(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e)}function Oc(e){let t,{useShadow:n}=e,r=document.createTextNode(""),i=Es();return ys((()=>{t||(t=function(e,t){let n=cs,r=ds;cs=e,ds=null;try{return Is(t,!0)}catch(i){Ws(i)}finally{cs=n,ds=r}}(i,(()=>ms((()=>e.children)))));let o=e.mount||document.body;if(o instanceof HTMLHeadElement){let[e,n]=gs(!1),r=()=>n(!0);bs((n=>pc(o,(()=>e()?n():t()),null))),Os(r)}else{let i=xc(e.isSVG?"g":"div",e.isSVG),a=n&&i.attachShadow?i.attachShadow({mode:"open"}):i;Object.defineProperty(i,"_$host",{get:()=>r.parentNode,configurable:!0}),pc(a,t),o.appendChild(i),e.ref&&e.ref(i),Os((()=>o.removeChild(i)))}}),void 0,{render:!!!Qf.context}),r}function _c(e){let[t,n]=zs(e,["component"]),r=ms((()=>t.component));return ms((()=>{let e=r();switch(typeof e){case"function":return ws((()=>e(n)));case"string":let t=oc.has(e),r=xc(e,t);return uc(r,n,t),r}}))}var Ec={data:""},Sc=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Rc=/\/\*[^]*?\*\/|  +/g,Nc=/\n+/g,kc=(e,t)=>{let n="",r="",i="";for(let o in e){let a=e[o];"@"==o[0]?"i"==o[1]?n=o+" "+a+";":r+="f"==o[1]?kc(a,o):o+"{"+kc(a,"k"==o[1]?"":t)+"}":"object"==typeof a?r+=kc(a,t?t.replace(/([^,])+/g,(e=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,(t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)))):o):null!=a&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=kc.p?kc.p(o,a):o+":"+a+";")}return n+(t&&i?t+"{"+i+"}":i)+r},Tc={},Ac=e=>{if("object"==typeof e){let t="";for(let n in e)t+=n+Ac(e[n]);return t}return e};function Pc(e){let t=this||{},n=e.call?e(t.p):e;return((e,t,n,r,i)=>{let o=Ac(e),a=Tc[o]||(Tc[o]=(e=>{let t=0,n=11;for(;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n})(o));if(!Tc[a]){let t=o!==e?e:(e=>{let t,n,r=[{}];for(;t=Sc.exec(e.replace(Rc,""));)t[4]?r.shift():t[3]?(n=t[3].replace(Nc," ").trim(),r.unshift(r[0][n]=r[0][n]||{})):r[0][t[1]]=t[2].replace(Nc," ").trim();return r[0]})(e);Tc[a]=kc(i?{["@keyframes "+a]:t}:t,n?"":"."+a)}let f=n&&Tc.g?Tc.g:null;return n&&(Tc.g=Tc[a]),s=Tc[a],c=t,l=r,(d=f)?c.data=c.data.replace(d,s):-1===c.data.indexOf(s)&&(c.data=l?s+c.data:c.data+s),a;var s,c,l,d})(n.unshift?n.raw?((e,t,n)=>e.reduce(((e,r,i)=>{let o=t[i];if(o&&o.call){let e=o(n),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;o=t?"."+t:e&&"object"==typeof e?e.props?"":kc(e,""):!1===e?"":e}return e+r+(o??"")}),""))(n,[].slice.call(arguments,1),t.p):n.reduce(((e,n)=>Object.assign(e,n&&n.call?n(t.p):n)),{}):n,(e=>"object"==typeof window?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||Ec)(t.target),t.g,t.o,t.k)}Pc.bind({g:1});var Dc=Pc.bind({k:1}),Ic=Ss();function Kc(e){return $s(Ic.Provider,{value:e.theme,get children(){return e.children}})}function jc(){return Rs(Ic)}function Mc(e){let t=this||{};return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];let o=n=>{let i,o=Vs(n,{theme:Rs(Ic)}),a=Vs(o,{get class(){let e=o.class,n="class"in o&&/^go[0-9]+/.test(e);return[e,Pc.apply({target:t.target,o:n,p:o,g:t.g},r)].filter(Boolean).join(" ")}}),[f,s]=zs(a,["as","theme"]),c=s,l=f.as||e;return"function"==typeof l?i=l(c):1==t.g?(i=document.createElement(l),uc(i,c)):i=_c(Vs({component:l},c)),i};return o.class=e=>ws((()=>Pc.apply({target:t.target,p:e,g:t.g},r))),o}}var Uc=new Proxy(Mc,{get:(e,t)=>e(t)});function Lc(){let e=Mc.call({g:1},"div").apply(null,arguments);return function(t){return e(t),null}}var Wc="okxc-root",Bc="okxc-disable-scroll",Xc="okxc-using-mouse",$c=()=>(document.body.addEventListener("mousedown",(()=>document.body.classList.add(Xc))),document.body.addEventListener("keydown",(e=>{"Tab"===e.key&&document.body.classList.remove(Xc)})),$s(Lc`
    ${Wc} * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        
        font-family: -apple-system, BlinkMacSystemFont, 'Roboto', 'Helvetica Neue', Arial, Tahoma, Verdana, sans-serif;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;        
        -webkit-tap-highlight-color: transparent;
    }
    
    ${Wc} img {
      -webkit-user-select: none;
      -webkit-touch-callout: none;
    }   
 
    ${Wc} *:focus {
        outline: #08f auto 2px;
    }
    
    ${Wc} li {
        list-style: none;
    }
    
    ${Wc} button {
        outline: none;
    }
    
    body.${Bc} {
        position: fixed; 
        overflow-y: scroll;
        right: 0;
        left: 0;
    }
    
    body.${Xc} ${Wc} *:focus {
        outline: none;
    }
`,{}));function Hc(e,t){return"#"===e[0]&&(e=function(e){"#"===e[0]&&(e=e.slice(1));let t=parseInt(e,16);return[t>>16&255,t>>8&255,255&t].join(",")}(e)),`rgba(${e}, ${t})`}function qc(e){return e.toString()+"px"}var Fc=class{constructor(){Vf(this,"storage",{})}static getInstance(){return Fc.instance||(Fc.instance=new Fc),Fc.instance}get length(){return Object.keys(this.storage).length}clear(){this.storage={}}getItem(e){var t;return null!=(t=this.storage[e])?t:null}key(e){var t;let n=Object.keys(this.storage);return e<0||e>=n.length?null:null!=(t=n[e])?t:null}removeItem(e){delete this.storage[e]}setItem(e,t){this.storage[e]=t}},Jc=Fc;Vf(Jc,"instance");function Vc(){try{for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window?.okxLogDebug&&i.debug("[OKX_TON_CONNECT_UI]",...t)}catch{}}var zc={};try{zc=function(e){e=e.replace(/^#/,"");let t={};if(!e.length)return t;if(e.indexOf("=")<0&&e.indexOf("?")<0)return t._path=nl(e),t;let n=e.indexOf("?");if(n>=0){let r=e.substr(0,n);t._path=nl(r),e=e.substr(n+1)}let r=function(e){let t={};if(!e.length)return t;let n,r,i,o,a=e.split("&");for(n=0;n<a.length;n++)r=a[n].split("="),i=nl(r[0]),o=null==r[1]?null:nl(r[1]),t[i]=o;return t}(e);for(let i in r)t[i]=r[i];return t}(location.hash.toString())}catch{}var Gc="unknown";if(zc?.tgWebAppPlatform&&(Gc=null!=(Ef=zc.tgWebAppPlatform)?Ef:"unknown"),"unknown"===Gc){let e=Tl();Gc=null!=(Nf=null==(Rf=null==(Sf=e?.Telegram)?void 0:Sf.WebApp)?void 0:Rf.platform)?Nf:"unknown"}var Zc="6.0";if(zc?.tgWebAppVersion&&(Zc=zc.tgWebAppVersion),!Zc){let e=Tl();Zc=null!=(Af=null==(Tf=null==(kf=e?.Telegram)?void 0:kf.WebApp)?void 0:Tf.version)?Af:"6.0"}function Yc(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.includes(Gc)}function Qc(){var e;return"unknown"!==Gc||!(null==(e=Tl())||!e.TelegramWebviewProxy)}function el(){var e;let t=!(null==(e=Tl())||!e.TelegramWebview);return(Qc()||t)&&"unknown"===Gc}function tl(){!function(e,t){try{let n=Tl();if(!n)throw new Yf("Can't post event to parent window: window is not defined");if(void 0!==n.TelegramWebviewProxy)Vc("postEvent",e,t),n.TelegramWebviewProxy.postEvent(e,JSON.stringify(t));else if(n.external&&"notify"in n.external)Vc("postEvent",e,t),n.external.notify(JSON.stringify({eventType:e,eventData:t}));else{if(!function(){try{let e=Tl();return!!e&&(null!=e.parent&&e!==e.parent)}catch{return!1}}())throw new Yf("Can't post event to TMA");{let r="*",i=JSON.stringify({eventType:e,eventData:t});Vc("postEvent",e,t),n.parent.postMessage(i,r)}}}catch(xf){!function(){try{for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window?.okxLogDebug&&i.error("[OKX_TON_CONNECT_UI]",...t)}catch{}}(`Can't post event to parent window: ${xf}`)}}("web_app_expand",{})}function nl(e){try{return e=e.replace(/\+/g,"%20"),decodeURIComponent(e)}catch{return e}}var rl=440,il=1020;function ol(e){var t;let n=Tl();if(!n)return"desktop"===e;if(Yc("weba"))return!0;let r=n.innerWidth;switch(e){case"desktop":return r>il;case"tablet":return r>rl;default:let e=r<=rl||Dl("ios","android","ipad");if(e){let n=!(null==(t=Tl())||!t.TelegramWebviewProxy),r=navigator.maxTouchPoints||0;n&&0===r&&(e=!1),(0,Of.logDebug)("isDevice mobile isTelegram and maxTouchPoints:",e,n,r)}return e}}function al(e){switch(e){case"mobile":return`@media (max-width: ${rl}px)`;case"tablet":return`@media (max-width: ${il}px) (min-width: ${rl}px)`;default:return`@media (min-width: ${il}px)`}}var fl="@media (hover: none)",sl="@media not all and (hover: none)",[cl,ll]=gs(ol("mobile")),dl=()=>ll(ol("mobile"));function ul(e,t){return!!t&&(e.name.toLowerCase()===t.toLowerCase()||e.appName.toLowerCase()===t.toLowerCase())}function hl(){return el()||Qc()}function pl(){return!!hl()}function bl(e,t){return!!hl()}function gl(e){return!!e&&e.name===(0,Of.creatOKXWalletInfo)().name}function vl(e,t,n){(0,Of.logDebug)("wallets openUniversalWallet"),hl()&&yl(e,t)}function yl(e,t){(0,Of.logDebug)("wallets openWallet"),e&&(gl(e)?((0,Of.logDebug)(`wallets openWallet openOKXDeeplinkWithFallback ${e.universalLink}`),(0,Of.openOKXDeeplink)(e.deepLink)):((0,Of.logDebug)(`wallets openWallet openOKXTMAWalletlinkWithFallback ${e.universalLink}`),(0,Of.openOKXTMAWalletlinkWithFallback)((0,Of.getTelegramWalletTWAUrl)(void 0,t,ml()),ml())))}function ml(){return!(el()||Qc())}function Cl(e,t){return!gl(e)||cl()&&"qrcode"!==t}function wl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_self";Vc("web-api  openLink",e,t),window.open(e,t,"noopener noreferrer")}function xl(e){wl(e,"_blank")}function Ol(e,t){Vc(`web-api openDeeplinkWithFallback ${e}`);let n=setTimeout((()=>{Il("safari")||Dl("android")&&Il("firefox")||t()}),3e3);window.addEventListener("blur",(()=>clearTimeout(n)),{once:!0}),Dl("android")&&hl()?wl(e,"_blank"):wl(e,"_self")}function _l(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme: light)").matches?Zf.LIGHT:Zf.DARK}function El(e){let t=t=>e(t.matches?Zf.DARK:Zf.LIGHT);return window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",t),()=>window.matchMedia("(prefers-color-scheme: dark)").removeEventListener("change",t)}function Sl(){document.body.hasAttribute("ontouchstart")||document.body.setAttribute("ontouchstart","")}function Rl(){document.body.getElementsByTagName(Wc)||customElements.define(Wc,class extends HTMLElement{})}function Nl(e){return Gf(this,null,(function*(){yield new Promise((e=>requestAnimationFrame(e))),e()}))}function kl(e){"complete"!==document.readyState?window.addEventListener("load",(()=>Nl((()=>kl(e)))),{once:!0}):e.forEach((e=>{(new window.Image).src=e}))}function Tl(){if(typeof window<"u")return window}function Al(){if(function(){try{return typeof localStorage<"u"}catch{return!1}}())return localStorage;if(typeof o<"u"&&null!=o.versions&&null!=o.versions.node)throw new Yf("`localStorage` is unavailable, but it is required for TonConnect");return Jc.getInstance()}function Pl(){var e,t,n;let r,i=(new Df.default).getResult(),o=null==(e=i.os.name)?void 0:e.toLowerCase();switch(!0){case"ipad"===(null==(t=i.device.model)?void 0:t.toLowerCase()):r="ipad";break;case"ios"===o:r="ios";break;case"android"===o:r="android";break;case"mac os"===o:r="macos";break;case"linux"===o:r="linux";break;case o?.includes("windows"):r="windows"}let a,f=null==(n=i.browser.name)?void 0:n.toLowerCase();switch(!0){case"chrome"===f:a="chrome";break;case"firefox"===f:a="firefox";break;case f?.includes("safari"):a="safari";break;case f?.includes("opera"):a="opera"}return{os:r,browser:a}}function Dl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.includes(Pl().os)}function Il(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.includes(Pl().browser)}function Kl(e,t){return t+new URL(e).search}Tl()&&(window.addEventListener("resize",(()=>dl())),window.addEventListener("load",(()=>dl()),{once:!0}));var jl=class{constructor(e){Vf(this,"localStorage"),Vf(this,"storageKey","okx-wallet-connect-ui_wallet-info"),this.localStorage=Al(),this.storageKey=e}setWalletInfo(e){this.localStorage.setItem(this.storageKey,JSON.stringify(e))}getWalletInfo(){let e=this.localStorage.getItem(this.storageKey);return e?JSON.parse(e):null}removeWalletInfo(){this.localStorage.removeItem(this.storageKey)}},Ml=class{constructor(){Vf(this,"localStorage"),Vf(this,"storageKey","okx_wallet_connect_ui_last-selected-wallet-info"),this.localStorage=Al()}setLastSelectedWalletInfo(e){this.localStorage.setItem(this.storageKey,JSON.stringify(e))}getLastSelectedWalletInfo(){let e=this.localStorage.getItem(this.storageKey);return e?JSON.parse(e):null}removeLastSelectedWalletInfo(){this.localStorage.removeItem(this.storageKey)}},[Ul,Ll]=gs({status:"closed",closeReason:null});ms((()=>"opened"===Ul().status));var[Wl,Bl]=gs({status:"closed",closeReason:null}),Xl=ms((()=>"opened"===Wl().status)),$l=ms((()=>{let e=Wl();return"opened"===e.status?e.walletInfo:null})),Hl=typeof window<"u"?new Ml:void 0,[ql,Fl]=gs(Hl?.getLastSelectedWalletInfo()||null),Jl=e=>{Hl||(Hl=new Ml),e?(Vc(`modals-state.ts: setLastSelectedWalletInfo ${JSON.stringify(e)}`),Hl.setLastSelectedWalletInfo(e)):(Vc("modals-state.ts: setLastSelectedWalletInfo    removeLastSelectedWalletInfo"),Hl.removeLastSelectedWalletInfo()),Fl(e)},[Vl,zl]=gs(null),Gl=Uc.div`
    background-color: ${e=>e.theme.colors.background.secondary};
`,Zl=e=>{let t,[n,r]=gs(null);return ys((()=>{let t=new window.Image;return t.src=e.src,t.alt=e.alt||"",t.setAttribute("draggable","false"),e.class&&t.classList.add(e.class),t.complete?r(t):(t.addEventListener("load",(()=>r(t))),()=>t.removeEventListener("load",(()=>r(t))))})),[$s(Zs,{get when(){return n()},get children(){return n()}}),$s(Zs,{get when(){return!n()},get children(){return $s(Gl,{get class(){return e.class},ref(e){"function"==typeof t?t(e):t=e}})}})]},Yl={m:"100vh",s:"8px",none:"0"},Ql={s:.02,m:.04},ed=Uc.button`
    display: ${e=>e.leftIcon||e.rightIcon?"flex":"inline-block"};
    gap: ${e=>e.leftIcon||e.rightIcon?"6px":"unset"};
    align-items: ${e=>e.leftIcon||e.rightIcon?"center":"unset"};
    justify-content: ${e=>e.leftIcon||e.rightIcon?"space-between":"unset"};
    background-color: ${e=>"flat"===e.appearance?"transparent":"secondary"===e.appearance?e.theme.colors.background.tint:Hc(e.theme.colors.accent,.12)};
    color: ${e=>"secondary"===e.appearance?e.theme.colors.text.primary:e.theme.colors.accent};

    padding: ${e=>"flat"===e.appearance?"0":"9px 16px"};
    padding-left: ${e=>e.leftIcon&&"flat"!==e.appearance?"12px":"16px"};
    padding-right: ${e=>e.rightIcon&&"flat"!==e.appearance?"12px":"16px"};
    border: none;
    border-radius: ${e=>Yl[e.theme.borderRadius]};
    cursor: ${e=>e.disabled?"not-allowed":"pointer"};

    font-size: 14px;
    font-weight: 510;
    line-height: 18px;

    transition: transform 0.125s ease-in-out;

    ${sl} {
        &:hover {
            transform: ${e=>e.disabled?"unset":`scale(${1+Ql[e.scale]})`};
        }
    }

    &:active {
        transform: ${e=>e.disabled?"unset":`scale(${1-Ql[e.scale]})`};
    }

    ${fl} {
        &:active {
            transform: ${e=>e.disabled?"unset":`scale(${1-2*Ql[e.scale]})`};
        }
    }
`;function td(e){let t=ws((()=>Object.keys(e).filter((e=>e.startsWith("data-"))))),[n]=zs(e,t);return n}var nd=e=>{let t=td(e);return $s(ed,Vs({get appearance(){return e.appearance||"primary"},get class(){return e.class},onClick:t=>{var n;return null==(n=e.onClick)?void 0:n.call(e,t)},onMouseEnter:t=>{var n;return null==(n=e.onMouseEnter)?void 0:n.call(e,t)},onMouseLeave:t=>{var n;return null==(n=e.onMouseLeave)?void 0:n.call(e,t)},ref(t){var n=e.ref;"function"==typeof n?n(t):e.ref=t},get disabled(){return e.disabled},get scale(){return e.scale||"m"},get leftIcon(){return!!e.leftIcon},get rightIcon(){return!!e.rightIcon},"data-tc-button":"true"},t,{get children(){return[ms((()=>e.leftIcon)),ms((()=>e.children)),ms((()=>e.rightIcon))]}}))};function rd(e){requestAnimationFrame((()=>{requestAnimationFrame(e)}))}var id=e=>{let t,n=!0,[r,i]=gs(),[o,a]=gs(),f=Ns((()=>e.children)),{onBeforeEnter:s,onEnter:c,onAfterEnter:l,onBeforeExit:d,onExit:u,onAfterExit:h}=e,p=ms((()=>{let t=e.name||"s";return{enterActiveClass:e.enterActiveClass||t+"-enter-active",enterClass:e.enterClass||t+"-enter",enterToClass:e.enterToClass||t+"-enter-to",exitActiveClass:e.exitActiveClass||t+"-exit-active",exitClass:e.exitClass||t+"-exit",exitToClass:e.exitToClass||t+"-exit-to"}}));function b(t,f){if(!n||e.appear){let n=function(s){t&&(!s||s.target===t)&&(t.removeEventListener("transitionend",n),t.removeEventListener("animationend",n),t.classList.remove(...u),t.classList.remove(...h),Cs((()=>{r()!==t&&i(t),o()===t&&a(void 0)})),l&&l(t),"inout"===e.mode&&g(t,f))},d=p().enterClass.split(" "),u=p().enterActiveClass.split(" "),h=p().enterToClass.split(" ");s&&s(t),t.classList.add(...d),t.classList.add(...u),rd((()=>{t.classList.remove(...d),t.classList.add(...h),c&&c(t,(()=>n())),(!c||c.length<2)&&(t.addEventListener("transitionend",n),t.addEventListener("animationend",n))}))}f&&!e.mode?a(t):i(t)}function g(t,n){let o=p().exitClass.split(" "),a=p().exitActiveClass.split(" "),f=p().exitToClass.split(" ");if(!n.parentNode)return s();function s(o){(!o||o.target===n)&&(n.removeEventListener("transitionend",s),n.removeEventListener("animationend",s),n.classList.remove(...a),n.classList.remove(...f),r()===n&&i(void 0),h&&h(n),"outin"===e.mode&&b(t,n))}d&&d(n),n.classList.add(...o),n.classList.add(...a),rd((()=>{n.classList.remove(...o),n.classList.add(...f)})),u&&u(n,(()=>s())),(!u||u.length<2)&&(n.addEventListener("transitionend",s),n.addEventListener("animationend",s))}return function(e,t){As(Ps(e,t,!0,as))}((r=>{for(t=f();"function"==typeof t;)t=t();return ws((()=>(t&&t!==r&&("outin"!==e.mode?b(t,r):n&&i(t)),r&&r!==t&&"inout"!==e.mode&&g(t,r),n=!1,t)))})),[r,o]};var od="androidBackHandler",ad={[od]:!0},fd=cc('<svg><path fill-rule=evenodd clip-rule=evenodd d="M10.2122 14.3407C10.5384 14.0854 10.5959 13.614 10.3406 13.2878L6.20237 8.00003L10.3406 2.71227C10.5959 2.38607 10.5384 1.91469 10.2122 1.6594C9.88604 1.40412 9.41465 1.46161 9.15937 1.7878L4.65937 7.5378C4.44688 7.80932 4.44688 8.19074 4.65937 8.46226L9.15937 14.2123C9.41465 14.5385 9.88604 14.5959 10.2122 14.3407Z"></svg>',!1,!0),sd={left:0,top:90,right:180,bottom:270},cd=e=>{let t=jc();return $s(Uc("svg")`
        transform: rotate(${e=>sd[e.svgDirection]}deg);
        transition: transform 0.1s ease-in-out;
    `,{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",get svgDirection(){return e.direction||"left"},get children(){var n=fd();return vs((()=>lc(n,"fill",e.fill||t.colors.icon.secondary))),n}})},ld=cc('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24 viewBox="0 0 24 24"fill=none><path fill-rule=evenodd clip-rule=evenodd d="M18.5303 6.53033C18.8232 6.23744 18.8232 5.76256 18.5303 5.46967C18.2374 5.17678 17.7626 5.17678 17.4697 5.46967L12 10.9393L6.53033 5.46967C6.23744 5.17678 5.76256 5.17678 5.46967 5.46967C5.17678 5.76256 5.17678 6.23744 5.46967 6.53033L10.9393 12L5.46967 17.4697C5.17678 17.7626 5.17678 18.2374 5.46967 18.5303C5.76256 18.8232 6.23744 18.8232 6.53033 18.5303L12 13.0607L17.4697 18.5303C17.7626 18.8232 18.2374 18.8232 18.5303 18.5303C18.8232 18.2374 18.8232 17.7626 18.5303 17.4697L13.0607 12L18.5303 6.53033Z">'),dd=e=>{let t=jc();Vc(`CloseIcon  ${t}`);return(()=>{var n=ld(),r=n.firstChild;return vs((()=>lc(r,"fill",e.fill||t.colors.icon.secondary))),n})()},ud=cc('<svg width=24 height=24 viewBox="0 0 24 24"fill=none xmlns=http://www.w3.org/2000/svg><path fill-rule=evenodd clip-rule=evenodd d="M14.1839 17.7069C13.6405 18.6507 13.3688 19.1226 13.0591 19.348C12.4278 19.8074 11.5723 19.8074 10.941 19.348C10.6312 19.1226 10.3595 18.6507 9.81613 17.7069L5.52066 10.2464C4.76864 8.94024 4.39263 8.28717 4.33762 7.75894C4.2255 6.68236 4.81894 5.65591 5.80788 5.21589C6.29309 5 7.04667 5 8.55383 5H15.4462C16.9534 5 17.7069 5 18.1922 5.21589C19.1811 5.65591 19.7745 6.68236 19.6624 7.75894C19.6074 8.28717 19.2314 8.94024 18.4794 10.2464L14.1839 17.7069ZM11.1 16.3412L6.56139 8.48002C6.31995 8.06185 6.19924 7.85276 6.18146 7.68365C6.14523 7.33896 6.33507 7.01015 6.65169 6.86919C6.80703 6.80002 7.04847 6.80002 7.53133 6.80002H7.53134L11.1 6.80002V16.3412ZM12.9 16.3412L17.4387 8.48002C17.6801 8.06185 17.8008 7.85276 17.8186 7.68365C17.8548 7.33896 17.665 7.01015 17.3484 6.86919C17.193 6.80002 16.9516 6.80002 16.4687 6.80002L12.9 6.80002V16.3412Z">'),hd=e=>{let t=jc();return(()=>{var n=ud(),r=n.firstChild;return vs((()=>lc(r,"fill",e.fill||t.colors.icon.primary))),n})()},pd=cc('<svg xmlns=http://www.w3.org/2000/svg width=16 height=16 viewBox="0 0 16 16"fill=none><g clip-path=url(#clip0_3783_2045)><circle cx=8 cy=8.00098 r=8></circle><path d="M4.75 8.50098L7 10.751L11.75 6.00098"stroke-width=1.5 stroke-linecap=round stroke-linejoin=round></path></g><defs><clipPath id=clip0_3783_2045><rect width=16 height=16 fill=white transform="translate(0 0.000976562)">'),bd=cc('<svg width=24 height=24 viewBox="0 0 24 24"fill=none xmlns=http://www.w3.org/2000/svg><circle cx=12 cy=12 r=11></circle><path d="M17.1364 9.6364C17.4879 9.28493 17.4879 8.71508 17.1364 8.36361C16.7849 8.01214 16.2151 8.01214 15.8636 8.36361L10 14.2272L8.1364 12.3636C7.78493 12.0121 7.21508 12.0121 6.86361 12.3636C6.51214 12.7151 6.51214 13.2849 6.86361 13.6364L9.36361 16.1364C9.71508 16.4879 10.2849 16.4879 10.6364 16.1364L17.1364 9.6364Z">'),gd=cc('<svg width=72 height=72 viewBox="0 0 72 72"fill=none xmlns=http://www.w3.org/2000/svg><circle cx=36 cy=36 r=33></circle><path d="M50.9142 28.4142C51.6953 27.6332 51.6953 26.3668 50.9142 25.5858C50.1332 24.8047 48.8668 24.8047 48.0858 25.5858L30 43.6716L23.9142 37.5858C23.1332 36.8047 21.8668 36.8047 21.0858 37.5858C20.3047 38.3668 20.3047 39.6332 21.0858 40.4142L28.5858 47.9142C29.3668 48.6953 30.6332 48.6953 31.4142 47.9142L50.9142 28.4142Z">'),vd=e=>{let t=jc(),n=()=>e.size||"s",r=()=>e.fill||t.colors.icon.success;return ms((()=>ms((()=>"xs"===n()))()?(()=>{var n=pd(),i=n.firstChild.firstChild,o=i.nextSibling;return vs((a=>{var f=e.class,s=r(),c=t.colors.constant.white;return f!==a.e&&lc(n,"class",a.e=f),s!==a.t&&lc(i,"fill",a.t=s),c!==a.a&&lc(o,"stroke",a.a=c),a}),{e:void 0,t:void 0,a:void 0}),n})():ms((()=>"s"===n()))()?(()=>{var n=bd(),i=n.firstChild,o=i.nextSibling;return vs((a=>{var f=e.class,s=r(),c=t.colors.constant.white;return f!==a.e&&lc(n,"class",a.e=f),s!==a.t&&lc(i,"fill",a.t=s),c!==a.a&&lc(o,"fill",a.a=c),a}),{e:void 0,t:void 0,a:void 0}),n})():(()=>{var n=gd(),i=n.firstChild,o=i.nextSibling;return vs((a=>{var f=e.class,s=r(),c=t.colors.constant.white;return f!==a.e&&lc(n,"class",a.e=f),s!==a.t&&lc(i,"fill",a.t=s),c!==a.a&&lc(o,"fill",a.a=c),a}),{e:void 0,t:void 0,a:void 0}),n})()))},yd=cc('<svg xmlns=http://www.w3.org/2000/svg width=103 height=102 viewBox="0 0 103 102"fill=none><path fill-rule=evenodd clip-rule=evenodd d="M51.5 14.8747C31.5487 14.8747 15.375 31.0485 15.375 50.9997C15.375 70.951 31.5487 87.1247 51.5 87.1247C71.4513 87.1247 87.625 70.951 87.625 50.9997C87.625 31.0485 71.4513 14.8747 51.5 14.8747ZM9 50.9997C9 27.5276 28.0279 8.49974 51.5 8.49974C74.9721 8.49974 94 27.5276 94 50.9997C94 74.4718 74.9721 93.4997 51.5 93.4997C28.0279 93.4997 9 74.4718 9 50.9997ZM65.0234 37.4765C66.2682 38.7213 66.2682 40.7395 65.0234 41.9843L56.0078 50.9999L65.0234 60.0155C66.2682 61.2603 66.2682 63.2785 65.0234 64.5233C63.7786 65.7681 61.7604 65.7681 60.5156 64.5233L51.5 55.5077L42.4844 64.5233C41.2396 65.7681 39.2214 65.7681 37.9766 64.5233C36.7318 63.2785 36.7318 61.2603 37.9766 60.0155L46.9922 50.9999L37.9766 41.9843C36.7318 40.7395 36.7318 38.7213 37.9766 37.4765C39.2214 36.2317 41.2396 36.2317 42.4844 37.4765L51.5 46.4921L60.5156 37.4765C61.7604 36.2317 63.7787 36.2317 65.0234 37.4765Z"fill=#909090>'),md=cc('<svg xmlns=http://www.w3.org/2000/svg width=72 height=72 viewBox="0 0 103 102"fill=none><path fill-rule=evenodd clip-rule=evenodd d="M51.5 14.8747C31.5487 14.8747 15.375 31.0485 15.375 50.9997C15.375 70.951 31.5487 87.1247 51.5 87.1247C71.4513 87.1247 87.625 70.951 87.625 50.9997C87.625 31.0485 71.4513 14.8747 51.5 14.8747ZM9 50.9997C9 27.5276 28.0279 8.49974 51.5 8.49974C74.9721 8.49974 94 27.5276 94 50.9997C94 74.4718 74.9721 93.4997 51.5 93.4997C28.0279 93.4997 9 74.4718 9 50.9997ZM65.0234 37.4765C66.2682 38.7213 66.2682 40.7395 65.0234 41.9843L56.0078 50.9999L65.0234 60.0155C66.2682 61.2603 66.2682 63.2785 65.0234 64.5233C63.7786 65.7681 61.7604 65.7681 60.5156 64.5233L51.5 55.5077L42.4844 64.5233C41.2396 65.7681 39.2214 65.7681 37.9766 64.5233C36.7318 63.2785 36.7318 61.2603 37.9766 60.0155L46.9922 50.9999L37.9766 41.9843C36.7318 40.7395 36.7318 38.7213 37.9766 37.4765C39.2214 36.2317 41.2396 36.2317 42.4844 37.4765L51.5 46.4921L60.5156 37.4765C61.7604 36.2317 63.7787 36.2317 65.0234 37.4765Z"fill=#909090>'),Cd=cc('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24 viewBox="0 0 103 102"fill=none><path fill-rule=evenodd clip-rule=evenodd d="M51.5 14.8747C31.5487 14.8747 15.375 31.0485 15.375 50.9997C15.375 70.951 31.5487 87.1247 51.5 87.1247C71.4513 87.1247 87.625 70.951 87.625 50.9997C87.625 31.0485 71.4513 14.8747 51.5 14.8747ZM9 50.9997C9 27.5276 28.0279 8.49974 51.5 8.49974C74.9721 8.49974 94 27.5276 94 50.9997C94 74.4718 74.9721 93.4997 51.5 93.4997C28.0279 93.4997 9 74.4718 9 50.9997ZM65.0234 37.4765C66.2682 38.7213 66.2682 40.7395 65.0234 41.9843L56.0078 50.9999L65.0234 60.0155C66.2682 61.2603 66.2682 63.2785 65.0234 64.5233C63.7786 65.7681 61.7604 65.7681 60.5156 64.5233L51.5 55.5077L42.4844 64.5233C41.2396 65.7681 39.2214 65.7681 37.9766 64.5233C36.7318 63.2785 36.7318 61.2603 37.9766 60.0155L46.9922 50.9999L37.9766 41.9843C36.7318 40.7395 36.7318 38.7213 37.9766 37.4765C39.2214 36.2317 41.2396 36.2317 42.4844 37.4765L51.5 46.4921L60.5156 37.4765C61.7604 36.2317 63.7787 36.2317 65.0234 37.4765Z"fill=#909090>'),wd=e=>{jc();let t=()=>e.size||"m";return ms((()=>ms((()=>"m"===t()))()?yd():ms((()=>"s"===t()))()?md():Cd()))},xd=cc('<svg width=24 height=24 viewBox="0 0 24 24"fill=none xmlns=http://www.w3.org/2000/svg><path d="M15.55 5.85123C18.9459 7.81184 20.1094 12.1541 18.1488 15.55C16.1882 18.9459 11.8459 20.1094 8.44998 18.1488C8.01952 17.9003 7.46909 18.0478 7.22056 18.4782C6.97203 18.9087 7.11952 19.4591 7.54998 19.7076C11.8068 22.1653 17.2499 20.7068 19.7076 16.45C22.1653 12.1932 20.7068 6.75005 16.45 4.29239C12.1932 1.83472 6.75003 3.29321 4.29236 7.55001C4.04383 7.98047 4.19132 8.53091 4.62178 8.77943C5.05224 9.02796 5.60268 8.88048 5.8512 8.45001C7.81181 5.05413 12.1541 3.89062 15.55 5.85123Z">'),Od=cc('<svg xmlns=http://www.w3.org/2000/svg width=44 height=44 viewBox="0 0 44 44"fill=none><path fill-rule=evenodd clip-rule=evenodd d="M22 2.99951C11.5066 2.99951 3 11.5061 3 21.9995C3 32.4929 11.5066 40.9995 22 40.9995C22.8284 40.9995 23.5 41.6711 23.5 42.4995C23.5 43.3279 22.8284 43.9995 22 43.9995C9.84974 43.9995 0 34.1498 0 21.9995C0 9.84925 9.84974 -0.000488281 22 -0.000488281C34.1503 -0.000488281 44 9.84925 44 21.9995C44 22.8279 43.3284 23.4995 42.5 23.4995C41.6716 23.4995 41 22.8279 41 21.9995C41 11.5061 32.4934 2.99951 22 2.99951Z">'),_d=cc('<svg width=72 height=72 viewBox="0 0 72 72"fill=none xmlns=http://www.w3.org/2000/svg><path d="M24 56.7846C35.479 63.412 50.1572 59.479 56.7846 47.9999C63.412 36.5209 59.479 21.8427 48 15.2153C36.521 8.58791 21.8428 12.5209 15.2154 23.9999"stroke-width=4 stroke-linecap=round stroke-linejoin=round>'),Ed=e=>{let t=jc(),n=()=>e.size||"xs",r=()=>e.fill||t.colors.icon.tertiary,i=Pc`
        animation: ${Dc`
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
    `} 1s linear infinite;
    `;return ms((()=>ms((()=>"xs"===n()))()?(()=>{var t=xd(),n=t.firstChild;return vs((o=>{var a=(0,If.default)(i,e.class),f=r();return a!==o.e&&lc(t,"class",o.e=a),f!==o.t&&lc(n,"fill",o.t=f),o}),{e:void 0,t:void 0}),t})():ms((()=>"s"===n()))()?(()=>{var t=Od(),n=t.firstChild;return vs((o=>{var a=(0,If.default)(i,e.class),f=r();return a!==o.e&&lc(t,"class",o.e=a),f!==o.t&&lc(n,"fill",o.t=f),o}),{e:void 0,t:void 0}),t})():(()=>{var t=_d(),n=t.firstChild;return vs((o=>{var a=(0,If.default)(i,e.class),f=r();return a!==o.e&&lc(t,"class",o.e=a),f!==o.t&&lc(n,"stroke",o.t=f),o}),{e:void 0,t:void 0}),t})()))},Sd=cc('<svg xmlns=http://www.w3.org/2000/svg width=16 height=16 viewBox="0 0 16 16"fill=none><path fill-rule=evenodd clip-rule=evenodd d="M5.56608 4.42584C5.82527 3.32158 6.8176 2.5 8.00001 2.5C9.38072 2.5 10.5 3.61929 10.5 5C10.5 5.63026 10.3391 6.0386 10.1264 6.34455C9.90018 6.66993 9.58561 6.92478 9.18864 7.20877C9.12579 7.25372 9.05873 7.30025 8.9887 7.34883C8.27392 7.84472 7.25001 8.55507 7.25001 10V10.25C7.25001 10.6642 7.5858 11 8.00001 11C8.41422 11 8.75001 10.6642 8.75001 10.25V10C8.75001 9.36502 9.10777 9.1096 9.94554 8.51149L10.0614 8.42873C10.4769 8.13147 10.9748 7.75194 11.358 7.20076C11.7547 6.63015 12 5.91973 12 5C12 2.79086 10.2091 1 8.00001 1C6.10564 1 4.5205 2.31615 4.10577 4.08308C4.01112 4.48634 4.26129 4.88997 4.66454 4.98462C5.0678 5.07927 5.47143 4.8291 5.56608 4.42584ZM8.00001 15C8.60752 15 9.10001 14.5075 9.10001 13.9C9.10001 13.2925 8.60752 12.8 8.00001 12.8C7.39249 12.8 6.90001 13.2925 6.90001 13.9C6.90001 14.5075 7.39249 15 8.00001 15Z">'),Rd=e=>{let t=jc();return(()=>{var n=Sd(),r=n.firstChild;return vs((()=>lc(r,"fill",e.fill||t.colors.icon.secondary))),n})()},Nd=cc('<svg xmlns=http://www.w3.org/2000/svg width=16 height=16 viewBox="0 0 16 16"fill=none><path fill-rule=evenodd clip-rule=evenodd d="M3.56176 1.87482C3.8379 1.87482 4.06176 2.09867 4.06176 2.37482V3.69674C5.09916 2.7469 6.48174 2.16666 7.99996 2.16666C11.2216 2.16666 13.8333 4.77834 13.8333 8C13.8333 11.2217 11.2216 13.8333 7.99996 13.8333C4.7783 13.8333 2.16663 11.2217 2.16663 8C2.16663 7.72385 2.39048 7.5 2.66663 7.5C2.94277 7.5 3.16663 7.72385 3.16663 8C3.16663 10.6694 5.33058 12.8333 7.99996 12.8333C10.6693 12.8333 12.8333 10.6694 12.8333 8C12.8333 5.33062 10.6693 3.16666 7.99996 3.16666C6.68645 3.16666 5.49513 3.69037 4.62354 4.54148H6.22843C6.50457 4.54148 6.72843 4.76534 6.72843 5.04148C6.72843 5.31763 6.50457 5.54148 6.22843 5.54148H3.56176C3.28562 5.54148 3.06176 5.31763 3.06176 5.04148V2.37482C3.06176 2.09867 3.28562 1.87482 3.56176 1.87482Z">'),kd=e=>{let t=jc();return(()=>{var e=Nd(),n=e.firstChild;return vs((()=>lc(n,"fill",t.colors.text.primary))),e})()},Td=cc('<svg xmlns=http://www.w3.org/2000/svg width=16 height=17 viewBox="0 0 16 17"fill=none><path fill-rule=evenodd clip-rule=evenodd d="M1 4.12695C1 3.07754 1 2.55284 1.19202 2.14684C1.38986 1.72856 1.7266 1.39181 2.14489 1.19397C2.55088 1.00195 3.07559 1.00195 4.125 1.00195C5.17441 1.00195 5.69912 1.00195 6.10511 1.19397C6.5234 1.39181 6.86014 1.72856 7.05798 2.14684C7.25 2.55284 7.25 3.07754 7.25 4.12695C7.25 5.17636 7.25 5.70107 7.05798 6.10706C6.86014 6.52535 6.5234 6.8621 6.10511 7.05993C5.69912 7.25195 5.17441 7.25195 4.125 7.25195C3.07559 7.25195 2.55088 7.25195 2.14489 7.05993C1.7266 6.8621 1.38986 6.52535 1.19202 6.10706C1 5.70107 1 5.17636 1 4.12695ZM2.5 3.30195C2.5 3.02193 2.5 2.88191 2.5545 2.77496C2.60243 2.68088 2.67892 2.60439 2.773 2.55645C2.87996 2.50195 3.01997 2.50195 3.3 2.50195H4.95C5.23003 2.50195 5.37004 2.50195 5.477 2.55645C5.57108 2.60439 5.64757 2.68088 5.6955 2.77496C5.75 2.88191 5.75 3.02193 5.75 3.30195V4.95195C5.75 5.23198 5.75 5.37199 5.6955 5.47895C5.64757 5.57303 5.57108 5.64952 5.477 5.69746C5.37004 5.75195 5.23003 5.75195 4.95 5.75195H3.3C3.01997 5.75195 2.87996 5.75195 2.773 5.69746C2.67892 5.64952 2.60243 5.57303 2.5545 5.47895C2.5 5.37199 2.5 5.23198 2.5 4.95195V3.30195ZM1 11.877C1 10.8275 1 10.3028 1.19202 9.89684C1.38986 9.47856 1.7266 9.14181 2.14489 8.94397C2.55088 8.75195 3.07559 8.75195 4.125 8.75195C5.17441 8.75195 5.69912 8.75195 6.10511 8.94397C6.5234 9.14181 6.86014 9.47856 7.05798 9.89684C7.25 10.3028 7.25 10.8275 7.25 11.877C7.25 12.9264 7.25 13.4511 7.05798 13.8571C6.86014 14.2753 6.5234 14.6121 6.10511 14.8099C5.69912 15.002 5.17441 15.002 4.125 15.002C3.07559 15.002 2.55088 15.002 2.14489 14.8099C1.7266 14.6121 1.38986 14.2753 1.19202 13.8571C1 13.4511 1 12.9264 1 11.877ZM2.5 11.052C2.5 10.7719 2.5 10.6319 2.5545 10.525C2.60243 10.4309 2.67892 10.3544 2.773 10.3064C2.87996 10.252 3.01997 10.252 3.3 10.252H4.95C5.23003 10.252 5.37004 10.252 5.477 10.3064C5.57108 10.3544 5.64757 10.4309 5.6955 10.525C5.75 10.6319 5.75 10.7719 5.75 11.052V12.702C5.75 12.982 5.75 13.122 5.6955 13.2289C5.64757 13.323 5.57108 13.3995 5.477 13.4475C5.37004 13.502 5.23003 13.502 4.95 13.502H3.3C3.01997 13.502 2.87996 13.502 2.773 13.4475C2.67892 13.3995 2.60243 13.323 2.5545 13.2289C2.5 13.122 2.5 12.982 2.5 12.702V11.052ZM8.94202 2.14684C8.75 2.55284 8.75 3.07754 8.75 4.12695C8.75 5.17636 8.75 5.70107 8.94202 6.10706C9.13986 6.52535 9.4766 6.8621 9.89489 7.05993C10.3009 7.25195 10.8256 7.25195 11.875 7.25195C12.9244 7.25195 13.4491 7.25195 13.8551 7.05993C14.2734 6.8621 14.6101 6.52535 14.808 6.10706C15 5.70107 15 5.17636 15 4.12695C15 3.07754 15 2.55284 14.808 2.14684C14.6101 1.72856 14.2734 1.39181 13.8551 1.19397C13.4491 1.00195 12.9244 1.00195 11.875 1.00195C10.8256 1.00195 10.3009 1.00195 9.89489 1.19397C9.4766 1.39181 9.13986 1.72856 8.94202 2.14684ZM10.3045 2.77496C10.25 2.88191 10.25 3.02193 10.25 3.30195V4.95195C10.25 5.23198 10.25 5.37199 10.3045 5.47895C10.3524 5.57303 10.4289 5.64952 10.523 5.69746C10.63 5.75195 10.77 5.75195 11.05 5.75195H12.7C12.98 5.75195 13.12 5.75195 13.227 5.69746C13.3211 5.64952 13.3976 5.57303 13.4455 5.47895C13.5 5.37199 13.5 5.23198 13.5 4.95195V3.30195C13.5 3.02193 13.5 2.88191 13.4455 2.77496C13.3976 2.68088 13.3211 2.60439 13.227 2.55645C13.12 2.50195 12.98 2.50195 12.7 2.50195H11.05C10.77 2.50195 10.63 2.50195 10.523 2.55645C10.4289 2.60439 10.3524 2.68088 10.3045 2.77496ZM8.80727 9.13518C8.75 9.26242 8.75 9.4256 8.75 9.75195C8.75 10.0783 8.75 10.2415 8.80727 10.3687C8.87245 10.5136 8.9884 10.6295 9.13323 10.6947C9.26047 10.752 9.42365 10.752 9.75 10.752C10.0764 10.752 10.2395 10.752 10.3668 10.6947C10.5116 10.6295 10.6276 10.5136 10.6927 10.3687C10.75 10.2415 10.75 10.0783 10.75 9.75195C10.75 9.4256 10.75 9.26242 10.6927 9.13518C10.6276 8.99035 10.5116 8.8744 10.3668 8.80922C10.2395 8.75195 10.0764 8.75195 9.75 8.75195C9.42365 8.75195 9.26047 8.75195 9.13323 8.80922C8.9884 8.8744 8.87245 8.99035 8.80727 9.13518ZM10.87 11.8771C10.87 11.546 10.87 11.3805 10.9289 11.2517C10.9938 11.1098 11.1077 10.9959 11.2497 10.931C11.3784 10.8721 11.5439 10.8721 11.875 10.8721C12.2061 10.8721 12.3716 10.8721 12.5003 10.931C12.6423 10.9959 12.7562 11.1098 12.8211 11.2517C12.88 11.3805 12.88 11.546 12.88 11.8771C12.88 12.2081 12.88 12.3737 12.8211 12.5024C12.7562 12.6444 12.6423 12.7583 12.5003 12.8232C12.3716 12.8821 12.2061 12.8821 11.875 12.8821C11.5439 12.8821 11.3784 12.8821 11.2497 12.8232C11.1077 12.7583 10.9938 12.6444 10.9289 12.5024C10.87 12.3737 10.87 12.2081 10.87 11.8771ZM8.80727 13.3852C8.75 13.5124 8.75 13.6756 8.75 14.002C8.75 14.3283 8.75 14.4915 8.80727 14.6187C8.87245 14.7636 8.9884 14.8795 9.13323 14.9447C9.26047 15.002 9.42365 15.002 9.75 15.002C10.0764 15.002 10.2395 15.002 10.3668 14.9447C10.5116 14.8795 10.6276 14.7636 10.6927 14.6187C10.75 14.4915 10.75 14.3283 10.75 14.002C10.75 13.6756 10.75 13.5124 10.6927 13.3852C10.6276 13.2404 10.5116 13.1244 10.3668 13.0592C10.2395 13.002 10.0764 13.002 9.75 13.002C9.42365 13.002 9.26047 13.002 9.13323 13.0592C8.9884 13.1244 8.87245 13.2404 8.80727 13.3852ZM13 9.75195C13 9.4256 13 9.26242 13.0573 9.13518C13.1224 8.99035 13.2384 8.8744 13.3832 8.80922C13.5105 8.75195 13.6736 8.75195 14 8.75195C14.3264 8.75195 14.4895 8.75195 14.6168 8.80922C14.7616 8.8744 14.8776 8.99035 14.9427 9.13518C15 9.26242 15 9.4256 15 9.75195C15 10.0783 15 10.2415 14.9427 10.3687C14.8776 10.5136 14.7616 10.6295 14.6168 10.6947C14.4895 10.752 14.3264 10.752 14 10.752C13.6736 10.752 13.5105 10.752 13.3832 10.6947C13.2384 10.6295 13.1224 10.5136 13.0573 10.3687C13 10.2415 13 10.0783 13 9.75195ZM13.0573 13.3852C13 13.5124 13 13.6756 13 14.002C13 14.3283 13 14.4915 13.0573 14.6187C13.1224 14.7636 13.2384 14.8795 13.3832 14.9447C13.5105 15.002 13.6736 15.002 14 15.002C14.3264 15.002 14.4895 15.002 14.6168 14.9447C14.7616 14.8795 14.8776 14.7636 14.9427 14.6187C15 14.4915 15 14.3283 15 14.002C15 13.6756 15 13.5124 14.9427 13.3852C14.8776 13.2404 14.7616 13.1244 14.6168 13.0592C14.4895 13.002 14.3264 13.002 14 13.002C13.6736 13.002 13.5105 13.002 13.3832 13.0592C13.2384 13.1244 13.1224 13.2404 13.0573 13.3852Z">'),Ad=e=>{let t=jc();return(()=>{var n=Td(),r=n.firstChild;return vs((()=>lc(r,"fill",e.fill||t.colors.icon.secondary))),n})()},Pd=Uc.button`
    padding: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    width: 32px;
    height: 32px;
    border-radius: 50%;
    background-color: transparent;
    border: none;
    cursor: pointer;

    transition: transform 0.125s ease-in-out;

    ${sl} {
        &:hover {
            transform: scale(1.04);
        }
    }

    &:active {
        transform: scale(0.96);
    }

    ${fl} {
        &:active {
            transform: scale(0.92);
        }
    }
`,Dd=e=>{let t=td(e),n=()=>e.icon||"close";return $s(Pd,Vs({get class(){return e.class},onClick:()=>e.onClick(),"data-tc-icon-button":"true"},t,{get children(){return[$s(Zs,{get when(){return!!e.children},get children(){return e.children}}),$s(Zs,{get when(){return!e.children},get children(){return $s(Ys,{get children(){return[$s(Qs,{get when(){return"close"===n()},get children(){return $s(dd,{get fill(){return e.fill}})}}),$s(Qs,{get when(){return"arrow"===n()},get children(){return $s(cd,{get fill(){return e.fill}})}}),$s(Qs,{get when(){return"question"===n()},get children(){return $s(Rd,{get fill(){return e.fill}})}}),$s(Qs,{get when(){return"string"!=typeof n()},get children(){return n()}})]}})}})]}}))},Id={m:"24px",s:"16px",none:"0"},Kd=Uc.div`
  display: flex;
  position: fixed;
  z-index: 1000;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.4);
  padding: 20px 0;
  overflow-y: auto;

  ${al("mobile")} {
    padding-bottom: 0;
  }
`,jd=Pc`
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08), 0 16px 64px rgba(0, 0, 0, 0.16);
  width: fit-content;
  margin: auto;

  ${al("mobile")} {
    width: 100%;
    height: fit-content;
    margin: auto 0 0 0;
  }
`,Md=Uc.div`
  position: relative;
  min-height: 100px;
  width: 416px;
  padding: 44px 56px 24px;

  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.04);

  background-color: ${e=>e.theme.colors.background.primary};
  border-radius: ${e=>Id[e.theme.borderRadius]};

  ${al("mobile")} {
    width: 100%;
    border-radius: 24px 24px 0px 0px;
  }
`,Ud=Uc(Dd)`
  position: absolute;
  right: 16px;
  top: 12px;
`;Uc.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 16px 16px 16px 18px;
  border-radius: 0 0 ${e=>Id[e.theme.borderRadius]}
    ${e=>Id[e.theme.borderRadius]};
`,Uc(Dd)`
  background-color: ${e=>Hc(e.theme.colors.icon.secondary,.12)};
`;var Ld=class{constructor(){Vf(this,"currentTime",0)}},Wd=class{constructor(){Vf(this,"currentTime",0),Vf(this,"playbackRate",1),Vf(this,"startTime",null),Vf(this,"timeline",new Ld),Vf(this,"finished",Promise.resolve(this)),Vf(this,"effect",null),Vf(this,"id",""),Vf(this,"pending",!1),Vf(this,"playState","finished"),Vf(this,"replaceState","active"),Vf(this,"ready",Promise.resolve(this)),Vf(this,"oncancel",null),Vf(this,"onfinish",null),Vf(this,"onremove",null)}static create(){return Wd._instance||(function(){try{for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window?.okxLogDebug&&i.warn("[OKX_TON_CONNECT_UI]",...t)}catch{}}("Animation is not supported in this environment: please consider using the `web-animations-js` polyfill to provide a fallback implementation of the Web Animations API."),Wd._instance=new Wd),Wd._instance}cancel(){}finish(){}pause(){}play(){}reverse(){}addEventListener(e,t,n){}dispatchEvent(e){return!1}removeEventListener(e,t,n){}updatePlaybackRate(e){}commitStyles(){}persist(){}},Bd=Wd;function Xd(e,t,n){return"animate"in e?e.animate(t,n):Bd.create()}Vf(Bd,"_instance",null);var $d=cc("<div>"),Hd=function(e,t){let n=n=>{var r;return!e.contains(n.target)&&(null==(r=t())?void 0:r())};document.body.addEventListener("click",n),Os((()=>document.body.removeEventListener("click",n)))},qd=function(e,t){let n=e=>{var n,r;"Escape"===e.key&&(null==(n=document.activeElement)||n.blur(),null==(r=t())||r())};document.body.addEventListener("keydown",n),Os((()=>document.body.removeEventListener("keydown",n)))},Fd=function(e,t){let{isEnabled:n,onClose:r}=t();if(!n||"android"!==Pl().os)return;window.history.pushState(ad,"");let i=e=>{e.preventDefault(),r()};window.addEventListener("popstate",i,{once:!0}),Os((()=>{window.removeEventListener("popstate",i),Nl((()=>{var e;!0===(null==(e=window.history.state)?void 0:e[od])&&window.history.back()}))}))},Jd=e=>{let t=jc(),n=td(e);return ys((()=>{e.opened?document.documentElement.scrollHeight!==document.documentElement.clientHeight&&(document.body.style.top=qc(-document.documentElement.scrollTop),document.body.classList.add(Bc)):(document.body.classList.remove(Bc),document.documentElement.scrollTo({top:-parseFloat(getComputedStyle(document.body).top)}),document.body.style.top="auto")})),$s(id,{onBeforeEnter:e=>{let t=ol("mobile")?200:100;Xd(e,[{opacity:0},{opacity:1}],{duration:t}),ol("mobile")&&Xd(e.firstElementChild,[{transform:"translateY(390px)"},{transform:"translateY(0)"}],{duration:t})},onExit:(e,t)=>{let n=ol("mobile")?200:100,r=Xd(e,[{opacity:1},{opacity:0}],{duration:n});if(ol("mobile")){let i=Xd(e.firstElementChild,[{transform:"translateY(0)"},{transform:"translateY(390px)"}],{duration:n});Promise.all([r.finished,i.finished]).then(t)}else r.finished.then(t)},get children(){return $s(Zs,{get when(){return e.opened},get children(){return $s(Kd,Vs({"data-tc-modal":"true"},n,{get children(){var n=$d();return hc(Fd,n,(()=>({isEnabled:!0,onClose:()=>e.onClose()}))),hc(qd,n,(()=>()=>e.onClose())),hc(Hd,n,(()=>()=>e.onClose())),pc(n,$s(Md,{get class(){return e.class},get children(){return[$s(Ud,{icon:"close",onClick:()=>e.onClose()}),ms((()=>e.children))]}})),vs((()=>dc(n,(0,If.default)(jd,Pc`
                                border-radius: ${Id[t.borderRadius]};
                                background-color: ${t.colors.background.tint};

                                ${al("mobile")} {
                                    border-radius: ${Id[t.borderRadius]}
                                        ${Id[t.borderRadius]} 0 0;
                                }
                            `)))),n}}))}})}})},Vd={m:"22px",s:"12px",none:"0"},zd={m:"18px",s:"8px",none:"0"};Uc.div`
    display: grid;
    grid-template: 1fr / 1fr 1fr;
    width: fit-content;
    justify-items: center;
    gap: 4px;

    position: relative;
    padding: 4px;
    border-radius: ${e=>Vd[e.theme.borderRadius]};

    background-color: ${e=>e.theme.colors.background.secondary};
`,Uc.div`
    position: absolute;
    top: 4px;
    left: 4px;

    height: calc(100% - 8px);
    width: calc(50% - 4px);

    border-radius: ${e=>zd[e.theme.borderRadius]};
    background-color: ${e=>e.theme.colors.background.segment};

    transform: ${e=>e.right?"translateX(100%)":"translateX(0)"};

    transition: transform 0.13s ease-in-out;
`,Uc.input`
    display: none;
`,Uc.label`
    padding: 9px 12px;
    z-index: 1;

    cursor: ${e=>e.isActive?"default":"pointer"};

    transition: transform 0.13s ease-in-out;

    &:hover {
        transform: ${e=>e.isActive?"none":"scale(1.025)"};
    }

    > * {
        ${e=>e.isActive?"":`color: ${e.theme.colors.text.secondary};`}
    }
`;var Gd={m:"16px",s:"12px",none:"0"},Zd={m:"12px",s:"8px",none:"0"},Yd=Uc.div`
    width: 52px;
    height: 52px;
    background: transparent;
    position: absolute;
    right: 0;
    bottom: 0;

    display: flex;
    align-items: center;
    justify-content: center;
    transition: transform 0.125s ease-in-out;
`,Qd=Uc.button`
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    background-color: ${e=>e.theme.colors.background.qr};
    border-radius: ${e=>Gd[e.theme.borderRadius]};
    padding: ${qc(0)} 0;
    height: ${qc(263)};
    width: 100%;

    overflow: hidden;
    cursor: pointer;
    border: none;

    ${sl} {
        &:hover {
            ${Yd.class} {
                transform: scale(1.04);
            }
        }
    }

    &:active {
        ${Yd.class} {
            transform: scale(0.96);
        }
    }

    ${fl} {
        &:active {
            ${Yd.class} {
                transform: scale(0.92);
            }
        }
    }
`,eu=Uc.div`
    position: relative;
  
    width: fit-content;
    margin: 0 auto;

    > div:first-child {
        display: flex;
        align-items: center;
        justify-content: center;
    }
    
    rect {
        fill: transparent;
    }
    
    path {
        fill: ${e=>e.theme.colors.qrFill};
    }
`,tu=Uc.div`
    position: absolute;
    width: ${qc(56)};
    height: ${qc(56)};
    background: ${e=>e.theme.colors.background.qr};

    display: flex;
    align-items: center;
    justify-content: center;
`,nu=Uc(Zl)`
    width: ${e=>qc(e.size)};
    height: ${e=>qc(e.size)};
    border-radius: ${e=>Zd[e.theme.borderRadius]};
    background-color: ${e=>e.theme.colors.background.qr};
`;Uc.div`
    position: absolute;
    bottom: 14px;
    left: 50%;
    transform: translate(-50%, 0);

    display: flex;
    gap: 6px;
    align-items: center;
    border-radius: 18px;
    min-width: 126px;
    padding: 9px 16px 9px 10px;

    filter: drop-shadow(0px 2px 8px rgba(0, 0, 0, 0.08));
    background-color: ${e=>e.theme.colors.background.segment};
`;var ru={exports:{}};!function(e){var t=function(){var e=function(e,t){var n=e,r=o[t],i=null,a=0,f=null,s=[],c={},l=function(e,t){i=function(e){for(var t=new Array(e),n=0;n<e;n+=1){t[n]=new Array(e);for(var r=0;r<e;r+=1)t[n][r]=null}return t}(a=4*n+17),d(0,0),d(a-7,0),d(0,a-7),h(),u(),O(e,t),n>=7&&b(e),null==f&&(f=S(n,r,s)),_(f,t)},d=function(e,t){for(var n=-1;n<=7;n+=1)if(!(e+n<=-1||a<=e+n))for(var r=-1;r<=7;r+=1)t+r<=-1||a<=t+r||(i[e+n][t+r]=0<=n&&n<=6&&(0==r||6==r)||0<=r&&r<=6&&(0==n||6==n)||2<=n&&n<=4&&2<=r&&r<=4)},u=function(){for(var e=8;e<a-8;e+=1)null==i[e][6]&&(i[e][6]=e%2==0);for(var t=8;t<a-8;t+=1)null==i[6][t]&&(i[6][t]=t%2==0)},h=function(){for(var e=p.getPatternPosition(n),t=0;t<e.length;t+=1)for(var r=0;r<e.length;r+=1){var o=e[t],a=e[r];if(null==i[o][a])for(var f=-2;f<=2;f+=1)for(var s=-2;s<=2;s+=1)i[o+f][a+s]=-2==f||2==f||-2==s||2==s||0==f&&0==s}},b=function(e){for(var t=p.getBCHTypeNumber(n),r=0;r<18;r+=1){var o=!e&&1==(t>>r&1);i[Math.floor(r/3)][r%3+a-8-3]=o}for(r=0;r<18;r+=1){o=!e&&1==(t>>r&1);i[r%3+a-8-3][Math.floor(r/3)]=o}},O=function(e,t){for(var n=r<<3|t,o=p.getBCHTypeInfo(n),f=0;f<15;f+=1){var s=!e&&1==(o>>f&1);f<6?i[f][8]=s:f<8?i[f+1][8]=s:i[a-15+f][8]=s}for(f=0;f<15;f+=1){s=!e&&1==(o>>f&1);f<8?i[8][a-f-1]=s:f<9?i[8][15-f-1+1]=s:i[8][15-f-1]=s}i[a-8][8]=!e},_=function(e,t){for(var n=-1,r=a-1,o=7,f=0,s=p.getMaskFunction(t),c=a-1;c>0;c-=2)for(6==c&&(c-=1);;){for(var l=0;l<2;l+=1)if(null==i[r][c-l]){var d=!1;f<e.length&&(d=1==(e[f]>>>o&1)),s(r,c-l)&&(d=!d),i[r][c-l]=d,-1==(o-=1)&&(f+=1,o=7)}if((r+=n)<0||a<=r){r-=n,n=-n;break}}},S=function(e,t,n){for(var r=v.getRSBlocks(e,t),i=y(),o=0;o<n.length;o+=1){var a=n[o];i.put(a.getMode(),4),i.put(a.getLength(),p.getLengthInBits(a.getMode(),e)),a.write(i)}var f=0;for(o=0;o<r.length;o+=1)f+=r[o].dataCount;if(i.getLengthInBits()>8*f)throw"code length overflow. ("+i.getLengthInBits()+">"+8*f+")";for(i.getLengthInBits()+4<=8*f&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=8*f||(i.put(236,8),i.getLengthInBits()>=8*f));)i.put(17,8);return function(e,t){for(var n=0,r=0,i=0,o=new Array(t.length),a=new Array(t.length),f=0;f<t.length;f+=1){var s=t[f].dataCount,c=t[f].totalCount-s;r=Math.max(r,s),i=Math.max(i,c),o[f]=new Array(s);for(var l=0;l<o[f].length;l+=1)o[f][l]=255&e.getBuffer()[l+n];n+=s;var d=p.getErrorCorrectPolynomial(c),u=g(o[f],d.getLength()-1).mod(d);for(a[f]=new Array(d.getLength()-1),l=0;l<a[f].length;l+=1){var h=l+u.getLength()-a[f].length;a[f][l]=h>=0?u.getAt(h):0}}var b=0;for(l=0;l<t.length;l+=1)b+=t[l].totalCount;var v=new Array(b),y=0;for(l=0;l<r;l+=1)for(f=0;f<t.length;f+=1)l<o[f].length&&(v[y]=o[f][l],y+=1);for(l=0;l<i;l+=1)for(f=0;f<t.length;f+=1)l<a[f].length&&(v[y]=a[f][l],y+=1);return v}(i,r)};c.addData=function(e,t){var n=null;switch(t=t||"Byte"){case"Numeric":n=m(e);break;case"Alphanumeric":n=C(e);break;case"Byte":n=w(e);break;case"Kanji":n=x(e);break;default:throw"mode:"+t}s.push(n),f=null},c.isDark=function(e,t){if(e<0||a<=e||t<0||a<=t)throw e+","+t;return i[e][t]},c.getModuleCount=function(){return a},c.make=function(){if(n<1){for(var e=1;e<40;e++){for(var t=v.getRSBlocks(e,r),i=y(),o=0;o<s.length;o++){var a=s[o];i.put(a.getMode(),4),i.put(a.getLength(),p.getLengthInBits(a.getMode(),e)),a.write(i)}var f=0;for(o=0;o<t.length;o++)f+=t[o].dataCount;if(i.getLengthInBits()<=8*f)break}n=e}l(!1,function(){for(var e=0,t=0,n=0;n<8;n+=1){l(!0,n);var r=p.getLostPoint(c);(0==n||e>r)&&(e=r,t=n)}return t}())},c.createTableTag=function(e,t){e=e||2;var n="";n+='<table style="',n+=" border-width: 0px; border-style: none;",n+=" border-collapse: collapse;",n+=" padding: 0px; margin: "+(t=typeof t>"u"?4*e:t)+"px;",n+='">',n+="<tbody>";for(var r=0;r<c.getModuleCount();r+=1){n+="<tr>";for(var i=0;i<c.getModuleCount();i+=1)n+='<td style="',n+=" border-width: 0px; border-style: none;",n+=" border-collapse: collapse;",n+=" padding: 0px; margin: 0px;",n+=" width: "+e+"px;",n+=" height: "+e+"px;",n+=" background-color: ",n+=c.isDark(r,i)?"#000000":"#ffffff",n+=";",n+='"/>';n+="</tr>"}return n+="</tbody>",n+="</table>"},c.createSvgTag=function(e,t,n,r){var i={};"object"==typeof arguments[0]&&(e=(i=arguments[0]).cellSize,t=i.margin,n=i.alt,r=i.title),e=e||2,t=typeof t>"u"?4*e:t,(n="string"==typeof n?{text:n}:n||{}).text=n.text||null,n.id=n.text?n.id||"qrcode-description":null,(r="string"==typeof r?{text:r}:r||{}).text=r.text||null,r.id=r.text?r.id||"qrcode-title":null;var o,a,f,s,l=c.getModuleCount()*e+2*t,d="";for(s="l"+e+",0 0,"+e+" -"+e+",0 0,-"+e+"z ",d+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',d+=i.scalable?"":' width="'+l+'px" height="'+l+'px"',d+=' viewBox="0 0 '+l+" "+l+'" ',d+=' preserveAspectRatio="xMinYMin meet"',d+=r.text||n.text?' role="img" aria-labelledby="'+R([r.id,n.id].join(" ").trim())+'"':"",d+=">",d+=r.text?'<title id="'+R(r.id)+'">'+R(r.text)+"</title>":"",d+=n.text?'<description id="'+R(n.id)+'">'+R(n.text)+"</description>":"",d+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',d+='<path d="',a=0;a<c.getModuleCount();a+=1)for(f=a*e+t,o=0;o<c.getModuleCount();o+=1)c.isDark(a,o)&&(d+="M"+(o*e+t)+","+f+s);return d+='" stroke="transparent" fill="black"/>',d+="</svg>"},c.createDataURL=function(e,t){e=e||2,t=typeof t>"u"?4*e:t;var n=c.getModuleCount()*e+2*t,r=t,i=n-t;return E(n,n,(function(t,n){if(r<=t&&t<i&&r<=n&&n<i){var o=Math.floor((t-r)/e),a=Math.floor((n-r)/e);return c.isDark(a,o)?0:1}return 1}))},c.createImgTag=function(e,t,n){e=e||2,t=typeof t>"u"?4*e:t;var r=c.getModuleCount()*e+2*t,i="";return i+="<img",i+=' src="',i+=c.createDataURL(e,t),i+='"',i+=' width="',i+=r,i+='"',i+=' height="',i+=r,i+='"',n&&(i+=' alt="',i+=R(n),i+='"'),i+="/>"};var R=function(e){for(var t="",n=0;n<e.length;n+=1){var r=e.charAt(n);switch(r){case"<":t+="&lt;";break;case">":t+="&gt;";break;case"&":t+="&amp;";break;case'"':t+="&quot;";break;default:t+=r}}return t};return c.createASCII=function(e,t){if((e=e||1)<2)return function(e){e=typeof e>"u"?2:e;var t,n,r,i,o,a=1*c.getModuleCount()+2*e,f=e,s=a-e,l={"\u2588\u2588":"\u2588","\u2588 ":"\u2580"," \u2588":"\u2584","  ":" "},d={"\u2588\u2588":"\u2580","\u2588 ":"\u2580"," \u2588":" ","  ":" "},u="";for(t=0;t<a;t+=2){for(r=Math.floor((t-f)/1),i=Math.floor((t+1-f)/1),n=0;n<a;n+=1)o="\u2588",f<=n&&n<s&&f<=t&&t<s&&c.isDark(r,Math.floor((n-f)/1))&&(o=" "),f<=n&&n<s&&f<=t+1&&t+1<s&&c.isDark(i,Math.floor((n-f)/1))?o+=" ":o+="\u2588",u+=e<1&&t+1>=s?d[o]:l[o];u+="\n"}return a%2&&e>0?u.substring(0,u.length-a-1)+Array(a+1).join("\u2580"):u.substring(0,u.length-1)}(t);e-=1,t=typeof t>"u"?2*e:t;var n,r,i,o,a=c.getModuleCount()*e+2*t,f=t,s=a-t,l=Array(e+1).join("\u2588\u2588"),d=Array(e+1).join("  "),u="",h="";for(n=0;n<a;n+=1){for(i=Math.floor((n-f)/e),h="",r=0;r<a;r+=1)o=1,f<=r&&r<s&&f<=n&&n<s&&c.isDark(i,Math.floor((r-f)/e))&&(o=0),h+=o?l:d;for(i=0;i<e;i+=1)u+=h+"\n"}return u.substring(0,u.length-1)},c.renderTo2dContext=function(e,t){t=t||2;for(var n=c.getModuleCount(),r=0;r<n;r++)for(var i=0;i<n;i++)e.fillStyle=c.isDark(r,i)?"black":"white",e.fillRect(r*t,i*t,t,t)},c};e.stringToBytes=(e.stringToBytesFuncs={default:function(e){for(var t=[],n=0;n<e.length;n+=1){var r=e.charCodeAt(n);t.push(255&r)}return t}}).default,e.createStringToBytes=function(e,t){var n=function(){for(var n=_(e),r=function(){var e=n.read();if(-1==e)throw"eof";return e},i=0,o={};;){var a=n.read();if(-1==a)break;var f=r(),s=r()<<8|r();o[String.fromCharCode(a<<8|f)]=s,i+=1}if(i!=t)throw i+" != "+t;return o}();return function(e){for(var t=[],r=0;r<e.length;r+=1){var i=e.charCodeAt(r);if(i<128)t.push(i);else{var o=n[e.charAt(r)];"number"==typeof o?(255&o)==o?t.push(o):(t.push(o>>>8),t.push(255&o)):t.push(63)}}return t}};var t=1,n=2,r=4,i=8,o={L:1,M:0,Q:3,H:2},a=0,f=1,s=2,c=3,l=4,d=5,u=6,h=7,p=function(){var e=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],o=1335,p=7973,v={},y=function(e){for(var t=0;0!=e;)t+=1,e>>>=1;return t};return v.getBCHTypeInfo=function(e){for(var t=e<<10;y(t)-y(o)>=0;)t^=o<<y(t)-y(o);return 21522^(e<<10|t)},v.getBCHTypeNumber=function(e){for(var t=e<<12;y(t)-y(p)>=0;)t^=p<<y(t)-y(p);return e<<12|t},v.getPatternPosition=function(t){return e[t-1]},v.getMaskFunction=function(e){switch(e){case a:return function(e,t){return(e+t)%2==0};case f:return function(e,t){return e%2==0};case s:return function(e,t){return t%3==0};case c:return function(e,t){return(e+t)%3==0};case l:return function(e,t){return(Math.floor(e/2)+Math.floor(t/3))%2==0};case d:return function(e,t){return e*t%2+e*t%3==0};case u:return function(e,t){return(e*t%2+e*t%3)%2==0};case h:return function(e,t){return(e*t%3+(e+t)%2)%2==0};default:throw"bad maskPattern:"+e}},v.getErrorCorrectPolynomial=function(e){for(var t=g([1],0),n=0;n<e;n+=1)t=t.multiply(g([1,b.gexp(n)],0));return t},v.getLengthInBits=function(e,o){if(1<=o&&o<10)switch(e){case t:return 10;case n:return 9;case r:case i:return 8;default:throw"mode:"+e}else if(o<27)switch(e){case t:return 12;case n:return 11;case r:return 16;case i:return 10;default:throw"mode:"+e}else{if(!(o<41))throw"type:"+o;switch(e){case t:return 14;case n:return 13;case r:return 16;case i:return 12;default:throw"mode:"+e}}},v.getLostPoint=function(e){for(var t=e.getModuleCount(),n=0,r=0;r<t;r+=1)for(var i=0;i<t;i+=1){for(var o=0,a=e.isDark(r,i),f=-1;f<=1;f+=1)if(!(r+f<0||t<=r+f))for(var s=-1;s<=1;s+=1)i+s<0||t<=i+s||0==f&&0==s||a==e.isDark(r+f,i+s)&&(o+=1);o>5&&(n+=3+o-5)}for(r=0;r<t-1;r+=1)for(i=0;i<t-1;i+=1){var c=0;e.isDark(r,i)&&(c+=1),e.isDark(r+1,i)&&(c+=1),e.isDark(r,i+1)&&(c+=1),e.isDark(r+1,i+1)&&(c+=1),(0==c||4==c)&&(n+=3)}for(r=0;r<t;r+=1)for(i=0;i<t-6;i+=1)e.isDark(r,i)&&!e.isDark(r,i+1)&&e.isDark(r,i+2)&&e.isDark(r,i+3)&&e.isDark(r,i+4)&&!e.isDark(r,i+5)&&e.isDark(r,i+6)&&(n+=40);for(i=0;i<t;i+=1)for(r=0;r<t-6;r+=1)e.isDark(r,i)&&!e.isDark(r+1,i)&&e.isDark(r+2,i)&&e.isDark(r+3,i)&&e.isDark(r+4,i)&&!e.isDark(r+5,i)&&e.isDark(r+6,i)&&(n+=40);var l=0;for(i=0;i<t;i+=1)for(r=0;r<t;r+=1)e.isDark(r,i)&&(l+=1);return n+=10*(Math.abs(100*l/t/t-50)/5)},v}(),b=function(){for(var e=new Array(256),t=new Array(256),n=0;n<8;n+=1)e[n]=1<<n;for(n=8;n<256;n+=1)e[n]=e[n-4]^e[n-5]^e[n-6]^e[n-8];for(n=0;n<255;n+=1)t[e[n]]=n;var r={glog:function(e){if(e<1)throw"glog("+e+")";return t[e]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return e[t]}};return r}();function g(e,t){if(typeof e.length>"u")throw e.length+"/"+t;var n=function(){for(var n=0;n<e.length&&0==e[n];)n+=1;for(var r=new Array(e.length-n+t),i=0;i<e.length-n;i+=1)r[i]=e[i+n];return r}(),r={getAt:function(e){return n[e]},getLength:function(){return n.length},multiply:function(e){for(var t=new Array(r.getLength()+e.getLength()-1),n=0;n<r.getLength();n+=1)for(var i=0;i<e.getLength();i+=1)t[n+i]^=b.gexp(b.glog(r.getAt(n))+b.glog(e.getAt(i)));return g(t,0)},mod:function(e){if(r.getLength()-e.getLength()<0)return r;for(var t=b.glog(r.getAt(0))-b.glog(e.getAt(0)),n=new Array(r.getLength()),i=0;i<r.getLength();i+=1)n[i]=r.getAt(i);for(i=0;i<e.getLength();i+=1)n[i]^=b.gexp(b.glog(e.getAt(i))+t);return g(n,0).mod(e)}};return r}var v=function(){var e=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],t=function(e,t){var n={};return n.totalCount=e,n.dataCount=t,n},n={};return n.getRSBlocks=function(n,r){var i=function(t,n){switch(n){case o.L:return e[4*(t-1)+0];case o.M:return e[4*(t-1)+1];case o.Q:return e[4*(t-1)+2];case o.H:return e[4*(t-1)+3];default:return}}(n,r);if(typeof i>"u")throw"bad rs block @ typeNumber:"+n+"/errorCorrectionLevel:"+r;for(var a=i.length/3,f=[],s=0;s<a;s+=1)for(var c=i[3*s+0],l=i[3*s+1],d=i[3*s+2],u=0;u<c;u+=1)f.push(t(l,d));return f},n}(),y=function(){var e=[],t=0,n={getBuffer:function(){return e},getAt:function(t){var n=Math.floor(t/8);return 1==(e[n]>>>7-t%8&1)},put:function(e,t){for(var r=0;r<t;r+=1)n.putBit(1==(e>>>t-r-1&1))},getLengthInBits:function(){return t},putBit:function(n){var r=Math.floor(t/8);e.length<=r&&e.push(0),n&&(e[r]|=128>>>t%8),t+=1}};return n},m=function(e){var n=t,r=e,i={getMode:function(){return n},getLength:function(e){return r.length},write:function(e){for(var t=r,n=0;n+2<t.length;)e.put(o(t.substring(n,n+3)),10),n+=3;n<t.length&&(t.length-n==1?e.put(o(t.substring(n,n+1)),4):t.length-n==2&&e.put(o(t.substring(n,n+2)),7))}},o=function(e){for(var t=0,n=0;n<e.length;n+=1)t=10*t+a(e.charAt(n));return t},a=function(e){if("0"<=e&&e<="9")return e.charCodeAt(0)-48;throw"illegal char :"+e};return i},C=function(e){var t=n,r=e,i={getMode:function(){return t},getLength:function(e){return r.length},write:function(e){for(var t=r,n=0;n+1<t.length;)e.put(45*o(t.charAt(n))+o(t.charAt(n+1)),11),n+=2;n<t.length&&e.put(o(t.charAt(n)),6)}},o=function(e){if("0"<=e&&e<="9")return e.charCodeAt(0)-48;if("A"<=e&&e<="Z")return e.charCodeAt(0)-65+10;switch(e){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+e}};return i},w=function(t){var n=r,i=e.stringToBytes(t),o={getMode:function(){return n},getLength:function(e){return i.length},write:function(e){for(var t=0;t<i.length;t+=1)e.put(i[t],8)}};return o},x=function(t){var n=i,r=e.stringToBytesFuncs.SJIS;if(!r)throw"sjis not supported.";!function(){var e=r("\u53cb");if(2!=e.length||38726!=(e[0]<<8|e[1]))throw"sjis not supported."}();var o=r(t),a={getMode:function(){return n},getLength:function(e){return~~(o.length/2)},write:function(e){for(var t=o,n=0;n+1<t.length;){var r=(255&t[n])<<8|255&t[n+1];if(33088<=r&&r<=40956)r-=33088;else{if(!(57408<=r&&r<=60351))throw"illegal char at "+(n+1)+"/"+r;r-=49472}r=192*(r>>>8&255)+(255&r),e.put(r,13),n+=2}if(n<t.length)throw"illegal char at "+(n+1)}};return a},O=function(){var e=[],t={writeByte:function(t){e.push(255&t)},writeShort:function(e){t.writeByte(e),t.writeByte(e>>>8)},writeBytes:function(e,n,r){n=n||0,r=r||e.length;for(var i=0;i<r;i+=1)t.writeByte(e[i+n])},writeString:function(e){for(var n=0;n<e.length;n+=1)t.writeByte(e.charCodeAt(n))},toByteArray:function(){return e},toString:function(){var t="";t+="[";for(var n=0;n<e.length;n+=1)n>0&&(t+=","),t+=e[n];return t+="]"}};return t},_=function(e){var t=e,n=0,r=0,i=0,o={read:function(){for(;i<8;){if(n>=t.length){if(0==i)return-1;throw"unexpected end of file./"+i}var e=t.charAt(n);if(n+=1,"="==e)return i=0,-1;e.match(/^\s$/)||(r=r<<6|a(e.charCodeAt(0)),i+=6)}var o=r>>>i-8&255;return i-=8,o}},a=function(e){if(65<=e&&e<=90)return e-65;if(97<=e&&e<=122)return e-97+26;if(48<=e&&e<=57)return e-48+52;if(43==e)return 62;if(47==e)return 63;throw"c:"+e};return o},E=function(e,t,n){for(var r=function(e,t){var n=e,r=t,i=new Array(e*t),o={setPixel:function(e,t,r){i[t*n+e]=r},write:function(e){e.writeString("GIF87a"),e.writeShort(n),e.writeShort(r),e.writeByte(128),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeByte(255),e.writeByte(255),e.writeByte(255),e.writeString(","),e.writeShort(0),e.writeShort(0),e.writeShort(n),e.writeShort(r),e.writeByte(0);var t=a(2);e.writeByte(2);for(var i=0;t.length-i>255;)e.writeByte(255),e.writeBytes(t,i,255),i+=255;e.writeByte(t.length-i),e.writeBytes(t,i,t.length-i),e.writeByte(0),e.writeString(";")}},a=function(e){for(var t=1<<e,n=1+(1<<e),r=e+1,o=f(),a=0;a<t;a+=1)o.add(String.fromCharCode(a));o.add(String.fromCharCode(t)),o.add(String.fromCharCode(n));var s=O(),c=function(e){var t=e,n=0,r=0,i={write:function(e,i){if(e>>>i)throw"length over";for(;n+i>=8;)t.writeByte(255&(e<<n|r)),i-=8-n,e>>>=8-n,r=0,n=0;r|=e<<n,n+=i},flush:function(){n>0&&t.writeByte(r)}};return i}(s);c.write(t,r);var l=0,d=String.fromCharCode(i[l]);for(l+=1;l<i.length;){var u=String.fromCharCode(i[l]);l+=1,o.contains(d+u)?d+=u:(c.write(o.indexOf(d),r),o.size()<4095&&(o.size()==1<<r&&(r+=1),o.add(d+u)),d=u)}return c.write(o.indexOf(d),r),c.write(n,r),c.flush(),s.toByteArray()},f=function(){var e={},t=0,n={add:function(r){if(n.contains(r))throw"dup key:"+r;e[r]=t,t+=1},size:function(){return t},indexOf:function(t){return e[t]},contains:function(t){return typeof e[t]<"u"}};return n};return o}(e,t),i=0;i<t;i+=1)for(var o=0;o<e;o+=1)r.setPixel(o,i,n(o,i));var a=O();r.write(a);for(var f=function(){var e=0,t=0,n=0,r="",i={},o=function(e){r+=String.fromCharCode(a(63&e))},a=function(e){if(!(e<0)){if(e<26)return 65+e;if(e<52)return e-26+97;if(e<62)return e-52+48;if(62==e)return 43;if(63==e)return 47}throw"n:"+e};return i.writeByte=function(r){for(e=e<<8|255&r,t+=8,n+=1;t>=6;)o(e>>>t-6),t-=6},i.flush=function(){if(t>0&&(o(e<<6-t),e=0,t=0),n%3!=0)for(var i=3-n%3,a=0;a<i;a+=1)r+="="},i.toString=function(){return r},i}(),s=a.toByteArray(),c=0;c<s.length;c+=1)f.writeByte(s[c]);return f.flush(),"data:image/gif;base64,"+f};return e}();t.stringToBytesFuncs["UTF-8"]=function(e){return function(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t.push(r):r<2048?t.push(192|r>>6,128|63&r):r<55296||r>=57344?t.push(224|r>>12,128|r>>6&63,128|63&r):(n++,r=65536+((1023&r)<<10|1023&e.charCodeAt(n)),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r))}return t}(e)},e.exports=t}(ru);var iu=ru.exports,ou=cc("<div>"),au=e=>{let t,n,r;gs(!1);let[i,o]=gs(54);return ys((()=>{let i=iu(0,"L");i.addData(e.sourceUrl),i.make(),t.innerHTML=i.createSvgTag(4,0);let a=t.firstElementChild.clientWidth,f=Math.round(263/a*1e5)/1e5;if(r){let e=4*Math.ceil(56/(4*f)),t=qc(4*Math.ceil((a-e)/8));r.style.top=t,r.style.left=t,r.style.height=qc(e),r.style.width=qc(e),o(Math.round(54/f))}n.style.transform=`scale(${f})`})),$s(Qd,{get class(){return e.class},get children(){return[$s(eu,{ref(e){"function"==typeof n?n(e):n=e},get children(){return[(()=>{var e=ou();return"function"==typeof t?hc(t,e):t=e,e})(),$s(Zs,{get when(){return e.imageUrl},get children(){return $s(tu,{ref(e){"function"==typeof r?r(e):r=e},get children(){return $s(nu,{get src(){return e.imageUrl},alt:"",get size(){return i()}})}})}})]}}),$s(id,{onBeforeEnter:e=>{Xd(e,[{opacity:0,transform:"translate(-50%, 44px)"},{opacity:1,transform:"translate(-50%, 0)"}],{duration:150,easing:"ease-out"})},onExit:(e,t)=>{Xd(e,[{opacity:1,transform:"translate(-50%, 0)"},{opacity:0,transform:"translate(-50%, 44px)"}],{duration:150,easing:"ease-out"}).finished.then((()=>{t()}))}})]}})},fu=Symbol("store-raw"),su=Symbol("store-node"),cu=Symbol("store-has"),lu=Symbol("store-self");function du(e){let t=e[ts];if(!t&&(Object.defineProperty(e,ts,{value:t=new Proxy(e,vu)}),!Array.isArray(e))){let n=Object.keys(e),r=Object.getOwnPropertyDescriptors(e);for(let i=0,o=n.length;i<o;i++){let o=n[i];r[o].get&&Object.defineProperty(e,o,{enumerable:r[o].enumerable,get:r[o].get.bind(t)})}}return t}function uu(e){let t;return null!=e&&"object"==typeof e&&(e[ts]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function hu(e){let t,n,r,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set;if(t=null!=e&&e[fu])return t;if(!uu(e)||o.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):o.add(e);for(let t=0,i=e.length;t<i;t++)r=e[t],(n=hu(r,o))!==r&&(e[t]=n)}else{Object.isFrozen(e)?e=Object.assign({},e):o.add(e);let t=Object.keys(e),a=Object.getOwnPropertyDescriptors(e);for(let f=0,s=t.length;f<s;f++)i=t[f],!a[i].get&&(r=e[i],(n=hu(r,o))!==r&&(e[i]=n))}return e}function pu(e,t){let n=e[t];return n||Object.defineProperty(e,t,{value:n=Object.create(null)}),n}function bu(e,t,n){if(e[t])return e[t];let[r,i]=gs(n,{equals:!1,internal:!0});return r.$=i,e[t]=r}function gu(e){_s()&&bu(pu(e,su),lu)()}var vu={get(e,t,n){if(t===fu)return e;if(t===ts)return n;if(t===rs)return gu(e),n;let r=pu(e,su),i=r[t],o=i?i():e[t];if(t===su||t===cu||"__proto__"===t)return o;if(!i){let n=Object.getOwnPropertyDescriptor(e,t);_s()&&("function"!=typeof o||e.hasOwnProperty(t))&&(!n||!n.get)&&(o=bu(r,t,o)())}return uu(o)?du(o):o},has:(e,t)=>t===fu||t===ts||t===rs||t===su||t===cu||"__proto__"===t||(_s()&&bu(pu(e,cu),t)(),t in e),set:()=>!0,deleteProperty:()=>!0,ownKeys:function(e){return gu(e),Reflect.ownKeys(e)},getOwnPropertyDescriptor:function(e,t){let n=Reflect.getOwnPropertyDescriptor(e,t);return!n||n.get||!n.configurable||t===ts||t===su||(delete n.value,delete n.writable,n.get=()=>e[ts][t]),n}};function yu(e,t,n){if(!(arguments.length>3&&void 0!==arguments[3]&&arguments[3])&&e[t]===n)return;let r=e[t],i=e.length;void 0===n?(delete e[t],e[cu]&&e[cu][t]&&void 0!==r&&e[cu][t].$()):(e[t]=n,e[cu]&&e[cu][t]&&void 0===r&&e[cu][t].$());let o,a=pu(e,su);if((o=bu(a,t,r))&&o.$((()=>n)),Array.isArray(e)&&e.length!==i){for(let t=e.length;t<i;t++)(o=a[t])&&o.$();(o=bu(a,"length",i))&&o.$(e.length)}(o=a[lu])&&o.$()}function mu(e,t){let n=Object.keys(t);for(let r=0;r<n.length;r+=1){let i=n[r];yu(e,i,t[i])}}function Cu(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=e;if(t.length>1){n=t.shift();let o=typeof n,a=Array.isArray(e);if(Array.isArray(n)){for(let i=0;i<n.length;i++)Cu(e,[n[i]].concat(t),r);return}if(a&&"function"===o){for(let i=0;i<e.length;i++)n(e[i],i)&&Cu(e,[i].concat(t),r);return}if(a&&"object"===o){let{from:i=0,to:o=e.length-1,by:a=1}=n;for(let n=i;n<=o;n+=a)Cu(e,[n].concat(t),r);return}if(t.length>1)return void Cu(e[n],t,[n].concat(r));i=e[n],r=[n].concat(r)}let o=t[0];"function"==typeof o&&(o=o(i,r),o===i)||void 0===n&&null==o||(o=hu(o),void 0===n||uu(i)&&uu(o)&&!Array.isArray(o)?mu(i,o):yu(e,n,o))}function wu(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let[r,i]=t,o=hu(r||{}),a=Array.isArray(o);return[du(o),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Cs((()=>{a&&1===t.length?function(e,t){if("function"==typeof t&&(t=t(e)),t=hu(t),Array.isArray(t)){if(e===t)return;let n=0,r=t.length;for(;n<r;n++){let r=t[n];e[n]!==r&&yu(e,n,r)}yu(e,"length",r)}else mu(e,t)}(o,t[0]):Cu(o,t)}))}]}function xu(e,t,n){let r=e[t]||t.trim().split(".").reduce(((e,t)=>e?e[t]:void 0),e);return void 0!==r?r:n}var Ou=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:typeof navigator<"u"&&navigator.language in e?navigator.language:(t=>null!=(t=Object.keys(e)[0])?t:"")(),[n,r]=gs(t),[i,o]=wu(e);return[(e,t,r)=>{let o=xu(i[n()],e,r||"");return"function"==typeof o?o(t):"string"==typeof o?function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:/{{([^{}]+)}}/g;return e.replace(n,((e,n)=>xu(t,n,"")))}(o,t||{}):o},{add(e,t){o(e,(e=>Object.assign(e||{},t)))},locale:e=>e?r(e):n(),dict:e=>xu(i,e)}]},_u=Ss({}),Eu=()=>Rs(_u),Su=Uc.div`
    font-style: normal;
    font-weight: ${e=>e.fontWeight};
    font-size: ${e=>e.fontSize};
    line-height: ${e=>e.lineHeight};

    color: ${e=>e.color};
`,Ru=e=>{let t,n=jc(),[r]=Eu(),i=Vs({fontSize:"14px",fontWeight:"510",lineHeight:"130%"},e);return ys((()=>{t&&"unset"!==i.cursor&&"pointer"!==getComputedStyle(t).cursor&&(t.style.cursor="default")})),$s(Su,{get fontSize(){return i.fontSize},get fontWeight(){return i.fontWeight},get lineHeight(){return i.lineHeight},get color(){return e.color||n.colors.text.primary},get class(){return i.class},ref(e){"function"==typeof t?t(e):t=e},"data-tc-text":"true",get children(){var e;return ms((()=>!!i.translationKey))()?r(i.translationKey,i.translationValues,null==(e=i.children)?void 0:e.toString()):i.children}})},Nu=Uc.div`
    position: relative;

    &::after {
        content: '';
        display: block;
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        border: 0.5px solid rgba(0, 0, 0, 0.08);

        border-radius: inherit;
    }
`,ku=Uc(Zl)`
    width: 100%;
    height: 100%;
    border-radius: inherit;
`,Tu=e=>$s(Nu,{get class(){return e.class},get children(){return $s(ku,{get src(){return e.src}})}}),Au={m:"16px",s:"12px",none:"0"},Pu={m:"6px",s:"6px",none:"0"};Uc.button`
    position: relative;
    cursor: pointer;
    border: none;
    background-color: unset;
    padding: 8px 4px;
    width: 92px;
    display: flex;
    flex-direction: column;
    align-items: center;

    transition: transform 0.125s ease-in-out;

    ${sl} {
        &:hover {
            transform: scale(1.04);
        }
    }

    &:active {
        transform: scale(0.96);
    }

    ${al("mobile")} {
        padding: 8px 4px;
        width: 82px;
    }

    ${fl} {
        &:active {
            transform: scale(0.92);
        }
    }
`,Uc(Tu)`
    width: 60px;
    height: 60px;
    border-radius: ${e=>Au[e.theme.borderRadius]};

    margin-bottom: 8px;
`,Uc(Zl)`
    position: absolute;
    right: 10px;
    top: 50px;
    width: 24px;
    height: 24px;
    border-radius: ${e=>Pu[e.theme.borderRadius]};
    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.08);
`,Uc(Ru)`
    max-width: 90px;
    font-weight: 510;
    white-space: nowrap;
    text-overflow: ellipsis;
    overflow: hidden;

    ${al("mobile")} {
        max-width: 80px;
    }
`,Uc(Ru)`
    font-weight: ${e=>e.colorPrimary?"510":"400"};
    max-width: 90px;
    white-space: nowrap;
    text-overflow: ellipsis;
    overflow: hidden;
    color: ${e=>e.colorPrimary?e.theme.colors.text.primary:e.theme.colors.text.secondary};

    ${al("mobile")} {
        max-width: 80px;
    }
`;var Du=Uc.h1`
    font-style: normal;
    font-weight: 590;
    font-size: 20px;
    line-height: 28px;

    text-align: center;

    color: ${e=>e.theme.colors.text.primary};

    margin-top: 0;
    margin-bottom: 0;

    cursor: default;
`,Iu=e=>{let[t]=Eu();return $s(Du,{get class(){return e.class},"data-tc-h1":"true",get children(){var n;return ms((()=>!!e.translationKey))()?t(e.translationKey,e.translationValues,null==(n=e.children)?void 0:n.toString()):e.children}})},Ku=Uc.h2`
    font-style: normal;
    font-weight: 400;
    font-size: 16px;
    line-height: 22px;

    text-align: center;

    color: ${e=>e.theme.colors.text.secondary};

    margin-top: 0;
    margin-bottom: 32px;

    cursor: default;
`,ju=Uc.h3`
    font-style: normal;
    font-weight: 510;
    font-size: 16px;
    line-height: 20px;

    color: ${e=>e.theme.colors.text.primary};

    margin-top: 0;
    margin-bottom: 0;

    cursor: default;
`,Mu=e=>{let[t]=Eu();return $s(ju,{"data-tc-h3":"true",get class(){return e.class},get children(){var n;return ms((()=>!!e.translationKey))()?t(e.translationKey,e.translationValues,null==(n=e.children)?void 0:n.toString()):e.children}})},Uu={m:"16px",s:"12px",none:"0"},Lu={m:"6px",s:"6px",none:"0"};Uc.div`
    width: 60px;
    height: 60px;
    padding: 8px;
    margin-bottom: 8px;
    border-radius: ${e=>Uu[e.theme.borderRadius]};
    background-color: ${e=>e.theme.colors.background.tint};
    display: grid;
    grid-template: 1fr 1fr / 1fr 1fr;
    gap: 4px;
`,Uc(Tu)`
    width: 20px;
    height: 20px;
    border-radius: ${e=>Lu[e.theme.borderRadius]};
`,Uc.div`
    width: 100%;
    overflow-y: auto;
    max-height: ${e=>e.maxHeight};

    scrollbar-width: none;
    &&::-webkit-scrollbar {
        display: none;
    }

    &&::-webkit-scrollbar-track {
        background: transparent;
    }

    &&::-webkit-scrollbar-thumb {
        display: none;
    }
`,Uc.div`
    height: 1px;
    margin: 0 -24px;
    width: calc(100% + 48px);
    opacity: 0.08;
    background: ${e=>e.isShown?e.theme.colors.icon.secondary:"transparent"};
    transition: background 0.15s ease-in-out;

    ${al("mobile")} {
        width: 100%;
        margin: 0;
    }
`;var[Wu,Bu]=gs((null==(Pf=Tl())?void 0:Pf.innerHeight)||0);Tl()&&window.addEventListener("resize",(()=>Bu(window.innerHeight)));var Xu=Uc.a`
    display: block;
    text-decoration: unset;
`,$u=cc('<svg width=24 height=24 viewBox="0 0 24 24"fill=none xmlns=http://www.w3.org/2000/svg><path fill-rule=evenodd clip-rule=evenodd d="M7.76228 2.09998H10.2378C11.0458 2.09997 11.7067 2.09996 12.2438 2.14384C12.7997 2.18926 13.3017 2.28614 13.7706 2.52505C14.5045 2.89896 15.1011 3.49558 15.475 4.22941C15.7139 4.6983 15.8108 5.20038 15.8562 5.75629C15.9001 6.29337 15.9001 6.95422 15.9001 7.76227V8.1H16.2377C17.0457 8.09999 17.7066 8.09998 18.2437 8.14386C18.7996 8.18928 19.3017 8.28616 19.7705 8.52507C20.5044 8.89898 21.101 9.4956 21.4749 10.2294C21.7138 10.6983 21.8107 11.2004 21.8561 11.7563C21.9 12.2934 21.9 12.9542 21.9 13.7623V16.2377C21.9 17.0458 21.9 17.7066 21.8561 18.2437C21.8107 18.7996 21.7138 19.3017 21.4749 19.7706C21.101 20.5044 20.5044 21.101 19.7705 21.4749C19.3017 21.7138 18.7996 21.8107 18.2437 21.8561C17.7066 21.9 17.0458 21.9 16.2378 21.9H13.7623C12.9543 21.9 12.2934 21.9 11.7563 21.8561C11.2004 21.8107 10.6983 21.7138 10.2294 21.4749C9.49561 21.101 8.89898 20.5044 8.52508 19.7706C8.28616 19.3017 8.18928 18.7996 8.14386 18.2437C8.09998 17.7066 8.09999 17.0458 8.1 16.2377V15.9H7.76227C6.95426 15.9 6.29335 15.9 5.75629 15.8561C5.20038 15.8107 4.6983 15.7138 4.22941 15.4749C3.49558 15.101 2.89896 14.5044 2.52505 13.7705C2.28614 13.3017 2.18926 12.7996 2.14384 12.2437C2.09996 11.7066 2.09997 11.0458 2.09998 10.2377V7.76228C2.09997 6.95424 2.09996 6.29336 2.14384 5.75629C2.18926 5.20038 2.28614 4.6983 2.52505 4.22941C2.89896 3.49558 3.49558 2.89896 4.22941 2.52505C4.6983 2.28614 5.20038 2.18926 5.75629 2.14384C6.29336 2.09996 6.95425 2.09997 7.76228 2.09998ZM8.1 14.1V13.7623C8.09999 12.9542 8.09998 12.2934 8.14386 11.7563C8.18928 11.2004 8.28616 10.6983 8.52508 10.2294C8.89898 9.4956 9.49561 8.89898 10.2294 8.52507C10.6983 8.28616 11.2004 8.18928 11.7563 8.14386C12.2934 8.09998 12.9542 8.09999 13.7623 8.1H14.1001V7.79998C14.1001 6.94505 14.0994 6.35798 14.0622 5.90287C14.0259 5.45827 13.9593 5.21944 13.8712 5.0466C13.6699 4.65146 13.3486 4.3302 12.9535 4.12886C12.7806 4.04079 12.5418 3.97419 12.0972 3.93786C11.6421 3.90068 11.055 3.89998 10.2001 3.89998H7.79998C6.94505 3.89998 6.35798 3.90068 5.90287 3.93786C5.45827 3.97419 5.21944 4.04079 5.0466 4.12886C4.65146 4.3302 4.3302 4.65146 4.12886 5.0466C4.04079 5.21944 3.97419 5.45827 3.93786 5.90287C3.90068 6.35798 3.89998 6.94505 3.89998 7.79998V10.2C3.89998 11.0549 3.90068 11.642 3.93786 12.0971C3.97419 12.5417 4.04079 12.7805 4.12886 12.9534C4.3302 13.3485 4.65146 13.6698 5.0466 13.8711C5.21944 13.9592 5.45827 14.0258 5.90287 14.0621C6.35798 14.0993 6.94505 14.1 7.79998 14.1H8.1ZM11.0466 10.1289C11.2195 10.0408 11.4583 9.97421 11.9029 9.93788C12.358 9.9007 12.9451 9.9 13.8 9.9H16.2C17.0549 9.9 17.642 9.9007 18.0971 9.93788C18.5417 9.97421 18.7805 10.0408 18.9534 10.1289C19.3485 10.3302 19.6698 10.6515 19.8711 11.0466C19.9592 11.2195 20.0258 11.4583 20.0621 11.9029C20.0993 12.358 20.1 12.9451 20.1 13.8V16.2C20.1 17.0549 20.0993 17.642 20.0621 18.0971C20.0258 18.5417 19.9592 18.7805 19.8711 18.9534C19.6698 19.3485 19.3485 19.6698 18.9534 19.8711C18.7805 19.9592 18.5417 20.0258 18.0971 20.0621C17.642 20.0993 17.0549 20.1 16.2 20.1H13.8C12.9451 20.1 12.358 20.0993 11.9029 20.0621C11.4583 20.0258 11.2195 19.9592 11.0466 19.8711C10.6515 19.6698 10.3302 19.3485 10.1289 18.9534C10.0408 18.7805 9.97421 18.5417 9.93788 18.0971C9.9007 17.642 9.9 17.0549 9.9 16.2V13.8C9.9 12.9451 9.9007 12.358 9.93788 11.9029C9.97421 11.4583 10.0408 11.2195 10.1289 11.0466C10.3302 10.6515 10.6515 10.3302 11.0466 10.1289Z">'),Hu=e=>{let t=jc();return(()=>{var n=$u(),r=n.firstChild;return vs((i=>{var o=e.class,a=e.fill||t.colors.icon.primary;return o!==i.e&&lc(n,"class",i.e=o),a!==i.t&&lc(r,"fill",i.t=a),i}),{e:void 0,t:void 0}),n})()},qu=cc('<svg width=24 height=24 viewBox="0 0 24 24"fill=none xmlns=http://www.w3.org/2000/svg><path d="M8.7624 3.10001C7.95435 3.1 7.29349 3.09999 6.75642 3.14387C6.2005 3.18929 5.69842 3.28617 5.22954 3.52508C4.4957 3.89899 3.89908 4.49561 3.52517 5.22944C3.28626 5.69833 3.18938 6.20041 3.14396 6.75632C3.10008 7.2934 3.10009 7.95424 3.1001 8.76229V15.2377C3.10009 16.0458 3.10008 16.7066 3.14396 17.2437C3.18938 17.7996 3.28626 18.3017 3.52517 18.7706C3.89908 19.5044 4.4957 20.101 5.22954 20.4749C5.69842 20.7138 6.2005 20.8107 6.75642 20.8561C7.29349 20.9 7.95434 20.9 8.76239 20.9H12.0001C12.4972 20.9 12.9001 20.4971 12.9001 20C12.9001 19.503 12.4972 19.1 12.0001 19.1H8.8001C7.94517 19.1 7.3581 19.0993 6.90299 19.0621C6.45839 19.0258 6.21956 18.9592 6.04672 18.8711C5.65158 18.6698 5.33032 18.3485 5.12898 17.9534C5.04092 17.7805 4.97431 17.5417 4.93798 17.0971C4.9008 16.642 4.9001 16.0549 4.9001 15.2V8.80001C4.9001 7.94508 4.9008 7.35801 4.93798 6.9029C4.97431 6.4583 5.04092 6.21947 5.12898 6.04663C5.33032 5.65149 5.65158 5.33023 6.04672 5.12889C6.21956 5.04082 6.45839 4.97422 6.90299 4.93789C7.3581 4.90071 7.94517 4.90001 8.8001 4.90001H12.0001C12.4972 4.90001 12.9001 4.49706 12.9001 4.00001C12.9001 3.50295 12.4972 3.10001 12.0001 3.10001H8.7624Z"></path><path d="M17.6364 7.3636C17.2849 7.01212 16.7151 7.01212 16.3636 7.3636C16.0121 7.71507 16.0121 8.28492 16.3636 8.63639L18.8272 11.1H9.00001C8.50295 11.1 8.10001 11.5029 8.10001 12C8.10001 12.497 8.50295 12.9 9.00001 12.9H18.8272L16.3636 15.3636C16.0121 15.7151 16.0121 16.2849 16.3636 16.6364C16.7151 16.9879 17.2849 16.9879 17.6364 16.6364L21.6364 12.6364C21.9879 12.2849 21.9879 11.7151 21.6364 11.3636L17.6364 7.3636Z">'),Fu=e=>{let t=jc(),n=()=>e.fill||t.colors.icon.primary;return(()=>{var e=qu(),t=e.firstChild,r=t.nextSibling;return vs((e=>{var i=n(),o=n();return i!==e.e&&lc(t,"fill",e.e=i),o!==e.t&&lc(r,"fill",e.t=o),e}),{e:void 0,t:void 0}),e})()};function Ju(e){return Gf(this,null,(function*(){try{if(!navigator?.clipboard)throw new Yf("Clipboard API not available");return yield navigator.clipboard.writeText(e)}catch{}!function(e){let t=document.createElement("textarea");t.value=e,t.style.top="0",t.style.left="0",t.style.position="fixed",document.body.appendChild(t),t.focus(),t.select();try{document.execCommand("copy")}finally{document.body.removeChild(t)}}(e)}))}var Vu={m:"8px",s:"4px",none:"0"},zu={m:"16px",s:"8px",none:"0"},Gu=Uc.div`
    width: 256px;
    box-shadow: 0 4px 24px rgba(0, 0, 0, 0.16);
    border-radius: ${e=>zu[e.theme.borderRadius]};

    background-color: ${e=>e.theme.colors.background.primary}
           
    color: ${e=>e.theme.colors.text.primary}
`,Zu=Uc.ul`
    background-color: ${e=>e.theme.colors.background.primary};
    padding: 8px;
`,Yu=Uc.button`
    display: flex;
    align-items: center;
    gap: 8px;
    height: 40px;
    padding-left: 8px;
    width: 100%;

    background-color: ${e=>e.theme.colors.background.primary};
    border: none;
    border-radius: ${e=>Vu[e.theme.borderRadius]};
    cursor: pointer;

    transition: background-color, transform 0.1s ease-in-out;

    &:hover {
        background-color: ${e=>e.theme.colors.background.secondary};
    }

    &:active {
        transform: scale(0.96);
    }
`,Qu=Ss(),eh=cc("<li>"),th=e=>$s(Ru,{get translationKey(){return e.translationKey},fontSize:"15px",fontWeight:"590",get children(){return e.children}}),nh=Uc(nd)`
    background-color: ${e=>e.theme.colors.connectButton.background};
    color: ${e=>e.theme.colors.connectButton.foreground};
    box-shadow: ${e=>`0 4px 24px ${Hc(e.theme.colors.constant.black,.16)}`};
    padding: 8px 16px 8px 12px;

    display: flex;
    align-items: center;
    gap: 4px;
    height: 40px;
`,rh=Uc(nh)`
    padding: 12px 16px;
    min-width: 148px;
    justify-content: center;
    background-color: ${e=>e.theme.colors.background.primary};
`,ih=Uc(nd)`
    min-width: 148px;
    height: 40px;

    background-color: ${e=>e.theme.colors.background.primary};
    color: ${e=>e.theme.colors.connectButton.foreground};
    box-shadow: ${e=>`0 4px 24px ${Hc(e.theme.colors.constant.black,.16)}`};

    display: flex;
    align-items: center;
    justify-content: center;
`,oh=Uc(Ed)`
    height: 18px;
    width: 18px;
`,ah=Uc.div`
    width: fit-content;
    display: flex;
    flex-direction: column;
    align-items: flex-end;
`,fh=Uc((e=>{let t=Rs(Qu),[n,r]=gs(!1);return $s(Gu,{ref(t){var n=e.ref;"function"==typeof n?n(t):e.ref=t},get class(){return e.class},"data-tc-dropdown":"true",get children(){return $s(Zu,{get children(){return[(()=>{var e=eh();return pc(e,$s(Yu,{onClick:()=>Gf(void 0,null,(function*(){let e=(0,_f.toUserFriendlyAddress)(t.account.address);yield Ju(e),r(!0),setTimeout((()=>r(!1)),1e3)})),get children(){return[$s(Hu,{}),$s(Zs,{get when(){return!n()},get children(){return $s(th,{translationKey:"button.dropdown.copy",children:"Copy address"})}}),$s(Zs,{get when(){return n()},get children(){return $s(th,{translationKey:"button.dropdown.copied",children:"Address copied!"})}})]}})),e})(),(()=>{var n=eh();return pc(n,$s(Yu,{onClick:()=>(t.disconnect(),void e.onClose()),get children(){return[$s(Fu,{}),$s(th,{translationKey:"button.dropdown.disconnect",children:"Disconnect"})]}})),n})()]}})}})}))`
    box-sizing: border-box;
    overflow: hidden;
    margin-top: 12px;
`,sh=Math.min,ch=Math.max,lh=Math.round,dh=Math.floor,uh=e=>({x:e,y:e});function hh(e){return e.split("-")[0]}function ph(e){return["top","bottom"].includes(hh(e))?"y":"x"}function bh(e){let{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function gh(e,t,n){let r,{reference:i,floating:o}=e,a=ph(t),f=function(e){return function(e){return"x"===e?"y":"x"}(ph(e))}(t),s=function(e){return"y"===e?"height":"width"}(f),c=hh(t),l="y"===a,d=i.x+i.width/2-o.width/2,u=i.y+i.height/2-o.height/2,h=i[s]/2-o[s]/2;switch(c){case"top":r={x:d,y:i.y-o.height};break;case"bottom":r={x:d,y:i.y+i.height};break;case"right":r={x:i.x+i.width,y:u};break;case"left":r={x:i.x-o.width,y:u};break;default:r={x:i.x,y:i.y}}switch(function(e){return e.split("-")[1]}(t)){case"start":r[f]-=h*(n&&l?-1:1);break;case"end":r[f]+=h*(n&&l?-1:1)}return r}function vh(){return typeof window<"u"}function yh(e){return wh(e)?(e.nodeName||"").toLowerCase():"#document"}function mh(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function Ch(e){var t;return null==(t=(wh(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function wh(e){return!!vh()&&(e instanceof Node||e instanceof mh(e).Node)}function xh(e){return!!vh()&&(e instanceof Element||e instanceof mh(e).Element)}function Oh(e){return!!vh()&&(e instanceof HTMLElement||e instanceof mh(e).HTMLElement)}function _h(e){return!(!vh()||typeof ShadowRoot>"u")&&(e instanceof ShadowRoot||e instanceof mh(e).ShadowRoot)}function Eh(e){let{overflow:t,overflowX:n,overflowY:r,display:i}=Ah(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function Sh(e){return["table","td","th"].includes(yh(e))}function Rh(e){return[":popover-open",":modal"].some((t=>{try{return e.matches(t)}catch{return!1}}))}function Nh(e){let t=kh(),n=xh(e)?Ah(e):e;return"none"!==n.transform||"none"!==n.perspective||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||["transform","perspective","filter"].some((e=>(n.willChange||"").includes(e)))||["paint","layout","strict","content"].some((e=>(n.contain||"").includes(e)))}function kh(){return!(typeof CSS>"u"||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function Th(e){return["html","body","#document"].includes(yh(e))}function Ah(e){return mh(e).getComputedStyle(e)}function Ph(e){return xh(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Dh(e){if("html"===yh(e))return e;let t=e.assignedSlot||e.parentNode||_h(e)&&e.host||Ch(e);return _h(t)?t.host:t}function Ih(e){let t=Dh(e);return Th(t)?e.ownerDocument?e.ownerDocument.body:e.body:Oh(t)&&Eh(t)?t:Ih(t)}function Kh(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);let i=Ih(e),o=i===(null==(r=e.ownerDocument)?void 0:r.body),a=mh(i);if(o){let e=jh(a);return t.concat(a,a.visualViewport||[],Eh(i)?i:[],e&&n?Kh(e):[])}return t.concat(i,Kh(i,[],n))}function jh(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Mh(e){let t=Ah(e),n=parseFloat(t.width)||0,r=parseFloat(t.height)||0,i=Oh(e),o=i?e.offsetWidth:n,a=i?e.offsetHeight:r,f=lh(n)!==o||lh(r)!==a;return f&&(n=o,r=a),{width:n,height:r,$:f}}function Uh(e){return xh(e)?e:e.contextElement}function Lh(e){let t=Uh(e);if(!Oh(t))return uh(1);let n=t.getBoundingClientRect(),{width:r,height:i,$:o}=Mh(t),a=(o?lh(n.width):n.width)/r,f=(o?lh(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!f||!Number.isFinite(f))&&(f=1),{x:a,y:f}}var Wh=uh(0);function Bh(e){let t=mh(e);return kh()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:Wh}function Xh(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);let i=e.getBoundingClientRect(),o=Uh(e),a=uh(1);t&&(r?xh(r)&&(a=Lh(r)):a=Lh(e));let f=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==mh(e))&&t}(o,n,r)?Bh(o):uh(0),s=(i.left+f.x)/a.x,c=(i.top+f.y)/a.y,l=i.width/a.x,d=i.height/a.y;if(o){let e=mh(o),t=r&&xh(r)?mh(r):r,n=e,i=jh(n);for(;i&&r&&t!==n;){let e=Lh(i),t=i.getBoundingClientRect(),r=Ah(i),o=t.left+(i.clientLeft+parseFloat(r.paddingLeft))*e.x,a=t.top+(i.clientTop+parseFloat(r.paddingTop))*e.y;s*=e.x,c*=e.y,l*=e.x,d*=e.y,s+=o,c+=a,n=mh(i),i=jh(n)}}return bh({width:l,height:d,x:s,y:c})}function $h(e,t){let n=Ph(e).scrollLeft;return t?t.left+n:Xh(Ch(e)).left+n}function Hh(e,t,n){let r;if("viewport"===t)r=function(e,t){let n=mh(e),r=Ch(e),i=n.visualViewport,o=r.clientWidth,a=r.clientHeight,f=0,s=0;if(i){o=i.width,a=i.height;let e=kh();(!e||e&&"fixed"===t)&&(f=i.offsetLeft,s=i.offsetTop)}return{width:o,height:a,x:f,y:s}}(e,n);else if("document"===t)r=function(e){let t=Ch(e),n=Ph(e),r=e.ownerDocument.body,i=ch(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=ch(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight),a=-n.scrollLeft+$h(e),f=-n.scrollTop;return"rtl"===Ah(r).direction&&(a+=ch(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:a,y:f}}(Ch(e));else if(xh(t))r=function(e,t){let n=Xh(e,!0,"fixed"===t),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=Oh(e)?Lh(e):uh(1);return{width:e.clientWidth*o.x,height:e.clientHeight*o.y,x:i*o.x,y:r*o.y}}(t,n);else{let n=Bh(e);r=Jf(Ff({},t),{x:t.x-n.x,y:t.y-n.y})}return bh(r)}function qh(e,t){let n=Dh(e);return!(n===t||!xh(n)||Th(n))&&("fixed"===Ah(n).position||qh(n,t))}function Fh(e,t){let n=t.get(e);if(n)return n;let r=Kh(e,[],!1).filter((e=>xh(e)&&"body"!==yh(e))),i=null,o="fixed"===Ah(e).position,a=o?Dh(e):e;for(;xh(a)&&!Th(a);){let t=Ah(a),n=Nh(a);!n&&"fixed"===t.position&&(i=null),(o?!n&&!i:!n&&"static"===t.position&&i&&["absolute","fixed"].includes(i.position)||Eh(a)&&!n&&qh(e,a))?r=r.filter((e=>e!==a)):i=t,a=Dh(a)}return t.set(e,r),r}function Jh(e,t,n){let r=Oh(t),i=Ch(t),o="fixed"===n,a=Xh(e,!0,o,t),f={scrollLeft:0,scrollTop:0},s=uh(0);if(r||!r&&!o)if(("body"!==yh(t)||Eh(i))&&(f=Ph(t)),r){let e=Xh(t,!0,o,t);s.x=e.x+t.clientLeft,s.y=e.y+t.clientTop}else i&&(s.x=$h(i));let c=0,l=0;if(i&&!r&&!o){let e=i.getBoundingClientRect();l=e.top+f.scrollTop,c=e.left+f.scrollLeft-$h(i,e)}return{x:a.left+f.scrollLeft-s.x-c,y:a.top+f.scrollTop-s.y-l,width:a.width,height:a.height}}function Vh(e){return"static"===Ah(e).position}function zh(e,t){if(!Oh(e)||"fixed"===Ah(e).position)return null;if(t)return t(e);let n=e.offsetParent;return Ch(e)===n&&(n=n.ownerDocument.body),n}function Gh(e,t){let n=mh(e);if(Rh(e))return n;if(!Oh(e)){let t=Dh(e);for(;t&&!Th(t);){if(xh(t)&&!Vh(t))return t;t=Dh(t)}return n}let r=zh(e,t);for(;r&&Sh(r)&&Vh(r);)r=zh(r,t);return r&&Th(r)&&Vh(r)&&!Nh(r)?n:r||function(e){let t=Dh(e);for(;Oh(t)&&!Th(t);){if(Nh(t))return t;if(Rh(t))return null;t=Dh(t)}return null}(e)||n}var Zh={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e,o="fixed"===i,a=Ch(r),f=!!t&&Rh(t.floating);if(r===a||f&&o)return n;let s={scrollLeft:0,scrollTop:0},c=uh(1),l=uh(0),d=Oh(r);if((d||!d&&!o)&&(("body"!==yh(r)||Eh(a))&&(s=Ph(r)),Oh(r))){let e=Xh(r);c=Lh(r),l.x=e.x+r.clientLeft,l.y=e.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-s.scrollLeft*c.x+l.x,y:n.y*c.y-s.scrollTop*c.y+l.y}},getDocumentElement:Ch,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e,o=[..."clippingAncestors"===n?Rh(t)?[]:Fh(t,this._c):[].concat(n),r],a=o[0],f=o.reduce(((e,n)=>{let r=Hh(t,n,i);return e.top=ch(r.top,e.top),e.right=sh(r.right,e.right),e.bottom=sh(r.bottom,e.bottom),e.left=ch(r.left,e.left),e}),Hh(t,a,i));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}},getOffsetParent:Gh,getElementRects:function(e){return Gf(this,null,(function*(){let t=this.getOffsetParent||Gh,n=this.getDimensions,r=yield n(e.floating);return{reference:Jh(e.reference,yield t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}}))},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){let{width:t,height:n}=Mh(e);return{width:t,height:n}},getScale:Lh,isElement:xh,isRTL:function(e){return"rtl"===Ah(e).direction}};function Yh(e,t,n,r){void 0===r&&(r={});let{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:a="function"==typeof ResizeObserver,layoutShift:f="function"==typeof IntersectionObserver,animationFrame:s=!1}=r,c=Uh(e),l=i||o?[...c?Kh(c):[],...Kh(t)]:[];l.forEach((e=>{i&&e.addEventListener("scroll",n,{passive:!0}),o&&e.addEventListener("resize",n)}));let d=c&&f?function(e,t){let n,r=null,i=Ch(e);function o(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return function a(f,s){void 0===f&&(f=!1),void 0===s&&(s=1),o();let{left:c,top:l,width:d,height:u}=e.getBoundingClientRect();if(f||t(),!d||!u)return;let h={rootMargin:-dh(l)+"px "+-dh(i.clientWidth-(c+d))+"px "+-dh(i.clientHeight-(l+u))+"px "+-dh(c)+"px",threshold:ch(0,sh(1,s))||1},p=!0;function b(e){let t=e[0].intersectionRatio;if(t!==s){if(!p)return a();t?a(!1,t):n=setTimeout((()=>{a(!1,1e-7)}),1e3)}p=!1}try{r=new IntersectionObserver(b,Jf(Ff({},h),{root:i.ownerDocument}))}catch{r=new IntersectionObserver(b,h)}r.observe(e)}(!0),o}(c,n):null,u=-1,h=null;a&&(h=new ResizeObserver((e=>{let[r]=e;r&&r.target===c&&h&&(h.unobserve(t),cancelAnimationFrame(u),u=requestAnimationFrame((()=>{var e;null==(e=h)||e.observe(t)}))),n()})),c&&!s&&h.observe(c),h.observe(t));let p,b=s?Xh(e):null;return s&&function t(){let r=Xh(e);b&&(r.x!==b.x||r.y!==b.y||r.width!==b.width||r.height!==b.height)&&n(),b=r,p=requestAnimationFrame(t)}(),n(),()=>{var e;l.forEach((e=>{i&&e.removeEventListener("scroll",n),o&&e.removeEventListener("resize",n)})),d?.(),null==(e=h)||e.disconnect(),h=null,s&&cancelAnimationFrame(p)}}var Qh=(e,t,n)=>{let r=new Map,i=Ff({platform:Zh},n),o=Jf(Ff({},i.platform),{_c:r});return((e,t,n)=>Gf(void 0,null,(function*(){let{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:a}=n,f=o.filter(Boolean),s=yield null==a.isRTL?void 0:a.isRTL(t),c=yield a.getElementRects({reference:e,floating:t,strategy:i}),{x:l,y:d}=gh(c,r,s),u=r,h={},p=0;for(let n=0;n<f.length;n++){let{name:o,fn:b}=f[n],{x:g,y:v,data:y,reset:m}=yield b({x:l,y:d,initialPlacement:r,placement:u,strategy:i,middlewareData:h,rects:c,platform:a,elements:{reference:e,floating:t}});l=g??l,d=v??d,h=Jf(Ff({},h),{[o]:Ff(Ff({},h[o]),y)}),m&&p<=50&&(p++,"object"==typeof m&&(m.placement&&(u=m.placement),m.rects&&(c=!0===m.rects?yield a.getElementRects({reference:e,floating:t,strategy:i}):m.rects),({x:l,y:d}=gh(c,u,s))),n=-1)}return{x:l,y:d,placement:u,strategy:i,middlewareData:h}})))(e,t,Jf(Ff({},i),{platform:o}))};var ep=Ss(),tp=Ss(),np=cc("<okxc-root data-tc-dropdown-container=true>",!0,!1),rp=()=>{let e,t=jc(),n=Rs(ep),r=Rs(Qu),[i,o]=gs(!1),[a,f]=gs(n.account),[s,c]=gs(!n.account),[l,d]=gs(),[u,h]=gs(),p=function(e,t,n){let r=()=>{var e;return null!=(e=n?.placement)?e:"bottom"},i=()=>{var e;return null!=(e=n?.strategy)?e:"absolute"},[o,a]=gs({x:null,y:null,placement:r(),strategy:i(),middlewareData:{}}),[f,s]=gs();ys((()=>{let e=f();if(e)throw e.value}));let c=ms((()=>(e(),t(),{})));function l(){let o=e(),f=t();if(o&&f){let e=c();Qh(o,f,{middleware:n?.middleware,placement:r(),strategy:i()}).then((t=>{e===c()&&a(t)}),(e=>{s(e)}))}}return ys((()=>{let o=e(),a=t();if(r(),i(),o&&a)if(null!=n&&n.whileElementsMounted){let e=n.whileElementsMounted(o,a,l);e&&Os(e)}else l()})),{get x(){return o().x},get y(){return o().y},get placement(){return o().placement},get strategy(){return o().strategy},get middlewareData(){return o().middlewareData},update:l}}(u,l,{whileElementsMounted:Yh,placement:"bottom-end"});r.connectionRestored.then((()=>c(!1)));let b=n.onStatusChange((e=>{if(!e)return o(!1),f(null),void c(!1);f(e.account),c(!1)})),g=t=>{if(!a()||!i())return;let n=u().contains(t.target),r=e.contains(t.target);!n&&!r&&o(!1)};return xs((()=>{document.body.addEventListener("click",g)})),Os((()=>{document.body.removeEventListener("click",g),b()})),$s(_c,{component:Wc,get children(){return[$s(Zs,{get when(){return s()},get children(){return $s(ih,{disabled:!0,"data-tc-connect-button-loading":"true",get children(){return $s(oh,{})}})}}),$s(Zs,{get when(){return!s()},get children(){return[$s(Zs,{get when(){return!a()},get children(){return $s(nh,{onClick:()=>r.openModal(),"data-tc-connect-button":"true",scale:"s",get children(){return[$s(hd,{get fill(){return t.colors.connectButton.foreground}}),$s(Ru,{translationKey:"button.connectWallet",fontSize:"15px",lineHeight:"18px",fontWeight:"590",get color(){return t.colors.connectButton.foreground},children:"Connect wallet"})]}})}}),$s(Zs,{get when(){return a()},get children(){return $s(ah,{get children(){return[$s(rh,{onClick:()=>o((e=>!e)),ref:h,"data-tc-dropdown-button":"true",scale:"s",get children(){return[$s(Ru,{fontSize:"15px",fontWeight:"590",lineHeight:"18px",get children(){return(()=>{let e=a();if(e){let t=(0,_f.toUserFriendlyAddress)(e.address);return t.slice(0,4)+"\u2026"+t.slice(-4)}return""})()}}),$s(cd,{direction:"bottom"})]}}),$s(Oc,{get children(){var t=np();return hc(d,t),t.style.setProperty("z-index","999"),t._$owner=Es(),pc(t,$s(id,{onBeforeEnter:e=>{Xd(e,[{opacity:0,transform:"translateY(-8px)"},{opacity:1,transform:"translateY(0)"}],{duration:150})},onExit:(e,t)=>{Xd(e,[{opacity:1,transform:"translateY(0)"},{opacity:0,transform:"translateY(-8px)"}],{duration:150}).finished.then(t)},get children(){return $s(Zs,{get when(){return i()},get children(){return $s(fh,{get hidden(){return!i()},onClose:()=>o(!1),ref(t){"function"==typeof e?e(t):e=t}})}})}})),vs((e=>{var n,r,i=p.strategy,o=`${null!=(n=p.y)?n:0}px`,a=`${null!=(r=p.x)?r:0}px`;return i!==e.e&&(null!=(e.e=i)?t.style.setProperty("position",i):t.style.removeProperty("position")),o!==e.t&&(null!=(e.t=o)?t.style.setProperty("top",o):t.style.removeProperty("top")),a!==e.a&&(null!=(e.a=a)?t.style.setProperty("left",a):t.style.removeProperty("left")),e}),{e:void 0,t:void 0,a:void 0}),t}})]}})}})]}})]}})},[ip,op]=wu({buttonRootId:null,language:"en_US",returnStrategy:"none"}),ap=Uc(Jd)`
  padding-left: 0;
  padding-right: 0;
  padding-top: 0;

  ${al("mobile")} {
    padding-left: 0;
    padding-right: 0;
    min-height: 364px;
  }
`,fp=Uc(Iu)`
  padding: 12px 64px;
`,sp=Uc.div``,cp=Uc.div`
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 325px;
  gap: 24px;
`,lp=Uc(Dd)`
  position: absolute;
  top: 12px;
  left: 16px;
`,dp=Uc((e=>{let[t]=Eu();return $s(Ku,{get class(){return e.class},"data-tc-h2":"true",get children(){var n;return ms((()=>!!e.translationKey))()?t(e.translationKey,e.translationValues,null==(n=e.children)?void 0:n.toString()):e.children}})}))`
  margin-bottom: 0;
  padding: 16px 24px 24px 24px;
  min-height: 44px;
`,up=Uc.div`
  margin-top: 24px;
  margin-left: 24px;
  margin-right: 24px;
`,hp=Uc.div`
  display: flex;
  justify-content: center;
  align-items: center;
`;function pp(e,t){let n;n="string"==typeof t?t:t.returnStrategy;let r=function(e,t,n){let r=new URL(e);return r.searchParams.append(t,n),r.toString()}(e,"ret",n);if(!(0,Of.isTelegramUrl)(e))return r;let i=r.slice(r.lastIndexOf("&")+1);return r.slice(0,r.lastIndexOf("&"))+"-"+(0,Of.encodeTelegramUrlParameters)(i)}function bp(e,t){Dl("android")?Ol(t,(()=>{})):xl(e)}var gp="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAleSURBVHgB7V27chNJFG3LPGweLhkDZV7l2S9Yk5FhZ2TY4UaGbDPwFxhHSwZkZLa/wHZGJpGx0Wq/YIcqMK7iJYN5G7TnNH1Fe/TW9IzGUp+qUc+MJXl0T/e5/bw9pDKKIAjye3t705VKZRqXU0gD3saRHxoayuM6b78f98q4V0YaSorbT5GWDh06VArDsKwyiCGVEdDg3759m8PpVRhwRv00tkuUSAbSx4cPHy6CkFBlAD0lwBj9Bk6vG6NXgWv1/ft3hb/r48ePHzrlfZ7zsJHL5fQxPDxcTXnA2OrIkSM1/xtkFJGs9ZqMnhBw8eLFGRhyyTY6DUsDf/78WX358kWfu8TRo0c1GSMjI/UI2cCxtrW1taFSRmoESG6HoW8pIy9i9A8fPmijR3N1UmAJISGjo6OaEAshSsby8+fPV1VKSIUA5PhbMPYdcZyUlo8fP2rDp2X0RqBMkYyTJ0/qc4PUiEiUAEoNDLyiTI7/+vWrev/+vc7tWcSxY8dSJyIRAiA3AYx9D6es1egcXy6XM2v4KKJEgIRV+I/lJJz1sHKMCxcuLCDX05mxDq92d3fVmzdvNAkHBeKX+PzGYU/j+efGxsZ2UIJLyiGcEUAne/z48b/w0HdxOUK5ef36ta7VHFTwN3z69Ek7bZQA+i+SkJ+YmPgbJdrJD3MiQUZyCjxlrnn37p3OQf2EEydOaFmCHPEyRMmYdSFJsQmA5LCroMAaDmXm1atXB0puOgF9wunTp8U30EHPw0HHkqRYEkS9h+Ef4XSEUkOt73W1MkmwdFOS0LfEg5L0JyQphF/4V3WJrgkwdfuHPGfVcmdnRz9gv0NIINh+AOYgTzuobDxRXaArAmh85PT7PKfxeQwa6KAJkgAputYtCR0TYGSnmvMH0fiCKAndyFFHTpgOF8b/h+eDbnwbrB3xIEDE5U4cc67dN7KqCeOv89wbfz9se8BGBdqq3c+2RQAbWVLPZ23HG78WtIlpdGpb0WbtfK4tAtA0X0ISSJ+OR33QNqYNFBibtURLJwzdZx/+XVa/Xr582df1/LigjVgK0CXDyyvtOOWmJcDovmaS3QvttnDX19f1w8Q5+B2ukObz0EaWP7jfyh80rQUh96/gS25w8KQT6XHVIDP9LrHRi+dhl4XpSd3AUOd8o/c1LAFGenh4p9sF3r59K8TPcWCq0fsaEtCN9Hj8Am3GsRDCjArWRV0CmPuVqfX0W7dymqBySK3o3Llzt+u9py4Bkvu99MSH+E74j6V6bYMaAuzcT+frEQ8cBzd9Rnmc34j+vYYAn/vdQ2yJUnAr+rd9BFy6dImzGHzudwyWAvEF0RrRPgKQ+xeY+tzvHpKhRWEEVQLYYkN1Sc/jOSjzdw4SZJoL58PazrhKADqPZpiyL8PX+91DZncTtjO2JUjLj9f+5CBtqlwud13uaQJMp9sMz2WYzcM9KO1RGdIEiPzQ+L67OTnYMmRWA1Ul6CpfZLqFR3KQqZooBdrmQgBnt6m9vT3lkSwsiZ/hS45aZFYiOqt+bmzEX+nj4jtcfper5yEBpps60H6ALbPz589XMIDAu5k6VlY4HhQPhUIhc7/r7NmzFdqcth9C59ttPOc9VpE4vTBLyNrImivk83m9CAS/b5E+IOBNr//pQWyN9kCQQ+6Y4oVv/aYHqeqjBAS5ilm56Kq4e7SGpTZTJCCI3PRIGJba5ClBvgSkDMvW+aoE+S6I9GDZOt/27GiPZOAJ6DE8AT0GnbCeuMLFyB7pwLJ1mU5YE5C15no/w7J12ZeAHoDrjAnGtcuZ4HY6mpRHOpDMDvXZoQQ95YWXoPRghcEJSUXIC18C0oMQgAaZliC9pjWLBKytram4KBaLKmsQW4OIkl6CytGZyclJZyM+6+vrlbjgd/Tr89DePGh7Lfy4+A9JwFWQLsJFVvwasYZgWIOJiQmelra2ti5L3fMxX+oFOPVwC0vqtfRrAkwUWR1H0yNZSJxS2Fxnek0AWNFzLthA8A2y5EDbispgUKao7/GFkcVZCuw3eLiHCfCkFWd7ezvkuZ3dN/nC4HQeyYBTUQyq9esqAZChVaZehpIB7SolQOSHqFraliETbMLDISxp3xT5IfZldcZJZmoVFQ9HkIhawKp9fx8Bz549KyIJJaK4hxswQ0us0egeBTVij1LwgKnFmEdMWPHklqN/qyGAzpiDNNQsXwriw8799cLg1xBgdhvSTHEWr0c8NMv9+n6jD0oHXTcREn1n3E+wTTU2NsZTav9v9d7TsMKP6uhNpqySyhimR/ugzVrlfqIhAaZGtMF2gZeizmGFul9ttgVK0yYvhswWxSF30jgb9DVilB7TsxzChsvN3ttS1EzsuBVOKOXeAH4ae3NQes6cOaNzP46brTYAahk3lHumwJGM48uusC+ba4krfip7XVCuGS2RKdtTMP7dlp9RbQBtgzvKtJC9P2gM2kbq/MZmLdEWAWwbQIJm6Q9YCnwruRa0iRntou7Ptrt7a9v9zqYHb1b+mSfhFyLh6+ft3s5W6GgDB/iDbfgDzqSbk26KQY+uEjE+ne6jTj7f8Q4axilzRfe1QSfBNj4qJoto7T5UHaKrPWRAwpNBJyFq/BcvXtxXXaDrXZQMCVU54nwXCUjUz2AVc3x8vNowpex0k/MFTjZyq/zc2kSHu+T2hf3aWGMji7PaWNU06ypm427k5qS7cXJyMkDOKOCUkRd172m/b2XIqmYntZ1GcLKZ5+7ubhk5Yw0PNSotZuYWloSDvv6Yv+PUqVN6YMV0LzxA39gf6KzcVg7gfFWG6TtaUn1QGpjjmfON4Sk5i643d3a+nzCrqXBQm3hg9h9NszSY2DhOZl6nAVYq2KfDZzeSs4HMNI+aTlE5RqLrkuzSwGvZXyWrsUllb3lrDk/IgSkzNpIIUlkY1ogIth16XWOSiWjW4LmWG/bjd1u37wSprsyLEkEwjCNLRJoxS2USMvWd7RdrrJd7BD/gzJB2O9PioidLIxkmH6VgAadz9n2SQELoK1wHEKehKTHU9YjR9WxljtsmKTWN0NO1qWw/oNjP4HShYkIn2yAhJIOSRamiI+c5S0q0tDBXm4EQbWCzD7xsvlwzo8EsStlMM7fXQ2YWBwsZJALG+b1iYpk6RGiM/pgLUnppdBuZXZ3NFYTI9dOGCAYXn2J0L6SBSfcNzdFx4l7ZpDQ2+6mYllACSlkxeBT/A6Mt6rTZ7SrDAAAAAElFTkSuQmCC",vp=cc('<svg><path fill-rule=evenodd clip-rule=evenodd d="M96 51C96 75.8528 75.8528 96 51 96C26.1472 96 6 75.8528 6 51C6 26.1472 26.1472 6 51 6C75.8528 6 96 26.1472 96 51ZM102 51C102 79.1665 79.1665 102 51 102C22.8335 102 0 79.1665 0 51C0 22.8335 22.8335 0 51 0C79.1665 0 102 22.8335 102 51Z"fill-opacity=0.2></svg>',!1,!0),yp=cc('<svg><path fill-rule=evenodd clip-rule=evenodd d="M6 51H0C0 79.1665 22.8335 102 51 102V96C26.1472 96 6 75.8528 6 51Z"></svg>',!1,!0),mp=e=>$s(wp,{get children(){return[$s(xp,{}),$s(Op,{src:gp})]}}),Cp=e=>$s(wp,{get children(){return $s(Op,{src:gp})}}),wp=Uc.div`
  position: relative;
  height: 102px;
  width: 102px;
`,xp=Uc((e=>{let t=jc(),n=Dc`
      0% {
        transform: rotate(0deg);
      }
      100% {
        transform: rotate(360deg);
      }
    `;return $s(Uc.svg`
    animation: ${n} 2s linear infinite;
    transform-origin: center;
  `,{xmlns:"http://www.w3.org/2000/svg",width:"102",height:"102",viewBox:"0 0 102 102",fill:"none",get children(){return[(()=>{var e=vp();return vs((()=>lc(e,"fill",t.colors.text.primary))),e})(),(()=>{var e=yp();return vs((()=>lc(e,"fill",t.colors.text.primary))),e})()]}})}))`
  height: 102px;
  width: 102px;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
`,Op=Uc(Zl)`
  position: absolute;
  width: 86px;
  height: 86px;
  border-radius: 44px;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
`,_p=e=>[$s(fp,{translationKey:"walletModal.mobileConnectionModal.OKXConnect"}),$s(up,{get children(){return[$s(Zs,{get when(){return null===e.universalLink},get children(){return $s(hp,{get children(){return $s(mp,{})}})}}),$s(Zs,{get when(){return null!==e.universalLink},get children(){return $s(au,{imageUrl:gp,get sourceUrl(){return pp(e.universalLink,"none")},disableCopy:!0})}})]}}),$s(dp,{translationKey:"walletModal.mobileConnectionModal.scanQR",get translationValues(){return{name:e.walletInfo.name}},get children(){return["Scan the QR code below with your phone\u2019s or ",ms((()=>e.walletInfo.name)),"\u2019s camera"]}})];Uc(Iu)`
  padding: 12px 64px;
`;var Ep=Uc(Iu)`
  max-width: 262px;
`,Sp=Uc(Ep)`
  font-size: 14px;
  color: ${e=>e.theme.colors.text.primary};
`,Rp=Uc(nd)`
  background-color: transparent;
  color: ${e=>e.theme.colors.text.primary};
  padding: 0px;
`,Np=Uc.div`
  margin: 30px 0;
  width: 100%;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  gap: 16px;

  ${al("mobile")} {
    height: 160px;
    align-items: center;
  }
`,kp=Uc(wd)`
  margin-bottom: 16px;
`,Tp=Uc.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  gap: 12px;
`,Ap=Uc.div`
  background-color: ${e=>e.theme.colors.text.primary};
  height: 48px;
  width: 262px;
  justify-content: center;
  border-radius: 24px;
  display: flex;
  align-items: center;
  gap: 8px;
`,Pp=Uc(Ru)`
  max-width: 262px;
  font-weight: 400;
  font-size: 16px;
  line-height: 20px;
  text-align: center;
  margin-top: 10px;
  color: ${e=>e.theme.colors.text.contrast};
`,Dp=Uc(nd)`
  height: 48px;
  width: 262px;
  border-radius: 999px;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 12px 24px;
`,Ip=Uc(Dp)`
  background-color: ${e=>e.theme.colors.text.primary};
`;Uc(Dp)`
  background-color: transparent;
  border-color: ${e=>e.theme.colors.border.secondary};
  border-width: 0.5px;
  border-style: solid;
`;var Kp=Uc(Ep)`
  font-size: 14px;
  color: ${e=>e.theme.colors.background.primary};
`;Uc(Ep)`
  font-size: 14px;
  color: ${e=>e.theme.colors.text.primary};
`;var jp=Uc.div`
  padding: 16px;
  display: flex;
  align-items: center;
  gap: 12px;
  border-top: 0.5px solid
    ${e=>Hc(e.theme.colors.icon.secondary,.2)};
  margin-top: 32px;
`,Mp=Uc(Zl)`
  width: 32px;
  height: 32px;
  border-radius: 16px;
`,Up=Uc((e=>$s(Xu,Vs({get href(){return e.href},get target(){return e.blank?"_blank":"_self"},get class(){return e.class}},(()=>e.blank?{rel:"noreferrer noopener"}:{}),{get children(){return e.children}}))))`
  margin-left: auto;
  display: flex;
`,Lp=Uc.div`
  display: flex;
  gap: 8px;
  align-items: center;
  justify-content: center;
`,Wp=e=>[$s(Tp,{get children(){return[$s(Cp,{}),$s(Pp,{translationKey:"walletModal.mobileConnectionModal.appAndTelegram.text",children:"OKX Wallet supports OKX app and Telegram Mini Apps"})]}}),$s(Tp,{get children(){return[$s(Ip,{get onClick(){return e.onConnectApp},get children(){return $s(Kp,{translationKey:"walletModal.mobileConnectionModal.connectApp",children:"Connect to OKX app"})}}),$s(Ip,{get onClick(){return e.onConnectMini},get children(){return $s(Kp,{translationKey:"walletModal.mobileConnectionModal.connectMini",children:"Connect to Mini Apps"})}})]}})],Bp=e=>$s(Np,{get children(){return[$s(mp,{}),$s(Zs,{get when(){return e.loadingTextTranslationKey||e.loadingTextTranslationKey},get children(){return $s(Ep,{get translationKey(){return e.loadingTextTranslationKey},get children(){return e.loadingText}})}})]}}),Xp=e=>{let[t]=Eu();return ms((()=>{var n;return t(e.translationKey,e.translationValues,null==(n=e.children)?void 0:n.toString())}))},$p=cc('<svg width=40 height=12 viewBox="0 0 40 12"fill=none xmlns=http://www.w3.org/2000/svg><g clip-path=url(#clip0_4356_43883)><path d="M11.7336 0H0.269322C0.198282 0 0.130151 0.0282212 0.0799182 0.0784542C0.0296852 0.128687 0.00146484 0.196817 0.00146484 0.267857V11.7321C0.00146484 11.8032 0.0296852 11.8713 0.0799182 11.9215C0.130151 11.9718 0.198282 12 0.269322 12H11.7336C11.8046 12 11.8728 11.9718 11.923 11.9215C11.9732 11.8713 12.0015 11.8032 12.0015 11.7321V0.267857C12.0015 0.196817 11.9732 0.128687 11.923 0.0784542C11.8728 0.0282212 11.8046 0 11.7336 0ZM8.00129 7.73303C8.00129 7.80407 7.97307 7.87221 7.92283 7.92244C7.8726 7.97267 7.80447 8.00089 7.73343 8.00089H4.26736C4.19632 8.00089 4.12819 7.97267 4.07795 7.92244C4.02772 7.87221 3.9995 7.80407 3.9995 7.73303V4.26643C3.9995 4.19539 4.02772 4.12726 4.07795 4.07702C4.12819 4.02679 4.19632 3.99857 4.26736 3.99857H7.73343C7.80447 3.99857 7.8726 4.02679 7.92283 4.07702C7.97307 4.12726 8.00129 4.19539 8.00129 4.26643V7.73303Z"></path><path d="M35.7391 4.00018H32.2725C32.2015 4.00018 32.1333 4.0284 32.0831 4.07864C32.0329 4.12887 32.0046 4.197 32.0046 4.26804V7.73465C32.0046 7.80569 32.0329 7.87382 32.0831 7.92405C32.1333 7.97428 32.2015 8.0025 32.2725 8.0025H35.7391C35.8101 8.0025 35.8783 7.97428 35.9285 7.92405C35.9787 7.87382 36.007 7.80569 36.007 7.73465V4.26697C36.0067 4.19611 35.9783 4.12826 35.9281 4.07826C35.8779 4.02825 35.81 4.00018 35.7391 4.00018Z"></path><path d="M31.7379 0H28.2713C28.2002 0 28.1321 0.0282212 28.0819 0.0784542C28.0316 0.128687 28.0034 0.196817 28.0034 0.267857V3.73446C28.0034 3.8055 28.0316 3.87364 28.0819 3.92387C28.1321 3.9741 28.2002 4.00232 28.2713 4.00232H31.7379C31.8089 4.00232 31.8771 3.9741 31.9273 3.92387C31.9775 3.87364 32.0057 3.8055 32.0057 3.73446V0.267857C32.0057 0.196817 31.9775 0.128687 31.9273 0.0784542C31.8771 0.0282212 31.8089 0 31.7379 0Z"></path><path d="M39.7376 0H36.271C36.2 0 36.1319 0.0282212 36.0816 0.0784542C36.0314 0.128687 36.0032 0.196817 36.0032 0.267857V3.73446C36.0032 3.8055 36.0314 3.87364 36.0816 3.92387C36.1319 3.9741 36.2 4.00232 36.271 4.00232H39.7376C39.8087 4.00232 39.8768 3.9741 39.927 3.92387C39.9773 3.87364 40.0055 3.8055 40.0055 3.73446V0.267857C40.0055 0.232682 39.9986 0.19785 39.9851 0.165352C39.9716 0.132854 39.9519 0.103327 39.927 0.0784542C39.9022 0.0535813 39.8726 0.0338512 39.8401 0.0203901C39.8076 0.00692902 39.7728 0 39.7376 0Z"></path><path d="M31.7379 7.99982H28.2713C28.2002 7.99982 28.1321 8.02804 28.0819 8.07827C28.0316 8.1285 28.0034 8.19663 28.0034 8.26767V11.7321C28.0034 11.8032 28.0316 11.8713 28.0819 11.9215C28.1321 11.9718 28.2002 12 28.2713 12H31.7379C31.8089 12 31.8771 11.9718 31.9273 11.9215C31.9775 11.8713 32.0057 11.8032 32.0057 11.7321V8.2666C32.0055 8.19575 31.9771 8.12789 31.9269 8.07789C31.8767 8.02789 31.8087 7.99982 31.7379 7.99982Z"></path><path d="M39.7376 7.99982H36.271C36.2 7.99982 36.1319 8.02804 36.0816 8.07827C36.0314 8.1285 36.0032 8.19663 36.0032 8.26767V11.7321C36.0032 11.8032 36.0314 11.8713 36.0816 11.9215C36.1319 11.9718 36.2 12 36.271 12H39.7376C39.8087 12 39.8768 11.9718 39.927 11.9215C39.9773 11.8713 40.0055 11.8032 40.0055 11.7321V8.2666C40.0052 8.19575 39.9769 8.12789 39.9267 8.07789C39.8765 8.02789 39.8085 7.99982 39.7376 7.99982Z"></path><path d="M25.733 0H22.2664C22.1954 0 22.1272 0.0282212 22.077 0.0784542C22.0268 0.128687 21.9985 0.196817 21.9985 0.267857V3.73446C21.9985 3.8055 22.0268 3.87364 22.077 3.92387C22.1272 3.9741 22.1954 4.00232 22.2664 4.00232H25.733C25.804 4.00232 25.8722 3.9741 25.9224 3.92387C25.9726 3.87364 26.0009 3.8055 26.0009 3.73446V0.267857C26.0009 0.196817 25.9726 0.128687 25.9224 0.0784542C25.8722 0.0282212 25.804 0 25.733 0Z"></path><path d="M25.733 7.99982H22.2664C22.1954 7.99982 22.1272 8.02804 22.077 8.07827C22.0268 8.1285 21.9985 8.19663 21.9985 8.26767V11.7321C21.9985 11.8032 22.0268 11.8713 22.077 11.9215C22.1272 11.9718 22.1954 12 22.2664 12H25.733C25.804 12 25.8722 11.9718 25.9224 11.9215C25.9726 11.8713 26.0009 11.8032 26.0009 11.7321V8.2666C26.0006 8.19575 25.9722 8.12789 25.922 8.07789C25.8718 8.02789 25.8039 7.99982 25.733 7.99982Z"></path><path d="M21.9996 4.26375C21.9996 4.19271 21.9714 4.12458 21.9212 4.07435C21.8709 4.02411 21.8028 3.99589 21.7317 3.99589H17.9994V0.267857C17.9994 0.196817 17.9712 0.128687 17.921 0.0784542C17.8707 0.0282212 17.8026 0 17.7316 0H14.2687C14.1977 0 14.1295 0.0282212 14.0793 0.0784542C14.0291 0.128687 14.0009 0.196817 14.0009 0.267857V11.7273C14.0009 11.7984 14.0291 11.8665 14.0793 11.9167C14.1295 11.967 14.1977 11.9952 14.2687 11.9952H17.7353C17.8064 11.9952 17.8745 11.967 17.9247 11.9167C17.975 11.8665 18.0032 11.7984 18.0032 11.7273V7.99661H21.7366C21.8076 7.99661 21.8757 7.96839 21.926 7.91815C21.9762 7.86792 22.0044 7.79979 22.0044 7.72875L21.9996 4.26375Z"></path></g><defs><clipPath id=clip0_4356_43883><rect width=40.0039 height=12 fill=white>'),Hp=e=>{let t=jc(),n=()=>e.fill||t.colors.disable;return(()=>{var e=$p(),t=e.firstChild.firstChild,r=t.nextSibling,i=r.nextSibling,o=i.nextSibling,a=o.nextSibling,f=a.nextSibling,s=f.nextSibling,c=s.nextSibling,l=c.nextSibling;return vs((e=>{var d=n(),u=n(),h=n(),p=n(),b=n(),g=n(),v=n(),y=n(),m=n();return d!==e.e&&lc(t,"fill",e.e=d),u!==e.t&&lc(r,"fill",e.t=u),h!==e.a&&lc(i,"fill",e.a=h),p!==e.o&&lc(o,"fill",e.o=p),b!==e.i&&lc(a,"fill",e.i=b),g!==e.n&&lc(f,"fill",e.n=g),v!==e.s&&lc(s,"fill",e.s=v),y!==e.h&&lc(c,"fill",e.h=y),m!==e.r&&lc(l,"fill",e.r=m),e}),{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0}),e})()},qp=e=>{let t=jc();return[$s(jp,{get children(){return[$s(Mp,{src:gp}),$s(Mu,{get children(){return e.wallet.name}}),$s(Up,{get href(){return e.wallet.aboutUrl},blank:!0,get children(){return[$s(Ru,{get color(){return t.colors.text.contrast},get children(){return $s(Xp,{translationKey:"common.get",children:"GET"})}}),$s(cd,{direction:"right"})]}})]}}),$s(Lp,{get children(){return[$s(Ru,{get color(){return t.colors.disable},get children(){return $s(Xp,{translationKey:"walletModal.mobileConnectionModal.PoweredBy",children:"PoweredBy"})}}),$s(Hp,{})]}})]},Fp=e=>$s(Rp,{get leftIcon(){return $s(kd,{})},get onClick(){return e.onRetry},get children(){return $s(Sp,{translationKey:"common.retry",children:"Retry"})}}),Jp=e=>[$s(kp,{size:"s"}),$s(Ep,{translationKey:"walletModal.mobileConnectionModal.connectionDeclined",children:"Connection declined"}),$s(Tp,{get children(){return $s(Fp,{get onRetry(){return e.onRetry}})}})],Vp=e=>{let t=jc();return[$s(Tp,{get children(){return[$s(mp,{}),$s(Ep,{translationKey:"walletModal.mobileConnectionModal.continueIn",children:"Continue the transaction in OKX Wallet"})]}}),$s(Tp,{get children(){return[$s(Ap,{get onClick(){return e.onOpenQR},get children(){return[$s(Ad,{get fill(){return t.colors.background.primary}}),$s(Kp,{translationKey:"walletModal.mobileConnectionModal.showQR",children:"Show QR Codes"})]}}),$s(Fp,{get onRetry(){return e.onRetry}})]}})]},zp=e=>{jc();let[t,n]=gs(!0),[r,o]=gs(!1),[a,f]=gs(!1),s=ms((()=>!e.isSingleWallet&&!a())),[c,l]=gs(!1),d=Rs(ep),[u,h]=gs(null),[p,b]=gs(null),[g,v]=gs(null),y=Rs(Qu),m=d?.onStatusChange((()=>{}),(()=>{l(!0);let t=e.lastSelectedWalletInfo;t&&t.openMethod&&"qrcode"===t.openMethod&&r()&&x()}));ys((()=>{var t,n,r=e.universalLinkParams();if(r){e.setLastSelectedWalletInfo(Jf(Ff({},e.wallet),{openMethod:"universal-link"})),(0,Of.logDebug)(`createEffect  ${JSON.stringify(r)}`);var i=r.connectRequest,o=r.tonConnectRequest;if(o||(o=i),i){var a=(0,Of.encodeConnectParams)(Jf(Ff({},o),{redirect:"none"})),f=(0,Of.getUniversalLink)((0,Of.getAppWalletDeepLink)(a));v(f);var s=(0,Of.encodeConnectParams)(Jf(Ff({},o),{redirect:null!=(t=r.redirect)?t:"none"})),c=(0,Of.getAppWalletDeepLink)(s);h(c);var l=(0,Of.encodeTWAConnectURLParams)(Jf(Ff({},i),{redirect:"none"})),d=(0,Of.getTelegramWalletTWAUrl)(l,null!=(n=r.tmaReturnUrl)?n:"back");b(d),(0,Of.logDebug)(`setUniversalLink  ${c}   tgUrl  ${d}    qrLink ${f}`)}}})),xs((()=>Gf(void 0,null,(function*(){try{yield e.connect().catch((e=>(0,Of.logDebug)(`MobileConnectionModal onMount error ${JSON.stringify(e)}`)))}catch(t){i.error("Error while connecting:",t)}}))));let C=()=>{l(!1),f(!1),t(),n(!1);try{e.connect()}catch(r){i.error("Error while connecting:",r)}},w=()=>{l(!1),o(!0),e.setLastSelectedWalletInfo(Jf(Ff({},e.wallet),{openMethod:"qrcode"}))},x=()=>{o(!1),e.setLastSelectedWalletInfo(Jf(Ff({},e.wallet),{openMethod:"universal-link"}))},O=()=>{r()?x():e.onBackClick()},_=()=>{f(!0),(0,Of.openOKXDeeplinkWithFallback)(u())},E=()=>{y?.closeModal(),(0,Of.openOKXTMAWalletlinkWithFallback)(p())};return m&&Os(m),$s(sp,{"data-tc-wallets-modal-connection-mobile":"true",get children(){return[$s(Zs,{get when(){return!e.backDisabled||r()},get children(){return $s(lp,{icon:"arrow",onClick:O})}}),$s(Zs,{get when(){return null===e.universalLinkParams()},get children(){return[$s(fp,{children:"OKX Connect"}),$s(Bp,{}),$s(qp,{get wallet(){return e.wallet}})]}}),$s(Zs,{get when(){return null!==e.universalLinkParams()},get children(){return[$s(Zs,{get when(){return r()},get children(){return $s(_p,{get universalLink(){return g()},get walletInfo(){return e.wallet}})}}),$s(Zs,{get when(){return!r()},get children(){return[$s(fp,{children:"OKX Connect"}),$s(cp,{get children(){return[$s(Zs,{get when(){return c()},get children(){return $s(Jp,{onRetry:C})}}),$s(Zs,{get when(){return!c()},get children(){return[$s(Zs,{get when(){return s()},get children(){return $s(Wp,{onConnectApp:_,onConnectMini:E})}}),$s(Zs,{get when(){return!s()},get children(){return $s(Vp,{onOpenQR:w,onRetry:C})}})]}})]}}),$s(qp,{get wallet(){return e.wallet}})]}})]}})]}})},Gp=Uc.div``,Zp=Uc.div`
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 325px;
  gap: 24px;
`,Yp=e=>{jc();let[t,n]=gs(!0),[r,o]=gs(!1),[a,f]=gs(null),s=ms((()=>!e.isSingleWallet&&null===a())),[c,l]=gs(!1),d=Rs(ep),[u,h]=gs(null),p=Rs(Qu);ys((()=>{var t;(0,Of.logDebug)("TON customEvent.detail  :::",ys);var n=e.universalLinkParams();if((0,Of.logDebug)("TON customEvent.detail  :::",JSON.stringify(n)),n){e.setLastSelectedWalletInfo(Jf(Ff({},e.wallet),{openMethod:"universal-link"}));var r=n.connectRequest,i=n.tonConnectRequest;if(i||(i=r),r){var o=(0,Of.encodeConnectParams)(Jf(Ff({},i),{redirect:"none"})),a=(0,Of.getUniversalLink)((0,Of.getAppWalletDeepLink)(o));g(a);var f=(0,Of.encodeTWAConnectURLParams)(r),s=(0,Of.getTelegramWalletTWAUrl)(f,null!=(t=n.tmaReturnUrl)?t:"back",ml());h(s),(0,Of.logDebug)(`DesktopConnectionModal  setUniversalLink  tgUrl  ${s}    qrLink ${a}`)}}}));let[b,g]=gs(null),v=d?.onStatusChange((()=>{}),(()=>{l(!0);let t=e.lastSelectedWalletInfo;t&&t.openMethod&&"qrcode"===t.openMethod&&r()&&m()}));xs((()=>Gf(void 0,null,(function*(){try{yield e.connect().catch((e=>(0,Of.logDebug)("DesktopConnectionModal connect catch error ",JSON.stringify(e))))}catch(t){(0,Of.logDebug)("DesktopConnectionModal connect  error ",JSON.stringify(t))}}))));let y=()=>{l(!1),f(null),t(),n(!1);try{e.connect()}catch(r){i.error("Error while connecting:",r)}},m=()=>{o(!1),e.setLastSelectedWalletInfo(Jf(Ff({},e.wallet),{openMethod:"universal-link"}))},C=()=>{g(b()),f("app"),l(!1),o(!0),e.setLastSelectedWalletInfo(Jf(Ff({},e.wallet),{openMethod:"qrcode"}))},w=()=>{(0,Of.logDebug)("desktop on connect mini"),p?.closeModal(),(0,Of.openOKXTMAWalletlinkWithFallback)(u(),ml())};return v&&Os(v),$s(Gp,{"data-tc-wallets-modal-connection-mobile":"true",get children(){return[$s(Zs,{get when(){return null===e.universalLinkParams()||c()||s()},get children(){return $s(fp,{children:"OKX Connect"})}}),$s(Zs,{get when(){return null===e.universalLinkParams()},get children(){return[$s(Bp,{}),$s(qp,{get wallet(){return e.wallet}})]}}),$s(Zs,{get when(){return null!==e.universalLinkParams()},get children(){return[$s(Zs,{get when(){return c()},get children(){return $s(Zp,{get children(){return $s(Jp,{onRetry:y})}})}}),$s(Zs,{get when(){return!c()},get children(){return[$s(Zs,{get when(){return!s()},get children(){return $s(_p,{get universalLink(){return b()},get walletInfo(){return e.wallet}})}}),$s(Zs,{get when(){return s()},get children(){return $s(Zp,{get children(){return $s(Wp,{onConnectApp:C,onConnectMini:w})}})}})]}}),$s(qp,{get wallet(){return e.wallet}})]}})]}})},Qp=e=>{let{locale:t}=Eu()[1];return ys((()=>t(ip.language))),ys((()=>{e.opened&&dl()})),$s(ap,{get opened(){return e.opened},onClose:()=>e.onClose("action-cancelled"),"data-tc-wallets-modal-container":"true",get children(){return[$s(Zs,{get when(){return e.loadingBeforeConnect()},get children(){return[$s(fp,{get children(){var t;return null==(t=e.walletInfo)?void 0:t.name}}),$s(Bp,{})]}}),$s(Zs,{get when(){return!e.loadingBeforeConnect()},get children(){return $s(_c,{get component(){return cl()?zp:Yp},get wallet(){return e.walletInfo},onBackClick:()=>{},backDisabled:!0,get connect(){return e.connect},get isSingleWallet(){return e.isSingleWallet},get universalLinkParams(){return e.universalLinkParams},get lastSelectedWalletInfo(){return e.lastSelectedWalletInfo},get setLastSelectedWalletInfo(){return e.setLastSelectedWalletInfo}})}})]}})},eb=()=>{let e=Rs(Qu),t=Rs(ep),[n,r]=gs(null);window.addEventListener("okx-ton-connect-connection-info-before-jump",(e=>{let t=e;(0,Of.logDebug)("TON   :::",JSON.stringify(t.detail)),t.detail&&"connectInfo"in t.detail&&r(t.detail.connectInfo)}));let i=ms((()=>{var e;if(!(()=>{var e;return"loading"===(null==(e=ip.connectRequestParameters)?void 0:e.state)})())return null==(e=ip.connectRequestParameters)?void 0:e.value})),o=t=>{e.closeModal(t)};return Os(t.onStatusChange((e=>{e&&o("wallet-selected")}))),$s(Qp,{get opened(){return Xl()},get walletInfo(){return $l()},loadingBeforeConnect:()=>{var e;return"loading"===(null==(e=ip.connectRequestParameters)?void 0:e.state)},connect:()=>new Promise(((n,o)=>{r(null),e.handleConnect((e=>{var n;return t.connect({openUniversalLink:!pl()&&cl(),tonProof:null==(n=i())?void 0:n.tonProof,redirect:e?.returnStrategy,tmaReturnUrl:ip.tmaReturnUrl})})).then((e=>{n(e)})).catch((e=>{o(e),r(null)}))})),onClose:o,universalLinkParams:n,get isSingleWallet(){return!pl()},get lastSelectedWalletInfo(){return ql()},setLastSelectedWalletInfo:Jl})},tb={common:{openWallet:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u043a\u043e\u0448\u0435\u043b\u0435\u043a",get:"\u041f\u041e\u041b\u0423\u0427\u0418\u0422\u042c",close:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",retry:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c \u043f\u043e\u043f\u044b\u0442\u043a\u0443"},button:{connectWallet:"\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u043a\u043e\u0448\u0435\u043b\u0435\u043a",dropdown:{copy:"\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0430\u0434\u0440\u0435\u0441",copied:"\u0410\u0434\u0440\u0435\u0441 \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d.",disconnect:"\u041e\u0442\u043a\u043b\u044e\u0447\u0438\u0442\u044c"}},notifications:{confirm:{header:"\u041e\u0442\u043a\u0440\u043e\u0439\u0442\u0435 {{ name }} \u0434\u043b\u044f \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438."},transactionSent:{header:"\u0422\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430",text:"\u0422\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044f \u0431\u0443\u0434\u0435\u0442 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u0430 \u0447\u0435\u0440\u0435\u0437 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434."},transactionCanceled:{header:"\u0422\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044f \u043e\u0442\u043c\u0435\u043d\u0435\u043d\u0430",text:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439 \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0435 \u043d\u0435 \u0431\u0443\u0434\u0435\u0442."}},walletModal:{mobileConnectionModal:{showQR:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c QR-\u043a\u043e\u0434",scanQR:"\u041e\u0442\u0441\u043a\u0430\u043d\u0438\u0440\u0443\u0439\u0442\u0435 QR-\u043a\u043e\u0434 \u043d\u0438\u0436\u0435 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u043a\u0430\u043c\u0435\u0440\u044b \u043d\u0430 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0435 \u0438\u043b\u0438 {{ name }}",continueIn:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438 \u0432 \u041a\u043e\u0448\u0435\u043b\u044c\u043a\u0435 OKX",connectionDeclined:"\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043e\u0442\u043a\u043b\u043e\u043d\u0435\u043d\u043e",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"\u041a\u043e\u0448\u0435\u043b\u0435\u043a OKX \u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d \u0432 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0438 OKX \u0438 \u0432 Telegram"},connectApp:"\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c\u0441\u044f \u043a \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044e OKX",connectMini:"\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c\u0441\u044f \u043a \u043c\u0438\u043d\u0438-\u041a\u043e\u0448\u0435\u043b\u044c\u043a\u0443 OKX"}},actionModal:{confirmTransaction:{header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044e \u0432 {{ name }}",text:"\u042d\u0442\u043e \u0437\u0430\u0439\u043c\u0435\u0442 \u0432\u0441\u0435\u0433\u043e \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434."},transactionSent:"$notifications.transactionSent",transactionCanceled:"$notifications.transactionCanceled"}},nb={common:{openWallet:"\u6253\u5f00\u94b1\u5305",get:"\u83b7\u53d6",close:"\u5173\u95ed",retry:"\u518d\u8bd5\u4e00\u6b21"},button:{connectWallet:"\u8fde\u63a5\u94b1\u5305",dropdown:{copy:"\u590d\u5236\u5730\u5740",copied:"\u5730\u5740\u5df2\u590d\u5236",disconnect:"\u65ad\u5f00\u8fde\u63a5"}},notifications:{confirm:{header:"\u6253\u5f00 {{ name }} \u4ee5\u786e\u8ba4\u4ea4\u6613"},transactionSent:{header:"\u4ea4\u6613\u5df2\u53d1\u9001",text:"\u4ea4\u6613\u5373\u5c06\u5b8c\u6210\uff0c\u8bf7\u7a0d\u5019"},transactionCanceled:{header:"\u4ea4\u6613\u5df2\u53d6\u6d88",text:"\u8d26\u6237\u672a\u53d1\u751f\u4efb\u4f55\u66f4\u6539"}},walletModal:{mobileConnectionModal:{OKXConnect:"OKX Connect",showQR:"\u5c55\u793a\u4e8c\u7ef4\u7801",scanQR:"\u4f7f\u7528\u624b\u673a\u6216\u6b27\u6613\u94b1\u5305\u7684\u76f8\u673a\u626b\u63cf\u4e0b\u65b9\u4e8c\u7ef4\u7801",continueIn:"\u5728\u6b27\u6613\u94b1\u5305\u4e2d\u7ee7\u7eed\u5b8c\u6210",connectionDeclined:"\u8fde\u63a5\u5931\u8d25",PoweredBy:"Powered by",appAndTelegram:{header:"\u8fde\u63a5 OKX \u94b1\u5305",text:"OKX \u94b1\u5305\u652f\u6301 App \u548c Telegram \u5c0f\u7a0b\u5e8f"},connectApp:"\u8fde\u63a5\u6b27\u6613 App",connectMini:"\u8fde\u63a5\u6b27\u6613 Mini Wallet"}},actionModal:{confirmTransaction:{header:"\u5728 {{ name }} \u4e2d\u786e\u8ba4\u4ea4\u6613",text:"\u8bf7\u7a0d\u5019"},transactionSent:"$notifications.transactionSent",transactionCanceled:"$notifications.transactionCanceled"}},rb={common:{openWallet:"\u0641\u062a\u062d \u0645\u062d\u0641\u0638\u0629",get:"\u062d\u0635\u0648\u0644",close:"\u0625\u063a\u0644\u0627\u0642",retry:"\u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629"},button:{connectWallet:"\u0631\u0628\u0637 \u0627\u0644\u0645\u062d\u0641\u0638\u0629",dropdown:{copy:"\u0646\u0633\u062e \u0627\u0644\u0639\u0646\u0648\u0627\u0646",copied:"\u062a\u0645 \u0646\u0633\u062e \u0627\u0644\u0639\u0646\u0648\u0627\u0646",disconnect:"\u0625\u0644\u063a\u0627\u0621 \u0627\u0644\u0631\u0628\u0637"}},notifications:{confirm:{header:"\u0627\u0641\u062a\u062d {{ name }} \u0644\u062a\u0623\u0643\u064a\u062f \u0627\u0644\u0645\u0639\u0627\u0645\u0644\u0629."},transactionSent:{header:"\u0623\u064f\u0631\u0633\u0644\u062a \u0627\u0644\u0645\u0639\u0627\u0645\u0644\u0629",text:"\u0633\u062a\u062a\u0645 \u0645\u0639\u0627\u0644\u062c\u0629 \u0645\u0639\u0627\u0645\u0644\u062a\u0643 \u0641\u064a \u063a\u0636\u0648\u0646 \u062b\u0648\u0627\u0646\u064d \u0642\u0644\u064a\u0644\u0629."},transactionCanceled:{header:"\u0623\u064f\u0644\u063a\u064a\u062a \u0627\u0644\u0645\u0639\u0627\u0645\u0644\u0629",text:"\u0644\u0646 \u062a\u0637\u0631\u0623 \u0623\u064a\u0629 \u062a\u063a\u064a\u064a\u0631\u0627\u062a \u0639\u0644\u0649 \u062d\u0633\u0627\u0628\u0643."}},walletModal:{mobileConnectionModal:{showQR:"\u0639\u0631\u0636 \u0631\u0645\u0632 QR",scanQR:"\u0627\u0645\u0633\u062d \u0631\u0645\u0632 QR \u0623\u062f\u0646\u0627\u0647 \u0628\u0627\u0633\u062a\u062e\u062f\u0627\u0645 \u0643\u0627\u0645\u064a\u0631\u0627 \u0647\u0627\u062a\u0641\u0643 \u0623\u0648 \u0643\u0627\u0645\u064a\u0631\u0627 \u0647\u0627\u062a\u0641 {{ name }}",continueIn:"\u0645\u062a\u0627\u0628\u0639\u0629 \u0627\u0644\u0645\u0639\u0627\u0645\u0644\u0629 \u0641\u064a \u0645\u062d\u0641\u0638\u0629 OKX",connectionDeclined:"\u0641\u0634\u0644 \u0627\u0644\u0627\u062a\u0635\u0627\u0644",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"\u0645\u062d\u0641\u0638\u0629 OKX \u0645\u062a\u0627\u062d\u0629 \u0639\u0644\u0649 \u062a\u0637\u0628\u064a\u0642 OKX \u0648Telegram"},connectApp:"\u0627\u0644\u0631\u0628\u0637 \u0628\u062a\u0637\u0628\u064a\u0642 OKX",connectMini:"\u0627\u0644\u0631\u0628\u0637 \u0628\u0645\u062d\u0641\u0638\u0629 OKX \u0627\u0644\u0645\u0635\u063a\u0631\u0629"}},actionModal:{confirmTransaction:{header:"\u062a\u0623\u0643\u064a\u062f \u0627\u0644\u0645\u0639\u0627\u0645\u0644\u0629 \u0641\u064a {{ name }}",text:"\u0644\u0646 \u064a\u0633\u062a\u063a\u0631\u0642 \u0627\u0644\u0623\u0645\u0631 \u0633\u0648\u0649 \u0644\u062d\u0638\u0627\u062a."}}},ib={common:{openWallet:"Otev\u0159\xedt pen\u011b\u017eenku",get:"Z\xedskat",close:"Zav\u0159\xedt",retry:"Zkusit znovu"},button:{connectWallet:"P\u0159ipojit pen\u011b\u017eenku",dropdown:{copy:"Kop\xedrovat adresu",copied:"Adresa zkop\xedrov\xe1na",disconnect:"Odpojit"}},notifications:{confirm:{header:"Otev\u0159ete {{ name }} a potvr\u010fte transakci."},transactionSent:{header:"Transakce odesl\xe1na",text:"Va\u0161e transakce bude zru\u0161ena b\u011bhem n\u011bkolika sekund."},transactionCanceled:{header:"Transakce zru\u0161ena",text:"Na va\u0161em \xfa\u010dtu nedojde k \u017e\xe1dn\xfdm zm\u011bn\xe1m."}},walletModal:{mobileConnectionModal:{showQR:"Zobrazit QR k\xf3d",scanQR:"Naskenujte n\xed\u017ee uveden\xfd QR k\xf3d pomoc\xed kamery telefonu nebo {{ name }}",continueIn:"Potvr\u010fte transakci v OKX Pen\u011b\u017eence.",connectionDeclined:"P\u0159ipojen\xed selhalo",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"OKX Pen\u011b\u017eenka je k dispozici v aplikaci OKX a na s\xedti Telegram."},connectApp:"P\u0159ipojit k aplikaci OKX",connectMini:"P\u0159ipojit k minipen\u011b\u017eence OKX"}},actionModal:{confirmTransaction:{header:"Potvr\u010fte transakci na {{ name }}.",text:"Zabere to jen chvilku."}}},ob={common:{openWallet:"Wallet \xf6ffnen",get:"Erhalten",close:"Schlie\xdfen",retry:"Wiederholen"},button:{connectWallet:"Wallet verkn\xfcpfen",dropdown:{copy:"Adresse kopieren",copied:"Adresse kopiert",disconnect:"Trennen"}},notifications:{confirm:{header:"{{ name }} \xf6ffnen und Transaktion best\xe4tigen."},transactionSent:{header:"Transaktion gesendet",text:"Ihre Transaktion wird in wenigen Sekunden bearbeitet."},transactionCanceled:{header:"Transaktion storniert",text:"Es werden keine \xc4nderungen an Ihrem Konto vorgenommen."}},walletModal:{mobileConnectionModal:{showQR:"QR-Code anzeigen",scanQR:"Scannen Sie den QR-Code unten mit der Kamera Ihres Telefons oder {{ name }}",continueIn:"Setzen Sie die Transaktion in der OKX Wallet fort",connectionDeclined:"Verbindung fehlgeschlagen",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"OKX Wallet ist in der OKX App und auf Telegram verf\xfcgbar"},connectApp:"Mit der OKX-App verbinden",connectMini:"Mit der OKX-Mini-Wallet verbinden"}},actionModal:{confirmTransaction:{header:"Transaktion in {{ name }} best\xe4tigen",text:"Es dauert nur einen Augenblick."}}},ab={common:{openWallet:"Abrir wallet",get:"Consigue",close:"Cerrar",retry:"Volver a intentar"},button:{connectWallet:"Conectar billetera",dropdown:{copy:"Copiar direcci\xf3n",copied:"Direcci\xf3n copiada",disconnect:"Desconectar"}},notifications:{confirm:{header:"Abre {{ name }} para confirmar la transacci\xf3n."},transactionSent:{header:"Transacci\xf3n enviada",text:"Tu transacci\xf3n se procesar\xe1 en unos segundos."},transactionCanceled:{header:"Transacci\xf3n cancelada",text:"No se realizar\xe1n cambios en tu cuenta."}},walletModal:{mobileConnectionModal:{showQR:"Mostrar c\xf3digo QR",scanQR:"Escanea el siguiente c\xf3digo QR con la c\xe1mara de tu tel\xe9fono o de tu {{ name }}",continueIn:"Continuar con la transacci\xf3n en OKX Wallet",connectionDeclined:"Error de conexi\xf3n",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"OKX Wallet est\xe1 disponible en la OKX app y en Telegram"},connectApp:"Conectarse a la OKX app",connectMini:"Conectarse a la OKX Mini Wallet"}},actionModal:{confirmTransaction:{header:"Confirma la transacci\xf3n de {{ name }}",text:"Solo te llevar\xe1 un momento."}}},fb={common:{openWallet:"Abrir billetera",get:"Obtener",close:"Cerrar",retry:"Reintentar"},button:{connectWallet:"Conectar billetera",dropdown:{copy:"Copiar direcci\xf3n",copied:"Direcci\xf3n copiada",disconnect:"Desconectar"}},notifications:{confirm:{header:"Abre {{ name }} para confirmar la transacci\xf3n."},transactionSent:{header:"Transacci\xf3n enviada",text:"Tu transacci\xf3n se procesar\xe1 en unos segundos."},transactionCanceled:{header:"Transacci\xf3n cancelada",text:"No habr\xe1 cambios en tu cuenta."}},walletModal:{mobileConnectionModal:{showQR:"Mostrar c\xf3digo QR",scanQR:"Escanea el siguiente c\xf3digo QR con la c\xe1mara de tu tel\xe9fono o {{ name }}",continueIn:"Contin\xfaa la transacci\xf3n en OKX Wallet",connectionDeclined:"Error de conexi\xf3n",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"OKX Wallet est\xe1 disponible en la aplicaci\xf3n de OKX y Telegram"},connectApp:"Con\xe9ctate a la aplicaci\xf3n de OKX",connectMini:"Con\xe9ctate a la OKX\xa0Mini Wallet"}},actionModal:{confirmTransaction:{header:"Confirmar la transacci\xf3n en {{ name }}",text:"Solo tomar\xe1 un momento."}}},sb={common:{openWallet:"Portefeuille ouvert",get:"Obtenir",close:"Fermer",retry:"R\xe9essayer"},button:{connectWallet:"Connecter le portefeuille",dropdown:{copy:"Copier l\u2019adresse",copied:"Adresse copi\xe9e",disconnect:"D\xe9connecter"}},notifications:{confirm:{header:"Ouvrir {{ name }} pour confirmer la transaction."},transactionSent:{header:"Transaction envoy\xe9e",text:"Votre transaction sera trait\xe9e en quelques secondes."},transactionCanceled:{header:"Transaction annul\xe9e",text:"Aucun changement ne sera apport\xe9 \xe0 votre compte."}},walletModal:{mobileConnectionModal:{showQR:"Afficher le code QR",scanQR:"Scannez le code QR ci-dessous avec la cam\xe9ra de votre t\xe9l\xe9phone ou de votre {{ name }}.",continueIn:"Poursuivre la transaction dans OKX Wallet",connectionDeclined:"\xc9chec de la connexion",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"OKX Wallet est disponible sur OKX App et Telegram"},connectApp:"Se connecter \xe0 l\u2019appli OKX",connectMini:"Se connecter \xe0 OKX Mini Wallet"}},actionModal:{confirmTransaction:{header:"Confirmer la transaction dans {{ name }}",text:"Cela ne prendra qu'un instant."}}},cb={common:{openWallet:"Buka wallet",get:"Dapatkan",close:"Tutup",retry:"Coba lagi"},button:{connectWallet:"Hubungkan wallet",dropdown:{copy:"Salin alamat",copied:"Alamat disalin",disconnect:"Putuskan sambungan"}},notifications:{confirm:{header:"Buka {{ name }} untuk mengonfirmasi transaksi."},transactionSent:{header:"Transaksi terkirim",text:"Transaksi Anda akan diproses dalam beberapa detik."},transactionCanceled:{header:"Transaksi dibatalkan",text:"Tidak akan ada perubahan pada akun Anda."}},walletModal:{mobileConnectionModal:{showQR:"Tampilkan Kode QR",scanQR:"Pindai kode QR di bawah dengan kamera ponsel atau {{ name }} Anda",continueIn:"Lanjutkan transaksi di OKX Wallet",connectionDeclined:"Koneksi gagal",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"OKX Wallet tersedia di OKX App dan Telegram"},connectApp:"Hubungkan ke OKX App",connectMini:"Hubungkan ke OKX Mini Wallet"}},actionModal:{confirmTransaction:{header:"Konfirmasi transaksi pada {{ name }}",text:"Hanya perlu beberapa saat."}}},lb={common:{openWallet:"Apri portafoglio",get:"Ottieni",close:"Chiudi",retry:"Riprova"},button:{connectWallet:"Connetti il portafoglio",dropdown:{copy:"Copia indirizzo",copied:"Indirizzo copiato",disconnect:"Disconnetti"}},notifications:{confirm:{header:"Apri {{ name }} per confermare la transazione."},transactionSent:{header:"Transazione inviata",text:"La transazione verr\xe0 elaborata in pochi secondi."},transactionCanceled:{header:"Transazione annullata",text:"Il tuo conto non subir\xe0 modifiche."}},walletModal:{mobileConnectionModal:{showQR:"Mostra il codice QR",scanQR:"Scansiona il codice QR di seguito con la fotocamera del tuo smartphone o {{ name }}",continueIn:"Continua la transazione in OKX Wallet",connectionDeclined:"Collegamento non riuscito",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"OKX Wallet \xe8 disponibile sull'app OKX e Telegram"},connectApp:"Connettiti all'app OKX",connectMini:"Connettiti a OKX Mini Wallet"}},actionModal:{confirmTransaction:{header:"Conferma la transazione in {{ name }}",text:"Ci vorr\xe0 solo un secondo."}}},db={common:{openWallet:"Wallet openen",get:"Krijgen",close:"Sluiten",retry:"Opnieuw proberen"},button:{connectWallet:"Wallet koppelen",dropdown:{copy:"Adres kopi\xebren",copied:"Adres gekopieerd",disconnect:"Verbinding verbreken"}},notifications:{confirm:{header:"Open {{ name }} om de transactie te bevestigen."},transactionSent:{header:"Transactie verstuurd",text:"Je transactie wordt binnen een paar seconden verwerkt."},transactionCanceled:{header:"Transactie geannuleerd",text:"Er verandert niets aan je account."}},walletModal:{mobileConnectionModal:{showQR:"QR-code weergeven",scanQR:"Scan de QR-code hieronder met de camera van je telefoon of de camera van{{ name }}",continueIn:"Ga verder met de transactie in OKX Wallet",connectionDeclined:"Koppelen mislukt",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"OKX Wallet is beschikbaar op OKX App en Telegram"},connectApp:"Koppelen met de OKX-app",connectMini:"Koppelen met OKX Mini Wallet"}},actionModal:{confirmTransaction:{header:"De transactie in {{ name }} bevestigen",text:"Het is zo gebeurd."}}},ub={common:{openWallet:"Otw\xf3rz portfel",get:"Otrzymaj",close:"Zamknij",retry:"Spr\xf3buj ponownie"},button:{connectWallet:"Po\u0142\u0105cz portfel",dropdown:{copy:"Kopiuj adres",copied:"Adres skopiowany",disconnect:"Roz\u0142\u0105cz"}},notifications:{confirm:{header:"Otw\xf3rz {{ name }}, aby potwierdzi\u0107 transakcj\u0119."},transactionSent:{header:"Wys\u0142ano transakcj\u0119",text:"Transakcja zostanie przetworzona w ci\u0105gu kilku sekund."},transactionCanceled:{header:"Anulowano transakcj\u0119",text:"Na koncie nie zostan\u0105 wprowadzone \u017cadne zmiany."}},walletModal:{mobileConnectionModal:{showQR:"Poka\u017c kod QR",scanQR:"Zeskanuj poni\u017cszy kod QR za pomoc\u0105 aparatu w telefonie lub {{ name }}",continueIn:"Kontynuuj transakcj\u0119 w OKX Wallet",connectionDeclined:"Po\u0142\u0105czenie nieudane",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"OKX Wallet jest dost\u0119pny w aplikacji OKX i Telegramie"},connectApp:"Po\u0142\u0105cz z aplikacj\u0105 OKX",connectMini:"Po\u0142\u0105cz z OKX Mini Wallet"}},actionModal:{confirmTransaction:{header:"Potwierd\u017a transakcj\u0119 w {{ name }}",text:"To zajmie tylko chwil\u0119."}}},hb={common:{openWallet:"Abrir carteira",get:"Receber",close:"Fechar",retry:"Tentar novamente"},button:{connectWallet:"Conectar carteira",dropdown:{copy:"Copiar endere\xe7o",copied:"Endere\xe7o copiado",disconnect:"Desconectar"}},notifications:{confirm:{header:"Abrir {{ name }} para confirmar a transa\xe7\xe3o."},transactionSent:{header:"Transa\xe7\xe3o enviada",text:"Sua transa\xe7\xe3o ser\xe1 processada em alguns segundos."},transactionCanceled:{header:"Transa\xe7\xe3o cancelada",text:"N\xe3o haver\xe1 altera\xe7\xf5es em sua conta."}},walletModal:{mobileConnectionModal:{showQR:"Mostrar C\xf3digo QR",scanQR:"Digitalize o c\xf3digo QR abaixo com a c\xe2mera do seu telefone ou do {{ name }}",continueIn:"Continuar a transa\xe7\xe3o na OKX Wallet",connectionDeclined:"Falha na conex\xe3o",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"A OKX Wallet est\xe1 dispon\xedvel na OKX App e no Telegram"},connectApp:"Conecte-se \xe0 OKX App",connectMini:"Conecte-se \xe0 OKX Mini Wallet"}},actionModal:{confirmTransaction:{header:"Confirmar a transa\xe7\xe3o em {{ name }}",text:"Isso levar\xe1 apenas um momento."}}},pb={common:{openWallet:"Abrir carteira",get:"Receber",close:"Fechar",retry:"Tentar novamente"},button:{connectWallet:"Associar carteira",dropdown:{copy:"Copiar endere\xe7o",copied:"Endere\xe7o copiado",disconnect:"Desassociar"}},notifications:{confirm:{header:"Abra {{ name }} para confirmar a transa\xe7\xe3o."},transactionSent:{header:"Transa\xe7\xe3o efetuada",text:"A sua transa\xe7\xe3o ser\xe1 processada dentro de poucos segundos."},transactionCanceled:{header:"Transa\xe7\xe3o cancelada",text:"N\xe3o ser\xe3o feitas altera\xe7\xf5es \xe0 sua conta."}},walletModal:{mobileConnectionModal:{showQR:"Mostrar c\xf3digo QR",scanQR:"Leia o c\xf3digo QR abaixo com a c\xe2mara do seu telem\xf3vel ou {{ name }}",continueIn:"Continuar a transa\xe7\xe3o na OKX Wallet",connectionDeclined:"Falha na liga\xe7\xe3o",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"A OKX Wallet est\xe1 dispon\xedvel na Aplica\xe7\xe3o da OKX e no Telegram"},connectApp:"Associar \xe0 Aplica\xe7\xe3o da OKX",connectMini:"Associar \xe0 OKX Mini Wallet"}},actionModal:{confirmTransaction:{header:"Confirmar a transa\xe7\xe3o na {{ name }}",text:"Demora apenas um momento."}}},bb={common:{openWallet:"Deschide\u021bi portofelul",get:"Primi\u021bi",close:"\xcenchide\u021bi",retry:"Re\xeencerca\u021bi"},button:{connectWallet:"Conecta\u021bi portofelul",dropdown:{copy:"Copia\u021bi adresa",copied:"Adres\u0103 copiat\u0103",disconnect:"Deconecta\u021bi"}},notifications:{confirm:{header:"Deschide\u021bi {{ name }} pentru a confirma tranzac\u021bia."},transactionSent:{header:"Tranzac\u021bie trimis\u0103",text:"Tranzac\u021bia dvs. va fi procesat\u0103 \xeen c\xe2teva secunde."},transactionCanceled:{header:"Tranzac\u021bie anulat\u0103",text:"Nu va exista nicio modificare \xeen cont."}},walletModal:{mobileConnectionModal:{showQR:"Scana\u021bi codul QR",scanQR:"Scana\u021bi codul QR mai jos cu camera telefonului sau a {{ name }}",continueIn:"Continua\u021bi tranzac\u021bia \xeen OKX Wallet",connectionDeclined:"Conexiunea a e\u0219uat",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"OKX Wallet este disponibil din aplica\u021bia OKX \u0219i Telegram"},connectApp:"Conecta\u021bi-v\u0103 la aplica\u021bia OKX",connectMini:"Conecta\u021bi-v\u0103 la OKX Mini Wallet"}},actionModal:{confirmTransaction:{header:"Confirma\u021bi tranzac\u021bia \xeen {{ name }}",text:"Va dura doar un moment."}}},gb={common:{openWallet:"C\xfczdan\u0131 a\xe7",get:"Al",close:"Kapat",retry:"Tekrar Dene"},button:{connectWallet:"C\xfczdan\u0131 ba\u011fla",dropdown:{copy:"Adresi kopyala",copied:"Adres kopyaland\u0131!",disconnect:"Ba\u011flant\u0131y\u0131 kes"}},notifications:{confirm:{header:"\u0130\u015flemi onaylamak i\xe7in {{ name }} \xf6gesini a\xe7\u0131n."},transactionSent:{header:"\u0130\u015flem g\xf6nderildi.",text:"\u0130\u015fleminiz birka\xe7 saniye i\xe7inde ger\xe7ekle\u015ftirilecek."},transactionCanceled:{header:"\u0130\u015flem iptal edildi!",text:"Hesab\u0131n\u0131zda de\u011fi\u015fiklik olmayacak."}},walletModal:{mobileConnectionModal:{showQR:"QR Kodunu G\xf6ster",scanQR:"A\u015fa\u011f\u0131daki QR kodunu telefonunuzun veya {{ name }} cihaz\u0131n\u0131z\u0131n kameras\u0131yla taray\u0131n.",continueIn:"\u0130\u015fleme OKX Web3 C\xfczdan\u2019da devam edin.",connectionDeclined:"Ba\u011flant\u0131 ba\u015far\u0131s\u0131z.",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"OKX Web3 C\xfczdan, OKX Uygulamas\u0131nda ve Telegram\u2019da kullan\u0131ma sunuldu"},connectApp:"OKX Uygulamas\u0131na Ba\u011flan",connectMini:"OKX Mini C\xfczdan\u0131na Ba\u011flan"}},actionModal:{confirmTransaction:{header:"{{ name }} Konumunda \u0130\u015flemi Onaylay\u0131n",text:"Bu yaln\u0131zca bir dakikan\u0131z\u0131 alacak."}}},vb={common:{openWallet:"\u0412\u0456\u0434\u043a\u0440\u0438\u0442\u0438\u0439 \u0433\u0430\u043c\u0430\u043d\u0435\u0446\u044c",get:"\u041e\u0442\u0440\u0438\u043c\u0430\u0442\u0438",close:"\u0417\u0430\u043a\u0440\u0438\u0442\u0438",retry:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0438 \u0441\u043f\u0440\u043e\u0431\u0443"},button:{connectWallet:"\u041f\u0456\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u0438 \u0433\u0430\u043c\u0430\u043d\u0435\u0446\u044c",dropdown:{copy:"\u041a\u043e\u043f\u0456\u044e\u0432\u0430\u0442\u0438 \u0430\u0434\u0440\u0435\u0441\u0443",copied:"\u0410\u0434\u0440\u0435\u0441\u0443 \u0441\u043a\u043e\u043f\u0456\u0439\u043e\u0432\u0430\u043d\u043e",disconnect:"\u0412\u0456\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u0438"}},notifications:{confirm:{header:"\u0412\u0456\u0434\u043a\u0440\u0438\u0439\u0442\u0435 {{ name }}, \u0449\u043e\u0431 \u043f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0438 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0456\u044e."},transactionSent:{header:"\u0422\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0456\u044e \u043d\u0430\u0434\u0456\u0441\u043b\u0430\u043d\u043e",text:"\u0412\u0430\u0448\u0443 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0456\u044e \u0431\u0443\u0434\u0435 \u043e\u0431\u0440\u043e\u0431\u043b\u0435\u043d\u043e \u0447\u0435\u0440\u0435\u0437 \u043a\u0456\u043b\u044c\u043a\u0430 \u0441\u0435\u043a\u0443\u043d\u0434."},transactionCanceled:{header:"\u0422\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0456\u044e \u0441\u043a\u0430\u0441\u043e\u0432\u0430\u043d\u043e",text:"\u0423 \u0432\u0430\u0448\u043e\u043c\u0443 \u0430\u043a\u0430\u0443\u043d\u0442\u0456 \u043d\u0435 \u0431\u0443\u0434\u0435 \u0437\u043c\u0456\u043d."}},walletModal:{mobileConnectionModal:{showQR:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u0438 QR-\u043a\u043e\u0434",scanQR:"\u0412\u0456\u0434\u0441\u043a\u0430\u043d\u0443\u0439\u0442\u0435 \u043d\u0430\u0432\u0435\u0434\u0435\u043d\u0438\u0439 \u043d\u0438\u0436\u0447\u0435 QR-\u043a\u043e\u0434 \u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e \u043a\u0430\u043c\u0435\u0440\u0438 \u0441\u0432\u043e\u0433\u043e \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u0430\u0431\u043e {{ name }}",continueIn:"\u041f\u0440\u043e\u0434\u043e\u0432\u0436\u0442\u0435 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0456\u044e \u0432 OKX Wallet",connectionDeclined:"\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043f\u0456\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u043d\u044f",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"OKX \u0413\u0430\u043c\u0430\u043d\u0435\u0446\u044c \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0438\u0439 \u0443 \u0437\u0430\u0441\u0442\u043e\u0441\u0443\u043d\u043a\u0443 OKX \u0456 Telegram"},connectApp:"\u041f\u0456\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u0438\u0441\u044f \u0434\u043e \u0437\u0430\u0441\u0442\u043e\u0441\u0443\u043d\u043a\u0430 OKX",connectMini:"\u041f\u0456\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u0438\u0441\u044f \u0434\u043e \u043c\u0456\u043d\u0456\u0433\u0430\u043c\u0430\u043d\u0446\u044f OKX"}},actionModal:{confirmTransaction:{header:"\u041f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u044c\u0442\u0435 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0456\u044e \u0432 {{ name }}",text:"\u0426\u0435 \u0437\u0430\u0439\u043c\u0435 \u043b\u0438\u0448\u0435 \u043c\u0438\u0442\u044c."}}},yb={common:{openWallet:"M\u1edf v\xed",get:"Nh\u1eadn",close:"\u0110\xf3ng",retry:"Th\u1eed l\u1ea1i"},button:{connectWallet:"K\u1ebft n\u1ed1i v\xed",dropdown:{copy:"Sao ch\xe9p \u0111\u1ecba ch\u1ec9",copied:"\u0110\xe3 sao ch\xe9p \u0111\u1ecba ch\u1ec9",disconnect:"Ng\u1eaft k\u1ebft n\u1ed1i"}},notifications:{confirm:{header:"M\u1edf {{ name }} \u0111\u1ec3 x\xe1c nh\u1eadn giao d\u1ecbch."},transactionSent:{header:"\u0110\xe3 g\u1eedi giao d\u1ecbch",text:"Giao d\u1ecbch c\u1ee7a b\u1ea1n s\u1ebd \u0111\u01b0\u1ee3c x\u1eed l\xfd trong v\xe0i gi\xe2y."},transactionCanceled:{header:"\u0110\xe3 h\u1ee7y giao d\u1ecbch",text:"Kh\xf4ng c\xf3 thay \u0111\u1ed5i n\xe0o v\u1edbi t\xe0i kho\u1ea3n c\u1ee7a b\u1ea1n."}},walletModal:{mobileConnectionModal:{showQR:"Hi\u1ec3n th\u1ecb m\xe3 QR",scanQR:"Qu\xe9t m\xe3 QR b\xean d\u01b0\u1edbi b\u1eb1ng m\xe1y \u1ea3nh \u0111i\u1ec7n tho\u1ea1i ho\u1eb7c {{ name }} c\u1ee7a b\u1ea1n",continueIn:"Ti\u1ebfp t\u1ee5c giao d\u1ecbch tr\xean V\xed Web3 OKX",connectionDeclined:"K\u1ebft n\u1ed1i kh\xf4ng th\xe0nh c\xf4ng",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"V\xed Web3 OKX hi\u1ec7n c\xf3 tr\xean c\u1ea3 \u1ee8ng d\u1ee5ng OKX v\xe0 Telegram"},connectApp:"K\u1ebft n\u1ed1i \u1ee8ng d\u1ee5ng OKX",connectMini:"K\u1ebft n\u1ed1i V\xed Web3 OKX Mini"}},actionModal:{confirmTransaction:{header:"X\xe1c nh\u1eadn giao d\u1ecbch trong {{ name }}",text:"N\xf3 ch\u1ec9 m\u1ea5t ch\xfat th\u1eddi gian."}}},mb={en_US:Cb({common:{openWallet:"Open wallet",get:"Get",close:"Close",retry:"Retry"},button:{connectWallet:"Connect wallet",dropdown:{copy:"Copy address",copied:"Address copied",disconnect:"Disconnect"}},notifications:{confirm:{header:"Open {{ name }} to\xa0confirm the\xa0transaction."},transactionSent:{header:"Transaction sent",text:"Your transaction\xa0will be\xa0processed in\xa0a\xa0few seconds."},transactionCanceled:{header:"Transaction canceled",text:"There\u2019ll be no changes to your account."}},walletModal:{mobileConnectionModal:{OKXConnect:"OKX Connect",showQR:"Show QR Code",scanQR:"Scan the\xa0QR code below with your phone\u2019s\xa0or\xa0{{ name }}\u2019s camera",continueIn:"Proceed in OKX Wallet",connectionDeclined:"Connection failed",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"OKX Wallet is available on OKX App and Telegram"},connectApp:"Connect to OKX App",connectMini:"Connect to OKX Mini Wallet"}},actionModal:{confirmTransaction:{header:"Confirm the\xa0transaction in\xa0{{ name }}",text:"It\u2019ll only take a moment."},transactionSent:"$notifications.transactionSent",transactionCanceled:"$notifications.transactionCanceled"}}),ru_RU:Cb(tb),zh_CN:Cb(nb),zh:Cb(nb),ar_AE:Cb(rb),cs_CZ:Cb(ib),de_DE:Cb(ob),es_ES:Cb(ab),es_LAT:Cb(fb),fr_FR:Cb(sb),id_ID:Cb(cb),it_IT:Cb(lb),nl_NL:Cb(db),pl_PL:Cb(ub),pt_BR:Cb(hb),pt_PT:Cb(pb),ro_RO:Cb(bb),tr_TR:Cb(gb),uk_UA:Cb(vb),vi_VN:Cb(yb)};function Cb(e){let t=n=>{Object.entries(n).forEach((r=>{let[i,o]=r;if("object"==typeof o&&o)return t(o);if("string"==typeof o){if("$"===o[0]){let t=o.slice(1).split("."),r=e;t.forEach((e=>{if(!(e in r))throw new Error(`Cannot parse translations: there is no property ${e} in translation`);r=r[e]})),n[i]=r}"\\$"===o.slice(0,2)&&(n[i]=o.slice(1))}}))};return t(e),e}var wb={constant:{black:"#000000",white:"#FFFFFF"},connectButton:{background:"#0098EA",foreground:"#FFFFFF"},accent:"#0098EA",telegramButton:"#0098EA",qrFill:"#000000",icon:{primary:"#0F0F0F",secondary:"#7A8999",tertiary:"#C1CAD2",success:"#29CC6A",error:"#F5A73B"},background:{primary:"#FFFFFF",secondary:"#F1F3F5",segment:"#FFFFFF",tint:"#F1F3F5",qr:"#FFFFFF"},text:{primary:"#000000",secondary:"#6A7785",contrast:"#909090"},border:{primary:"#00000014",secondary:"#00000024"},disable:"#B3B3B3"},[xb,Ob]=wu({theme:Zf.LIGHT,colors:wb,borderRadius:"m"}),_b={[Zf.LIGHT]:wb,[Zf.DARK]:{constant:{black:"#000000",white:"#FFFFFF"},connectButton:{background:"#0098EA",foreground:"#FFFFFF"},accent:"#E5E5EA",telegramButton:"#31A6F5",qrFill:"#FFFFFF",icon:{primary:"#E5E5EA",secondary:"#909099",tertiary:"#434347",success:"#29CC6A",error:"#F5A73B"},background:{primary:"#121214",secondary:"#18181A",segment:"#262629",tint:"#222224",qr:"#121214"},text:{primary:"#FFFFFF",secondary:"#7D7D85",contrast:"#909090"},border:{primary:"#FFFFFF1F",secondary:"#FFFFFF30"},disable:"#5B5B5B"}};function Eb(e){Ob({theme:e,colors:_b[e]})}Zf.LIGHT,Zf.DARK;var Sb=Uc.div`
    display: flex;
    flex-direction: column;
    align-items: center;
    padding-bottom: 8px;
`,Rb=Uc(Iu)`
    margin-top: 16px;
`,Nb=Uc(Ru)`
    font-weight: 400;
    font-size: 16px;
    line-height: 20px;
    text-align: center;
    max-width: 250px;
    margin-top: 10px;
    color: ${e=>e.theme.colors.text.contrast};
`;Uc(nd)`
    min-width: 112px;
    margin-top: 32px;
`,Uc(Ed)`
    height: 16px;
    width: 16px;
`;var kb=Uc.div`
    margin-top: 24px;
  background-color: ${e=>e.theme.colors.text.primary};
  height: 48px;
  width: 262px;
  justify-content: center;
  border-radius: 24px;
  display: flex;
  align-items: center;
  gap: 8px;
`,Tb=e=>{let t=td(e),n=Rs(Qu),[r,i]=gs(!0),[o,a]=gs(!1),f=jc(),{action:s}=Rs(Ib);ys((()=>{a(!!s&&"sent"in s&&s.sent)}));let c=n?.universalLink,l=()=>{(0,_f.logDebug)("ActionModal ====> onOpenWallet "),r(),i(!1),function(e,t,n,r){if(t||(t=Of.standardDeeplink),n=Ff({},n),el())Dl("ios","android")?("back"===n.returnStrategy&&(n.returnStrategy="tg://resolve"),r("universal-link"),bp(e,t)):(r("universal-link"),xl(pp(e,n.returnStrategy)));else if(Qc())if(Yc("ios","android"))"back"===n.returnStrategy&&(n.returnStrategy="tg://resolve"),r("universal-link"),bp(e,t);else if(Yc("macos","tdesktop")){"back"===n.returnStrategy&&(n.returnStrategy="tg://resolve");let i=pp(e,n.returnStrategy);t&&!n.forceRedirect?(r("custom-deeplink"),Ol(Kl(i,t),(()=>{r("universal-link"),xl(i)}))):(r("universal-link"),xl(i))}else if(Yc("weba")){"back"===n.returnStrategy&&(Il("safari")?n.returnStrategy=location.href:Il("chrome")?n.returnStrategy="googlechrome://":Il("firefox")?n.returnStrategy="firefox://":Il("opera")?n.returnStrategy="opera-http://":n.returnStrategy=location.href);let i=pp(e,n.returnStrategy);t&&!n.forceRedirect?(r("custom-deeplink"),Ol(Kl(i,t),(()=>{r("universal-link"),xl(i)}))):(r("universal-link"),xl(i))}else if(Yc("web")){"back"===n.returnStrategy&&(Il("safari")?n.returnStrategy=location.href:Il("chrome")?n.returnStrategy="googlechrome://":Il("firefox")?n.returnStrategy="firefox://":Il("opera")?n.returnStrategy="opera-http://":n.returnStrategy=location.href);let i=pp(e,n.returnStrategy);t&&!n.forceRedirect?(r("custom-deeplink"),Ol(Kl(i,t),(()=>{r("universal-link"),xl(i)}))):(r("universal-link"),xl(i))}else r("universal-link"),xl(pp(e,n.returnStrategy));else if(Dl("ios"))"back"===n.returnStrategy&&(Il("safari")?n.returnStrategy="none":Il("chrome")?n.returnStrategy="googlechrome://":Il("firefox")?n.returnStrategy="firefox://":Il("opera")?n.returnStrategy="opera-http://":n.returnStrategy=location.href),r("universal-link"),bp(e,t);else if(Dl("android"))"back"===n.returnStrategy&&(Il("chrome")?n.returnStrategy="googlechrome://":Il("firefox")?n.returnStrategy="firefox://":Il("opera")?n.returnStrategy="opera-http://":n.returnStrategy=location.href),r("universal-link"),(0,Of.logDebug)("url-strategy-helpers 489"),bp(e,t);else if(Dl("ipad"))"back"===n.returnStrategy&&(Il("safari")?n.returnStrategy="none":Il("chrome")?n.returnStrategy="googlechrome://":Il("firefox")?n.returnStrategy="firefox://":Il("opera")?n.returnStrategy="opera-http://":n.returnStrategy=location.href),bp(e,t);else if(Dl("macos","windows","linux")){"back"===n.returnStrategy&&(Il("safari")?n.returnStrategy="none":Il("chrome")?n.returnStrategy="googlechrome://":Il("firefox")?n.returnStrategy="firefox://":Il("opera")?n.returnStrategy="opera-http://":n.returnStrategy="none");let i=pp(e,n.returnStrategy);t&&!n.forceRedirect?(r("custom-deeplink"),Ol(Kl(i,t),(()=>{r("universal-link"),xl(i)}))):(r("universal-link"),xl(i))}else r("universal-link"),xl(pp(e,n.returnStrategy))}(c,"okx://web3?stack=true",{returnStrategy:"none",forceRedirect:!1},(()=>{}))};return $s(Sb,Vs(t,{get children(){return[ms((()=>e.icon)),$s(Rb,{get translationKey(){return e.headerTranslationKey},get translationValues(){return e.headerTranslationValues}}),$s(Nb,{get translationKey(){return e.textTranslationKey},get translationValues(){return e.textTranslationValues}}),$s(Zs,{get when(){return n?.showActionButton()},get children(){return[$s(Zs,{get when(){return"close"===e.showButton},get children(){return $s(kb,{onClick:()=>e.onClose(),get children(){return $s(Ru,{fontWeight:700,fontSize:"16px",get color(){return f.colors.background.primary},get children(){return $s(Xp,{translationKey:"common.close",children:"Close"})}})}})}}),$s(Zs,{get when(){return"open-wallet"===e.showButton},get children(){return $s(kb,{onClick:l,get children(){return $s(Ru,{fontWeight:700,fontSize:"16px",get color(){return f.colors.background.primary},get children(){return $s(Xp,{translationKey:"common.openWallet",children:"Open wallet"})}})}})}})]}})]}}))},Ab=e=>{let t=Rs(Qu),[n]=Eu();return $s(Tb,{headerTranslationKey:"actionModal.confirmTransaction.header",get headerTranslationValues(){return{name:t.walletName?t.walletName:n("common.yourWallet",{},"Your wallet")}},textTranslationKey:"actionModal.confirmTransaction.text",get icon(){return $s(mp,{})},onClose:()=>e.onClose(),get showButton(){return cl()?"open-wallet":void 0},"data-tc-confirm-modal":"true"})},Pb=e=>$s(Tb,{headerTranslationKey:"actionModal.transactionCanceled.header",textTranslationKey:"actionModal.transactionCanceled.text",get icon(){return $s(wd,{size:"m"})},onClose:()=>e.onClose(),get showButton(){return cl()?"close":void 0},"data-tc-transaction-canceled-modal":"true"}),Db=e=>$s(Tb,{headerTranslationKey:"actionModal.transactionSent.header",textTranslationKey:"actionModal.transactionSent.text",get icon(){return $s(vd,{size:"m"})},onClose:()=>e.onClose(),get showButton(){return cl()?"close":void 0},"data-tc-transaction-sent-modal":"true"}),Ib=Ss({action:null}),Kb=e=>(ys((()=>{i.log("ActionsModal",e.action)})),$s(Ib.Provider,{get value(){return{action:e.action}},get children(){return $s(Jd,{get opened(){var t;return null!==e.action&&!0===(null==(t=e.action)?void 0:t.openModal)},onClose:()=>e.setAction(null),"data-tc-actions-modal-container":"true",get children(){return $s(Ys,{get children(){return[$s(Qs,{get when(){return"transaction-sent"===e.action.name},get children(){return $s(Db,{onClose:()=>e.setAction(null)})}}),$s(Qs,{get when(){return"transaction-canceled"===e.action.name},get children(){return $s(Pb,{onClose:()=>e.setAction(null)})}}),$s(Qs,{get when(){return"confirm-transaction"===e.action.name},get children(){return $s(Ab,{onClose:()=>e.setAction(null)})}})]}})}})}})),jb=e=>{let t=Ou(mb,ip.language);return Rl(),Sl(),op({contextType:"TONContext"}),$s(_u.Provider,{value:t,get children(){return $s(Qu.Provider,{get value(){return e.connectUI},get children(){return $s(ep.Provider,{get value(){return ip.tonConnector},get children(){return[$s($c,{}),$s(Kc,{theme:xb,get children(){return[$s(Zs,{get when(){return ip.buttonRootId},get children(){return $s(Oc,{get mount(){return document.getElementById(ip.buttonRootId)},get children(){return $s(rp,{})}})}}),$s(_c,{component:Wc,get children(){return[$s(eb,{}),$s(Kb,{get action(){return Vl()},setAction:zl})]}})]}})]}})}})}})},[Mb,Ub]=gs({status:"closed",closeReason:null});ms((()=>"opened"===Mb().status));var[Lb,Wb]=gs({status:"closed",closeReason:null}),Bb=ms((()=>"opened"===Lb().status)),Xb=ms((()=>{let e=Lb();return"opened"===e.status?e.walletInfo:null})),$b=typeof window<"u"?new Ml:void 0,[Hb,qb]=gs($b?.getLastSelectedWalletInfo()||null),Fb=e=>{$b||($b=new Ml),e?(Vc(`modals-state.ts: setLastSelectedWalletInfo ${JSON.stringify(e)}`),$b.setLastSelectedWalletInfo(e)):(Vc("modals-state.ts: setLastSelectedWalletInfo    removeLastSelectedWalletInfo"),$b.removeLastSelectedWalletInfo()),qb(e)},[Jb,Vb]=gs(null),zb=()=>{let e=Rs(Qu),t=Rs(tp),[n,r]=gs(null),i=t=>{e.closeModal(t)};return t?.on("okx_engine_connect_params",(e=>{(0,Of.logDebug)(`UniversalSigneWalletModal  okx_engine_connect_params  ${JSON.stringify(e)}`),r(e)})),$s(Qp,{get opened(){return Bb()},get walletInfo(){return Xb()},loadingBeforeConnect:()=>!1,connect:()=>new Promise(((n,o)=>{var a,f;ip.universalConnectRequestParameters&&new Yf("connect params is nil");let s=Ff({},JSON.parse(JSON.stringify(ip.universalConnectRequestParameters)));s.sessionConfig={},s.sessionConfig.openUniversalUrl=(null==(a=ip.universalConnectRequestParameters)||a.namespaces,null==(f=ip.universalConnectRequestParameters)||f.optionalNamespaces,!bl()&&cl()),r(null),e.handleConnect((e=>(s.sessionConfig.tmaReturnUrl=e?.tmaReturnUrl,s.sessionConfig.redirect=e?.returnStrategy,t.connect(s)))).then((e=>{e?(i("wallet-selected"),n(e)):i("action-cancelled")})).catch((e=>{i("action-cancelled"),(0,Of.logDebug)("UniversalSingleWalletModal connect  error",JSON.stringify(e)),r(null),o(e)}))})),onClose:i,universalLinkParams:n,get isSingleWallet(){var e,t;return!bl(null==(e=ip.universalConnectRequestParameters)||e.namespaces,null==(t=ip.universalConnectRequestParameters)||t.optionalNamespaces)},get lastSelectedWalletInfo(){return Hb()},setLastSelectedWalletInfo:Fb})},Gb=e=>{let t=Ou(mb,ip.language);return Rl(),Sl(),op({contextType:"UniversalContext"}),$s(_u.Provider,{value:t,get children(){return $s(Qu.Provider,{get value(){return e.connectUI},get children(){return $s(tp.Provider,{get value(){return ip.universalConnector},get children(){return[$s($c,{}),$s(Kc,{theme:xb,get children(){return $s(_c,{component:Wc,get children(){return[$s(zb,{}),$s(Kb,{get action(){return Jb()},setAction:Vb})]}})}})]}})}})}})},Zb=e=>{(0,Of.logDebug)(`tonWidgetController : openSingleWalletModal : ${JSON.stringify(e)}`),setTimeout((()=>Bl({status:"opened",closeReason:null,walletInfo:e})))},Yb=e=>{setTimeout((()=>Bl({status:"closed",closeReason:e})))},Qb=e=>{setTimeout((()=>zl(e)))},eg=()=>{setTimeout((()=>{i.log("clearAction"),zl(null)}))},tg=()=>ql(),ng=()=>Jl(null),rg=(e,t)=>sc((()=>$s(jb,{connectUI:t})),document.getElementById(e));function ig(e){return"[object Object]"===Object.prototype.toString.call(e)}function og(e){var t,n;return!1!==ig(e)&&(void 0===(t=e.constructor)||!(!1===ig(n=t.prototype)||!1===n.hasOwnProperty("isPrototypeOf")))}function ag(e,t){return e?(0,Kf.default)(t,e,{arrayMerge:(e,t,n)=>t,isMergeableObject:og}):t}var fg=class{constructor(){Vf(this,"consumers",[]),ys((()=>{let e=Vl();this.consumers.forEach((t=>t(e)))}))}onStateChange(e){return this.consumers.push(e),()=>{this.consumers=this.consumers.filter((t=>t!==e))}}},sg=(e=>(e.OKX_UI_CONNECTION_STARTED="okx-connect-ui-connection-started",e.OKX_UI_CONNECTION_COMPLETED="okx-connect-ui-connection-completed",e.OKX_UI_CONNECTION_ERROR="okx-connect-ui-connection-error",e.OKX_UI_CONNECTION_RESTORING_STARTED="okx-connect-ui-connection-restoring-started",e.OKX_UI_CONNECTION_RESTORING_COMPLETED="okx-connect-ui-connection-restoring-completed",e.OKX_UI_CONNECTION_RESTORING_ERROR="okx-connect-ui-connection-restoring-error",e.OKX_UI_DISCONNECTION="okx-connect-ui-disconnection",e.OKX_UI_TRANSACTION_SENT_FOR_SIGNATURE="okx-connect-ui-transaction-sent-for-signature",e.OKX_UI_TRANSACTION_SIGNED="okx-connect-ui-transaction-signed",e.OKX_UI_TRANSACTION_SIGNING_FAILED="okx-connect-ui-transaction-signing-failed",e))(sg||{}),cg=class{constructor(e){var t;Vf(this,"eventPrefix","okx-connect-ui-"),Vf(this,"OKXConnectUiVersion"),Vf(this,"OKXtonConnectSdkVersion",null),Vf(this,"eventDispatcher"),this.eventDispatcher=null!=(t=e?.eventDispatcher)?t:new _f.BrowserEventDispatcher,this.OKXConnectUiVersion=e.tonConnectUiVersion,this.init().catch()}get version(){return(0,_f.createVersionInfo)({okx_ton_connect_sdk_lib:this.OKXtonConnectSdkVersion,okx_connect_ui_lib:this.OKXConnectUiVersion})}init(){return Gf(this,null,(function*(){try{yield this.setRequestVersionHandler(),this.OKXtonConnectSdkVersion=yield this.requestTonConnectSdkVersion()}catch{i.log("okx-ton-connect-response-version  init error  ====> requestTonConnectSdkVersion")}}))}setRequestVersionHandler(){return Gf(this,null,(function*(){yield this.eventDispatcher.addEventListener("okx-connect-ui-request-version",(()=>Gf(this,null,(function*(){yield this.eventDispatcher.dispatchEvent("okx-connect-ui-response-version",(0,_f.createResponseVersionEvent)(this.OKXConnectUiVersion))}))))}))}requestTonConnectSdkVersion(){return Gf(this,null,(function*(){return new Promise(((e,t)=>Gf(this,null,(function*(){try{yield this.eventDispatcher.addEventListener("okx-ton-connect-response-version",(t=>{e(t.detail.version)}),{once:!0}),yield this.eventDispatcher.dispatchEvent("okx-ton-connect-request-version",(0,_f.createRequestVersionEvent)())}catch(n){i.log(`okx-ton-connect-response-version    ====> ${n.message}`),t(n)}}))))}))}dispatchUserActionEvent(e){var t;try{null==(t=this.eventDispatcher)||t.dispatchEvent(`${this.eventPrefix}${e.type}`,e).catch()}catch{}}trackConnectionStarted(){try{for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let r=(0,_f.createConnectionStartedEvent)(this.version,...t);this.dispatchUserActionEvent(r)}catch{}}trackConnectionCompleted(){try{for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let r=(0,_f.createConnectionCompletedEvent)(this.version,...t);this.dispatchUserActionEvent(r)}catch{}}trackConnectionError(){try{for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let r=(0,_f.createConnectionErrorEvent)(this.version,...t);this.dispatchUserActionEvent(r)}catch{}}trackConnectionRestoringStarted(){try{for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let r=(0,_f.createConnectionRestoringStartedEvent)(this.version,...t);this.dispatchUserActionEvent(r)}catch{}}trackConnectionRestoringCompleted(){try{for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let r=(0,_f.createConnectionRestoringCompletedEvent)(this.version,...t);this.dispatchUserActionEvent(r)}catch{}}trackConnectionRestoringError(){try{for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let r=(0,_f.createConnectionRestoringErrorEvent)(this.version,...t);this.dispatchUserActionEvent(r)}catch{}}trackDisconnection(){try{for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let r=(0,_f.createDisconnectionEvent)(this.version,...t);this.dispatchUserActionEvent(r)}catch{}}trackTransactionSentForSignature(){try{for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let r=(0,_f.createTransactionSentForSignatureEvent)(this.version,...t);this.dispatchUserActionEvent(r)}catch{}}trackTransactionSigned(){try{for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let r=(0,_f.createTransactionSignedEvent)(this.version,...t);this.dispatchUserActionEvent(r)}catch{}}trackTransactionSigningFailed(){try{for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let r=(0,_f.createTransactionSigningFailedEvent)(this.version,...t);this.dispatchUserActionEvent(r)}catch{}}},lg=class{constructor(e){Vf(this,"consumers",[]),Vf(this,"getWalltsInfo"),Vf(this,"state",Wl()),this.getWalltsInfo=e.getWalltsInfo,ys((()=>{let e=Wl();this.state=e,this.consumers.forEach((t=>t(e)))}))}open(e){return Gf(this,null,(function*(){let t=this.getWalltsInfo().find((t=>ul(t,e)));if(t)return this.openSingleWalletModal(t);throw new Yf(`Trying to open modal window with unknown wallet "${e}".`)}))}close(){Yb(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"action-cancelled")}onStateChange(e){return this.consumers.push(e),()=>{this.consumers=this.consumers.filter((t=>t!==e))}}handleConnect(e,t){return Gf(this,null,(function*(){return new Promise(((n,r)=>{try{e(t).then((e=>{n(e),(0,Of.logDebug)("TonSingleWalletModalManager  result >>>",JSON.stringify(e))})).catch((e=>{r(e),(0,Of.logDebug)("TonSingleWalletModalManager  error >>>",JSON.stringify(e))}))}catch(i){r(i),(0,Of.logDebug)("TonSingleWalletModalManager  catch error >>>",JSON.stringify(i))}}))}))}openSingleWalletModal(e){return Gf(this,null,(function*(){return Qc()&&tl(),Zb(e),new Promise((e=>{let t=this.onStateChange((n=>{let{status:r}=n;"opened"===r&&(t(),e())}))}))}))}},dg=["en_US","ru_RU","zh_CN","zh","ar_AE","cs_CZ","de_DE","es_ES","es_LAT","fr_FR","id_ID","it_IT","nl_NL","pl_PL","pt_BR","pt_PT","ro_RO","tr_TR","uk_UA","vi_VN"];function ug(e){return dg.includes(e)}var hg=class{constructor(e){if(Vf(this,"walletInfoStorage",new jl("okx-wallet-connect-ui-ton_wallet-info")),Vf(this,"tracker"),Vf(this,"walletInfo",null),Vf(this,"systemThemeChangeUnsubscribe",null),Vf(this,"actionsConfiguration"),Vf(this,"walletsList"),Vf(this,"connectRequestParametersCallback"),Vf(this,"connector"),Vf(this,"singleWalletModal"),Vf(this,"transactionModal"),Vf(this,"connectionRestored",Promise.resolve(!1)),Vf(this,"dispose"),!(e&&"dappMetaData"in e&&e.dappMetaData))throw new Yf("You have to specify a `dappMetaData`in the options.");this.connector=new _f.OKXTonConnect({metaData:e.dappMetaData}),e.language&&!ug(e.language.toString())&&(e.language="en_US"),this.tracker=new cg({eventDispatcher:null,tonConnectUiVersion:"1"}),this.singleWalletModal=new lg({getWalltsInfo:()=>_f.OKXTonConnect.getWallets()}),this.transactionModal=new fg,this.walletsList=this.getWallets(),kl(function(e){return[...new Set(e)]}(this.walletsList.map((e=>e.imageUrl))));let t=this.normalizeWidgetRoot(void 0);this.subscribeToWalletChange(),!1!==e?.restoreConnection&&(this.connectionRestored=function(e){return Gf(this,null,(function*(){return yield new Promise((e=>requestAnimationFrame(e))),e()}))}((()=>Gf(this,null,(function*(){return this.tracker.trackConnectionRestoringStarted(),yield this.connector.restoreConnection(),this.connector.connected?this.tracker.trackConnectionRestoringCompleted(this.wallet):(this.tracker.trackConnectionRestoringError("Connection was not restored"),this.walletInfoStorage.removeWalletInfo()),this.connector.connected}))))),this.uiOptions=ag(e,{uiPreferences:{theme:"SYSTEM"}}),op({tonConnector:this.connector,preferredWalletAppName:void 0}),this.dispose=rg(t,this)}static getWallets(){return _f.OKXTonConnect.getWallets()}get connected(){return this.connector.connected}get account(){return this.connector.account}get wallet(){return this.connector.wallet?Ff(Ff({},this.connector.wallet),this.walletInfo):null}get universalLink(){if(this.wallet&&"universalLink"in this.wallet)return this.wallet.universalLink}get deepLink(){if(this.wallet&&"deepLink"in this.wallet)return this.wallet.deepLink}get walletName(){if(this.wallet&&"name"in this.wallet)return this.wallet.name}set uiOptions(e){var t,n,r;this.checkButtonRootExist(e.buttonRootId),this.actionsConfiguration=e.actionsConfiguration,null!=(t=e.uiPreferences)&&t.theme&&("SYSTEM"!==(null==(n=e.uiPreferences)?void 0:n.theme)?(null==(r=this.systemThemeChangeUnsubscribe)||r.call(this),Eb(e.uiPreferences.theme)):(Eb(_l()),this.systemThemeChangeUnsubscribe||(this.systemThemeChangeUnsubscribe=El(Eb)))),op((t=>{var n,r;let i=ag(Ff(Ff(Ff({},e.language&&{language:e.language}),!(null==(n=e.actionsConfiguration)||!n.returnStrategy)&&{returnStrategy:e.actionsConfiguration.returnStrategy}),(null==(r=e.actionsConfiguration)?void 0:r.tmaReturnUrl)&&{tmaReturnUrl:e.actionsConfiguration.tmaReturnUrl}),hu(t));return void 0!==e.buttonRootId&&(i.buttonRootId=e.buttonRootId),i}))}destory(){this.dispose&&this.dispose()}setConnectRequestParameters(e){var t;op({connectRequestParameters:e}),("ready"===e?.state||!e)&&(null==(t=this.connectRequestParametersCallback)||t.call(this,{tonProof:e.value.tonProof}))}getWallets(){return[(0,Of.creatOKXWalletInfo)(),(0,Of.creatOKXMiniAppWalletInfo)()]}onStatusChange(e,t){return this.connector.onStatusChange((t=>Gf(this,null,(function*(){if(t){yield this.getSelectedWalletInfo(t);let n=this.getWalletInfo(t);(0,Of.logDebug)("OKXTonConnectUI onStatusChange info :",JSON.stringify(n)),(0,Of.logDebug)("OKXTonConnectUI onStatusChange wallet :",JSON.stringify(t)),e(Ff(Ff({},t),n||this.getWallets()[0]))}else e(t)}))),t)}handleConnect(e){return Gf(this,null,(function*(){return this.singleWalletModal.handleConnect(e,this.actionsConfiguration)}))}openModal(){return Gf(this,null,(function*(){return new Promise(((e,t)=>Gf(this,null,(function*(){yield Promise.all([this.waitForWalletConnection({}),this.openSingleWalletModal("okxAppWallet")]).catch((e=>{t(e)}))}))))}))}closeModal(e){this.closeSingleWalletModal(e)}waitForWalletConnection(e){return Gf(this,null,(function*(){return new Promise(((e,t)=>{let n=n=>Gf(this,null,(function*(){n?(this.tracker.trackConnectionCompleted(n),i(),e(n)):(this.tracker.trackConnectionError("Connection was cancelled"),i(),t(new Yf("Wallet was not connected")))})),r=e=>{this.tracker.trackConnectionError(e.message),i(),t(e)},i=this.onStatusChange((e=>n(e)),(e=>r(e)))}))}))}onModalStateChange(e){return this.onSingleWalletModalStateChange(e)}get modalState(){return this.singleWalletModalState}openSingleWalletModal(e){return Gf(this,null,(function*(){this.tracker.trackConnectionStarted();try{return this.singleWalletModal.open(e)}catch(xf){throw this.tracker.trackConnectionError(xf.message),xf}}))}closeSingleWalletModal(e){"action-cancelled"===e&&this.tracker.trackConnectionError("Connection was cancelled"),this.singleWalletModal.close(e)}onSingleWalletModalStateChange(e){return this.singleWalletModal.onStateChange(e)}get singleWalletModalState(){return this.singleWalletModal.state}disconnect(){return this.tracker.trackDisconnection(this.wallet,"dapp"),eg(),ng(),this.walletInfoStorage.removeWalletInfo(),this.connector.disconnect()}sendTransaction(e,t){return Gf(this,null,(function*(){return this.sendTransactionInner(e,{returnStrategy:t?.returnStrategy,modals:t?.modals})}))}sendTransactionInner(e,t){return Gf(this,null,(function*(){var n,r;if(this.tracker.trackTransactionSentForSignature(this.wallet,e),!this.connected)throw this.tracker.trackTransactionSigningFailed(this.wallet,e,"Wallet was not connected"),new Yf("Connect wallet to send a transaction.");Qc()&&tl();let i={returnStrategy:ol("mobile")&&"qrcode"!==(null==(n=ql())?void 0:n.openMethod)?t?.returnStrategy:"none",modals:t?.modals,tmaReturnUrl:null!=(r=t?.tmaReturnUrl)?r:"back"},{modals:o,returnStrategy:a,tmaReturnUrl:f}=this.getModalsAndNotificationsConfiguration(i);Qb({name:"confirm-transaction",openModal:o.includes("before"),sent:!1});let s=()=>{var e;c.signal.aborted||(!this.connector.openUniversalLink&&Cl(this.walletInfo,null==(e=ql())?void 0:e.openMethod)&&function(e,t){(0,Of.logDebug)("wallets openTonWallet"),pl()&&yl(e,t)}(this.walletInfo,f),Qb({name:"confirm-transaction",openModal:o.includes("before"),sent:!0}))},c=new AbortController,l=this.onTransactionModalStateChange((e=>{e?.openModal||l()})),d=Jf(Ff({},e),{redirect:a});try{let t=yield this.waitForSendTransaction({transaction:d,signal:c.signal},s);return this.tracker.trackTransactionSigned(this.wallet,e,t),Qb({name:"transaction-sent",openModal:o.includes("success")}),t}catch(u){throw Qb({name:"transaction-canceled",openModal:o.includes("error")}),u instanceof Of.OKXConnectError?u:new Yf("Unhandled error:"+u)}finally{l()}}))}waitForSendTransaction(e,t){return Gf(this,null,(function*(){return new Promise(((n,r)=>{var i;let{transaction:o,signal:a}=e;if(a.aborted)return this.tracker.trackTransactionSigningFailed(this.wallet,o,"Transaction was cancelled"),r(new Yf("Transaction was not sent"));let f=e=>Gf(this,null,(function*(){n(e)})),s=()=>{this.tracker.trackTransactionSigningFailed(this.wallet,o,"Transaction was cancelled"),r(new Yf("Transaction was not sent"))};a.addEventListener("abort",s,{once:!0}),this.connector.sendTransaction(o,{doNotOpenWallet:!(cl()&&"qrcode"!==(null==(i=ql())?void 0:i.openMethod)),onRequestSent:t}).then((e=>(a.removeEventListener("abort",s),f(e)))).catch((e=>(this.tracker.trackTransactionSigningFailed(this.wallet,o,e.message),a.removeEventListener("abort",s),(e=>{r(e)})(e))))}))}))}onTransactionModalStateChange(e){return this.transactionModal.onStateChange(e)}subscribeToWalletChange(){this.connector.onStatusChange((e=>Gf(this,null,(function*(){var t;e?(yield this.updateWalletInfo(e),this.setPreferredWalletAppName((null==(t=this.walletInfo)?void 0:t.appName)||e.device.appName)):this.walletInfoStorage.removeWalletInfo()}))))}setPreferredWalletAppName(e){op({preferredWalletAppName:e})}getSelectedWalletInfo(e){return Gf(this,null,(function*(){let t,n=tg();if(!n)return null;if("name"in n)t=n;else{let r=this.walletsList.find((t=>ul(t,e.device.appName)));if(!r)throw new Yf(`Cannot find WalletInfo for the '${e.device.appName}' wallet`);t=Ff(Ff({},r),n)}return t}))}updateWalletInfo(e){return Gf(this,null,(function*(){this.walletInfo=this.getWalletInfo(e),(0,Of.logDebug)("updateWalletInfo ---this.walletInfo -",JSON.stringify(this.walletInfo))}))}getWalletInfo(e){(0,Of.logDebug)("getWalletInfo ----",JSON.stringify(e));let t=this.walletsList.find((t=>ul(t,e.device.appName)))||null;return(0,Of.logDebug)("getWalletInfo ---info -",JSON.stringify(t)),t}normalizeWidgetRoot(e){if(!e||!document.getElementById(e)){e="tc-widget-root";let t=document.createElement("div");t.id=e,document.body.appendChild(t)}return e}checkButtonRootExist(e){if(null!=e&&!document.getElementById(e))throw new Yf(`${e} element not found in the document.`)}getModalsAndNotificationsConfiguration(e){var t,n,r;let i=["before","success","error"],o=["before"];null!=(t=this.actionsConfiguration)&&t.modals&&(o="all"===this.actionsConfiguration.modals?i:this.actionsConfiguration.modals),e?.modals&&(o="all"===e.modals?i:e.modals);let a=e?.returnStrategy||(null==(n=this.actionsConfiguration)?void 0:n.returnStrategy)||"back";return{modals:o,tmaReturnUrl:e?.tmaReturnUrl||(null==(r=this.actionsConfiguration)?void 0:r.tmaReturnUrl)||"back",returnStrategy:a}}showActionButton(){return gl(this.walletInfo)&&cl()}},pg=e=>{(0,Of.logDebug)(`universalWidgetController : openSingleWalletModal : ${JSON.stringify(e)}`),setTimeout((()=>Wb({status:"opened",closeReason:null,walletInfo:e})))},bg=e=>{setTimeout((()=>Wb({status:"closed",closeReason:e})))},gg=e=>{setTimeout((()=>Vb(e)))},vg=(e,t)=>sc((()=>$s(Gb,{connectUI:t})),document.getElementById(e)),yg=class{constructor(){Vf(this,"listeners",[])}listen(e){this.listeners.push(e)}trigger(e){this.listeners.forEach((t=>t(e)))}},mg=class{constructor(e){Vf(this,"consumers",[]),Vf(this,"getWalltsInfo"),Vf(this,"connectSignal",new yg),Vf(this,"state",Lb()),this.getWalltsInfo=e.getWalltsInfo,ys((()=>{let e=Lb();this.state=e,this.consumers.forEach((t=>t(e)))}))}open(e,t){return Gf(this,null,(function*(){(0,Of.logDebug)(`UniversalSingleWalletModalManager : open : ${JSON.stringify(t)}`);let n=this.getWalltsInfo().find((t=>ul(t,e)));if(n)return this.openSingleWalletModal(n,t);throw new Yf(`Trying to open modal window with unknown wallet "${e}".`)}))}close(){bg(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"action-cancelled")}onStateChange(e){return this.consumers.push(e),()=>{this.consumers=this.consumers.filter((t=>t!==e))}}handleConnect(e,t){return Gf(this,null,(function*(){return new Promise(((n,r)=>{try{e(t).then((e=>{n(e),(0,Of.logDebug)("UniversalSingleWalletModalManager  result >>>",JSON.stringify(e)),this.connectSignal.trigger(e)})).catch((e=>{r(e),(0,Of.logDebug)("UniversalSingleWalletModalManager  error >>>",JSON.stringify(e)),this.connectSignal.trigger(e)}))}catch(i){r(i),(0,Of.logDebug)("UniversalSingleWalletModalManager  catch error >>>",JSON.stringify(i)),this.connectSignal.trigger(i)}}))}))}openSingleWalletModal(e,t){return Gf(this,null,(function*(){return(0,Of.logDebug)(`UniversalSingleWalletModalManager : openSingleWalletModal : ${JSON.stringify(t)}`),Qc()&&tl(),op({universalConnectRequestParameters:t}),pg(e),new Promise(((e,t)=>{this.connectSignal.listen((n=>{n instanceof Error?t(n):e(n)}))}))}))}},Cg=class e extends jf.OKXUniversalProvider{constructor(t){super({dappMetaData:t.dappMetaData}),Vf(this,"singleWalletModal"),Vf(this,"actionsConfiguration"),Vf(this,"systemThemeChangeUnsubscribe",null),Vf(this,"dispose"),this.singleWalletModal=new mg({getWalltsInfo:()=>e.getWallets()});let n=this.normalizeWidgetRoot(void 0);this.uiOptions=ag(t,{uiPreferences:{theme:"SYSTEM"},dappMetaData:t.dappMetaData}),op({universalConnector:this,preferredWalletAppName:void 0}),this.dispose=vg(n,this)}static getWallets(){return[(0,Of.creatOKXWalletInfo)(),(0,Of.creatOKXMiniAppWalletInfo)()]}getConnectWallet(){var e,t;return(0,Of.logDebug)(`this.session?.wallet?.appName ${null==(t=null==(e=this.session)?void 0:e.wallet)?void 0:t.appName}`),this.getWallets().find((e=>{var t,n;return ul(e,null==(n=null==(t=this.session)?void 0:t.wallet)?void 0:n.appName)}))}get universalLink(){var e,t;return(0,Of.logDebug)(`this.getConnectWallet()?.universalLink ${null==(e=this.getConnectWallet())?void 0:e.universalLink}`),null==(t=this.getConnectWallet())?void 0:t.universalLink}get deepLink(){var e;return null==(e=this.getConnectWallet())?void 0:e.deepLink}get walletName(){var e,t;return(0,Of.logDebug)(`this.getConnectWallet()?.walletName ${null==(e=this.getConnectWallet())?void 0:e.name}`),null==(t=this.getConnectWallet())?void 0:t.name}set uiOptions(e){var t,n,r;this.actionsConfiguration=e.actionsConfiguration,null!=(t=e.uiPreferences)&&t.theme&&("SYSTEM"!==(null==(n=e.uiPreferences)?void 0:n.theme)?(null==(r=this.systemThemeChangeUnsubscribe)||r.call(this),Eb(e.uiPreferences.theme)):(Eb(_l()),this.systemThemeChangeUnsubscribe||(this.systemThemeChangeUnsubscribe=El(Eb)))),e.language&&!ug(e.language.toString())&&(e.language="en_US"),op((t=>{var n;return ag(Ff(Ff({},e.language&&{language:e.language}),!(null==(n=e.actionsConfiguration)||!n.returnStrategy)&&{returnStrategy:e.actionsConfiguration.returnStrategy}),hu(t))}))}destory(){this.dispose&&this.dispose()}request(t,n,r){return Gf(this,null,(function*(){var i,o,a,f,s;if(!this.session)throw new Yf("Connect wallet to send a transaction.");let c={returnStrategy:ol("mobile")&&"qrcode"!==(null==(i=Hb())?void 0:i.openMethod)?r?.returnStrategy:"none",modals:r?.modals,tmaReturnUrl:null!=(o=r?.tmaReturnUrl)?o:"back"},{modals:l,returnStrategy:d,tmaReturnUrl:u}=this.getModalsAndNotificationsConfiguration(c),h=Jf(Ff({},t),{redirect:d}),p=zf(e.prototype,this,"showRequestModal").call(this,h,n);gg({name:"confirm-transaction",openModal:l.includes("before")&&p,sent:!1}),!(null!=(a=this.session.sessionConfig)&&a.openUniversalUrl)&&p&&Cl(this.getConnectWallet(),null==(f=Hb())?void 0:f.openMethod)&&vl(this.getConnectWallet(),u,this.session.namespaces),this.session.sessionConfig&&(this.session.sessionConfig.openUniversalUrl=this.session.sessionConfig.openUniversalUrl&&cl()&&"qrcode"!==(null==(s=Hb())?void 0:s.openMethod));try{let t=yield zf(e.prototype,this,"request").call(this,h,n);return gg({name:"transaction-sent",openModal:l.includes("success")&&p}),t}catch(b){throw(0,Of.logDebug)(`OKXUniversalConnectUI  request  ==>  ${typeof b} ==> is core OKXConnectError: ${b instanceof Of.OKXConnectError} ==> is universal-provider OKXConnectError: ${b instanceof jf.OKXConnectError} ==>  ${JSON.stringify(b)}`),gg({name:"transaction-canceled",openModal:l.includes("error")&&p}),b instanceof Of.OKXConnectError||b instanceof jf.OKXConnectError?((0,Of.logDebug)(`OKXUniversalConnectUI  request  ==> ${JSON.stringify(b)}`),b):new Yf("Unhandled error:"+b)}}))}getModalsAndNotificationsConfiguration(e){var t,n,r;let i=["before","success","error"],o=["before"];null!=(t=this.actionsConfiguration)&&t.modals&&(o="all"===this.actionsConfiguration.modals?i:this.actionsConfiguration.modals),e?.modals&&(o="all"===e.modals?i:e.modals);let a=e?.returnStrategy||(null==(n=this.actionsConfiguration)?void 0:n.returnStrategy)||"back";return{modals:o,tmaReturnUrl:e?.tmaReturnUrl||(null==(r=this.actionsConfiguration)?void 0:r.tmaReturnUrl)||"back",returnStrategy:a}}static init(t){return Gf(this,null,(function*(){if(t&&"dappMetaData"in t&&t.dappMetaData){let n=new e(t);return yield n.initialize(),n}throw new Yf("You have to specify a `dappMetaData`in the options.")}))}normalizeWidgetRoot(e){if(!e||!document.getElementById(e)){e="universal-widget-root";let t=document.createElement("div");t.id=e,document.body.appendChild(t)}return e}getWallets(){return e.getWallets()}handleConnect(e){return Gf(this,null,(function*(){return this.singleWalletModal.handleConnect(e,this.actionsConfiguration)}))}openModal(e){return Gf(this,null,(function*(){try{return this.connected()?this.session:this.singleWalletModal.open("okxAppWallet",e)}catch(xf){throw xf}}))}closeModal(e){this.singleWalletModal.close(e)}showActionButton(){return gl(this.getConnectWallet())&&cl()}},wg=class e{static instance=null;level;constructor(){this.level=2}static getInstance(){return e.instance||(e.instance=new e),e.instance}static setLevel(t){e.getInstance().level=t}log(e,t,n){if(e>=this.level){let f=t?`[${t}] ${n}`:n;for(var r=arguments.length,o=new Array(r>3?r-3:0),a=3;a<r;a++)o[a-3]=arguments[a];switch(e){case 0:case 1:i.info(f,...o);break;case 2:i.warn(f,...o);break;case 3:i.error(f,...o)}}}createScopedLogger(e){var t=this;return{debug:function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return t.log(0,e,n,...i)},info:function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return t.log(1,e,n,...i)},warn:function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return t.log(2,e,n,...i)},error:function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return t.log(3,e,n,...i)}}}debug(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.log(0,void 0,e,...n)}info(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.log(1,void 0,e,...n)}warn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.log(2,void 0,e,...n)}error(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.log(3,void 0,e,...n)}},xg=(wg.getInstance(),class extends vf{okxUniversalProvider;logger;constructor(e){super(),this.logger=this.initializeLogger(),this.okxUniversalProvider=e,this.logger.debug("Adapter initialized")}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.logger.debug("Emitting event",e,n),super.emit(e,...n)}getLogger(){return this.logger}initializeLogger(){let e=wg.getInstance();return wg.setLevel(0),e.createScopedLogger(this.constructor.name)}});var Og=()=>typeof window?.TelegramWebviewProxy<"u",_g=()=>void 0!==window?.Telegram,Eg=e=>Og()?0:(e=>/Android|iPhone|Mobile/i.test(e))(e)?1:2,Sg={uuid:"0asdf-asdf-7982-8fef-341bf2a6eb2e",name:"OKX Mini Wallet"};function Rg(){if(2===Eg(navigator.userAgent)){let e=[];return function(e){window.addEventListener("eip6963:announceProvider",(t=>{i.log("eip6963:announceProvider",t);let n=t.detail.info;e.some((e=>e.uuid===n.uuid))||e.push(n)})),window.dispatchEvent(new Event("eip6963:requestProvider"))}(e),[Sg,...e]}return[Sg]}var Ng,kg,Tg,Ag,Pg,Dg,Ig="personal_sign",Kg="eth_signTypedData_v4",jg=class e extends xg{static EVM_SUPPORTED_METHODS=["personal_sign","eth_signTypedData_v4","eth_sendTransaction","eth_accounts","eth_requestAccounts","eth_chainId","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_watchAsset"];eip6963ProviderInfo;constructor(e){super(e),this.eip6963ProviderInfo=Sg,this.getLogger().debug("okxUniversalProvider: ",this.okxUniversalProvider)}async request(t){let{method:n,params:r}=t;this.getLogger().debug("EthereumAdapter request",n,r);let o=r?{method:n,params:r}:{method:n};if(i.log("params",r),!e.EVM_SUPPORTED_METHODS.includes(n))return this.getLogger().info(`Method ${n} not supported`),Promise.reject(`Method ${n} not supported`);switch(this.getLogger().debug("Requesting accounts: ",n,o),n){case Ig:o={method:Ig,params:[r[0],r[1]]};break;case Kg:o={method:Kg,params:[r[0],JSON.parse(r[1])]}}try{let e=await this.okxUniversalProvider.request(o,"eip155:1");return this.getLogger().debug("Requesting accounts result: ",n,e),Promise.resolve(e)}catch(a){return this.getLogger().error(`Requesting accounts error: ${a.message}`),Promise.reject(a)}}isConnected(){return!!this.okxUniversalProvider.session}async disconnect(){this.okxUniversalProvider.disconnect()}eventCallbackHandlers=(()=>({connect:new Set,disconnect:new Set,accountsChanged:new Set,chainChanged:new Set}))();on(e,t,n){return this.getLogger().debug("eventemitter - on",e,t),super.on(e,t,n)}removeListener(e,t,n,r){return super.removeListener(e,t,n,r)}lastSession=null;sessionUpdateCallback(e){let t,n;if(this.getLogger().info("session: ",e,e?.namespaces?.eip155?.defaultChain,this),this.emit("chainChanged",e?.namespaces?.eip155?.defaultChain),this.lastSession)if(e?.namespaces?.eip155?.defaultChain!==this?.lastSession?.namespaces?.eip155?.defaultChain)t="chainChanged",n=e?.namespaces?.eip155?.defaultChain;else{t="accountChanged";let r=e?.namespaces?.eip155?.accounts,i=function(e){let t={};for(let n=0;n<e.length;n++){let r=e[n]?.split(":"),i=r?.[0],o=r?.[1],a=r?.[2],f=`${i}:${o}`;t[f]||(t[f]=[]),a&&t[f].push(a)}return t}(r),o=e?.namespaces?.eip155?.defaultChain;n=i[o]}else t="connect",n={chainId:e?.namespaces?.eip155?.defaultChain};this.lastSession=e,this.eventCallbackHandlers[t]&&this.eventCallbackHandlers[t]?.forEach((e=>{e(n)}))}sessionDeleteCallback(e){i.log(e),this.lastSession=null,this.eventCallbackHandlers.disconnect&&this.eventCallbackHandlers.disconnect?.forEach((e=>{e()}))}},Mg=class e extends vf{static sdk;static options={};static initialized=!1;okxUniversalProvider=null;proxies={Ethereum:null,Solana:null,Bitcoin:null,TON:null,Aptos:null,Sui:null};logger;constructor(){super(),this.logger=this.initializeLogger()}getLogger(){return this.logger}static hackOKXConnectUI(){let e=document.createElement("style");e.innerHTML="\n      #universal-widget-root {\n        position: relative;\n        z-index: -999;\n        opacity: 0;\n      }\n    ",document.head.appendChild(e)}static async init(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.initialized||(e.hackOKXConnectUI(),e.options=t,e.sdk=new e,await e.sdk.initialize()),e.sdk}static async connect(t){e.initialized?(this.sdk.getLogger().info(`Connecting to wallet: ${t}`),this.sdk.getLogger().info("OKX Universal Provider connected: ",this.sdk.okxUniversalProvider?.connected()),this.sdk.okxUniversalProvider?.connected()||await this.sdk.connectOkxWallet()):this.sdk.getLogger().error("OKX Connect SDK not initialized")}async disconnect(){this.logger.info("Disconnecting from wallet"),e.initialized&&null!==this.okxUniversalProvider?this.okxUniversalProvider.disconnect():this.logger.error("OKX Connect SDK not initialized")}async initialize(){this.logger.info("Initializing OKX Connect SDK");try{await e.sdk.initUniversalProvider(),await e.sdk.initProxies(),window.ethereum||e.sdk.proxyEthereumProvider(),e.initialized=!0,this.logger.info("OKX Connect SDK initialized")}catch(wf){throw this.logger.error(`Failed to initialize OKX Connect SDK: ${wf}`),wf}}async initUniversalProvider(){this.logger.info("Initializing OKX Universal Provider: ",yf.OKXUniversalProvider),this.logger.info("Initializing OKX UI: ",Cg),this.okxUniversalProvider=await Cg.init({dappMetaData:{icon:"https://static.okx.com/cdn/assets/imgs/247/58E63FEA47A2B7D7.png",name:"OKX WalletConnect UI Demo"},actionsConfiguration:{returnStrategy:"tg://resolve",modals:"all",tmaReturnUrl:"back"},language:"en_US",uiPreferences:{theme:Zf.LIGHT}}),this.logger.info("Connecting OKX Universal Provider to EVM: ",this.okxUniversalProvider),this.logger.info("OKX Universal Provider initialized"),this.subscribeToProvider()}async connectOkxWallet(){if(!this.okxUniversalProvider)return void this.logger.error("OKX Universal Provider not initialized");if(this.logger.info("Check hasTelegramSDK: ",_g()),!_g())return void this.logger.error("Telegram SDK not found");this.logger.info("Connecting to OKX Wallet");let e=setInterval((()=>{if(document.getElementById("universal-widget-root")){let t=document.querySelectorAll('#universal-widget-root [data-tc-wallets-modal-connection-mobile="true"] button')[1];t&&(t.click(),clearInterval(e))}}),200),t=await this.okxUniversalProvider.openModal({namespaces:{eip155:{chains:["eip155:1"],rpcMap:{1:"https://rpc.flashbots.net"},defaultChain:"1"}},optionalNamespaces:{eip155:{chains:["eip155:43114"]}}});this.logger.info("trigger session_update callback: ",this.proxies),Object.keys(this.proxies).forEach((e=>{let n=this.proxies[e];this.logger.info("trigger session_update - proxy: ",n),n&&n?.sessionUpdateCallback&&n.sessionUpdateCallback(t)})),this.logger.info("OKX Wallet session: ",t)}subscribeToProvider(){this.okxUniversalProvider?(this.okxUniversalProvider.on("display_uri",(e=>{this.logger.info("on - Display URI: ",e)})),this.okxUniversalProvider.on("session_update",(e=>{this.logger.info("on - Session updated: ",e),Object.keys(this.proxies).forEach((t=>{let n=this.proxies[t];n&&n?.sessionUpdateCallback&&n.sessionUpdateCallback(e)}))})),this.okxUniversalProvider.on("session_delete",(e=>{let{topic:t}=e;this.logger.info("on - Session deleted: ",t),Object.keys(this.proxies).forEach((e=>{let n=this.proxies[e];n&&n?.sessionDeleteCallback&&n.sessionDeleteCallback(t)}))})),this.okxUniversalProvider.on("default_chain_changed",(e=>{this.logger.info("on - Default chain changed: ",e),Object.keys(this.proxies).forEach((t=>{let n=this.proxies[t];n&&n?.defaultChainChangeCallback&&n.defaultChainChangeCallback(e)}))})),this.okxUniversalProvider.on("okx_engine_connect_params",(e=>{this.logger.info("on - OKX engine connect params: ",e),Object.keys(this.proxies).forEach((t=>{let n=this.proxies[t];n&&n?.okxEngineConnectParamsCallback&&n.okxEngineConnectParamsCallback(e)}))})),this.okxUniversalProvider.on("update_name_spaces",(e=>{this.logger.info("on - Update namespaces: ",e),Object.keys(this.proxies).forEach((t=>{let n=this.proxies[t];n&&n?.updateNamespacesCallback&&n.updateNamespacesCallback(e)}))}))):this.logger.error("OKX Universal Provider not initialized")}async initProxies(){this.okxUniversalProvider?this.proxies.Ethereum=new jg(this.okxUniversalProvider):this.logger.error("OKX Universal Provider not initialized")}initializeLogger(){let e=wg.getInstance();return wg.setLevel(0),e.createScopedLogger("OKXConnectSdk")}async proxyEthereumProvider(){if(window.ethereum)return void this.logger.info("Already proxied Ethereum provider");if(!this.proxies.Ethereum)return void this.logger.error("Ethereum proxy not initialized");let e=new Proxy(this.proxies.Ethereum,{get:(e,t)=>(i.log(`get: ${t}`),Reflect.get(e,t)),set:(e,t,n)=>Reflect.set(e,t,n),deleteProperty:(e,t)=>Reflect.deleteProperty(e,t)});Object.defineProperty(window,"ethereum",{value:e,writable:!1,configurable:!1});let t=new CustomEvent("eip6963:announceProvider",{detail:Object.freeze({info:this.proxies.Ethereum?.eip6963ProviderInfo,provider:e})});this.logger.info("dispatch eip6963: ",window.ethereum),window.dispatchEvent(t),window.addEventListener("eip6963:requestProvider",(()=>{this.logger.info("eip6963:requestProvider: ",t),window.dispatchEvent(t)}))}},Ug=Object.getPrototypeOf,Lg={isConnected:1},Wg={},Bg=Ug(Lg),Xg=Ug(Ug),$g=(e,t,n,r)=>(e??(setTimeout(n,r),new Set)).add(t),Hg=(e,t,n)=>{let r=Tg;Tg=t;try{return e(n)}catch(o){return i.error(o),n}finally{Tg=r}},qg=e=>e.filter((e=>e._dom?.isConnected)),Fg=e=>Pg=$g(Pg,e,(()=>{for(let e of Pg)e._bindings=qg(e._bindings),e._listeners=qg(e._listeners);Pg=Dg}),1e3),Jg={get val(){return Tg?._getters?.add(this),this.rawVal},get oldVal(){return Tg?._getters?.add(this),this._oldVal},set val(e){Tg?._setters?.add(this),e!==this.rawVal&&(this.rawVal=e,this._bindings.length+this._listeners.length?(kg?.add(this),Ng=$g(Ng,this,tv)):this._oldVal=e)}},Vg=e=>({__proto__:Jg,rawVal:e,_oldVal:e,_bindings:[],_listeners:[]}),zg=(e,t)=>{let n={_getters:new Set,_setters:new Set},r={f:e},i=Ag;Ag=[];let o=Hg(e,n,t);o=(o??document).nodeType?o:new Text(o);for(let a of n._getters)n._setters.has(a)||(Fg(a),a._bindings.push(r));for(let a of Ag)a._dom=o;return Ag=i,r._dom=o},Gg=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Vg(),n=arguments.length>2?arguments[2]:void 0,r={_getters:new Set,_setters:new Set},i={f:e,s:t};i._dom=n??Ag?.push(i)??Lg,t.val=Hg(e,r,t.rawVal);for(let o of r._getters)r._setters.has(o)||(Fg(o),o._listeners.push(i));return t},Zg=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(let i of n.flat(1/0)){let t=Ug(i??0),n=t===Jg?zg((()=>i.val)):t===Xg?zg(i):i;n!=Dg&&e.append(n)}return e},Yg=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];let[o,...a]=Ug(r[0]??0)===Bg?r:[{},...r],f=e?document.createElementNS(e,t):document.createElement(t);for(let[s,c]of Object.entries(o)){let e=t=>t?Object.getOwnPropertyDescriptor(t,s)??e(Ug(t)):Dg,n=t+","+s,r=Wg[n]??=e(Ug(f))?.set??0,i=s.startsWith("on")?(e,t)=>{let n=s.slice(2);f.removeEventListener(n,t),f.addEventListener(n,e)}:r?r.bind(f):f.setAttribute.bind(f,s),o=Ug(c??0);s.startsWith("on")||o===Xg&&(c=Gg(c),o=Jg),o===Jg?zg((()=>(i(c.val,c._oldVal),f))):i(c)}return Zg(f,a)},Qg=e=>({get:(t,n)=>Yg.bind(Dg,e,n)}),ev=(e,t)=>t?t!==e&&e.replaceWith(t):e.remove(),tv=()=>{let e=0,t=[...Ng].filter((e=>e.rawVal!==e._oldVal));do{kg=new Set;for(let e of new Set(t.flatMap((e=>e._listeners=qg(e._listeners)))))Gg(e.f,e.s,e._dom),e._dom=Dg}while(++e<100&&(t=[...kg]).length);let n=[...Ng].filter((e=>e.rawVal!==e._oldVal));Ng=Dg;for(let r of new Set(n.flatMap((e=>e._bindings=qg(e._bindings)))))ev(r._dom,zg(r.f,r._dom)),r._dom=Dg;for(let r of n)r._oldVal=r.rawVal},nv={tags:new Proxy((e=>new Proxy(Yg,Qg(e))),Qg()),hydrate:(e,t)=>ev(e,zg(t,e)),add:Zg,state:Vg,derive:Gg},{button:rv,div:iv,header:ov,input:av,label:fv,span:sv,style:cv}=nv.tags,lv=e=>Object.entries(e).map((e=>{let[t,n]=e;return`${t}: ${n};`})).join(""),dv=(Object.getPrototypeOf(nv.state(null)),function(e){let{closed:t,backgroundColor:n="rgba(0,0,0,.5)",blurBackground:r=!1,backgroundClass:i="",backgroundStyleOverrides:o={},modalClass:a="",modalStyleOverrides:f={}}=e;for(var s=arguments.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=arguments[l];let d={display:"flex","align-items":"center","justify-content":"center",left:0,right:0,top:0,bottom:0,position:"fixed","z-index":1e4,"background-color":n,"backdrop-filter":r?"blur(0.25rem)":"none",...o},u={"border-radius":"0.5rem",padding:"1rem",display:"block","background-color":"white",...f};return()=>t.val?null:iv({class:i,style:lv(d)},iv({class:a,style:lv(u)},c))}),{button:uv,div:hv,p:pv,h3:bv}=nv.tags;function gv(){if(Og())return void vv(Sg);let e=Rg(),t=nv.state(!1),n=hv(bv({style:"font-size:24px;"},"Connect Wallet"),hv({style:"display: flex; flex-direction: column; padding-top: 15px;min-width: 280px;font-size:15px;"},e.map((e=>hv({style:"display: flex; justify-content: space-between; align-items:center; padding-bottom:13px;"},pv(e.name),uv({onclick:()=>{t.val=!0,vv(e)},style:"padding:5px;font-size:15px;"},"Connect"))))));nv.add(document.body,dv({closed:t,blurBackground:!0,modalStyleOverrides:{padding:"26px","border-radius":"12px"}},n,pv({style:"display: flex; justify-content: space-evenly;"},uv({onclick:()=>t.val=!0,style:"padding:5px 25px;font-size:15px;"},"Cancel"))))}async function vv(e){i.table(e),await Mg.connect(e.name)}var yv=Mg},70420:()=>{},11714:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=11714,e.exports=t},81798:()=>{},72193:()=>{},39322:()=>{},44507:()=>{},97283:()=>{},99603:()=>{},87679:()=>{},33541:()=>{},76429:()=>{},32412:()=>{},94355:()=>{}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=e,n.amdO={},(()=>{var e="function"===typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"===typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",r="function"===typeof Symbol?Symbol("webpack error"):"__webpack_error__",i=e=>{e&&e.d<1&&(e.d=1,e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))};n.a=(n,o,a)=>{var f;a&&((f=[]).d=-1);var s,c,l,d=new Set,u=n.exports,h=new Promise(((e,t)=>{l=t,c=e}));h[t]=u,h[e]=e=>(f&&e(f),d.forEach(e),h.catch((e=>{}))),n.exports=h,o((n=>{var o;s=(n=>n.map((n=>{if(null!==n&&"object"===typeof n){if(n[e])return n;if(n.then){var o=[];o.d=0,n.then((e=>{a[t]=e,i(o)}),(e=>{a[r]=e,i(o)}));var a={};return a[e]=e=>e(o),a}}var f={};return f[e]=e=>{},f[t]=n,f})))(n);var a=()=>s.map((e=>{if(e[r])throw e[r];return e[t]})),c=new Promise((t=>{(o=()=>t(a)).r=0;var n=e=>e!==f&&!d.has(e)&&(d.add(e),e&&!e.d&&(o.r++,e.push(o)));s.map((t=>t[e](n)))}));return o.r?c:a()}),(e=>(e?l(h[r]=e):c(u),i(f)))),f&&f.d<0&&(f.d=0)}})(),(()=>{var e=[];n.O=(t,r,i,o)=>{if(!r){var a=1/0;for(l=0;l<e.length;l++){r=e[l][0],i=e[l][1],o=e[l][2];for(var f=!0,s=0;s<r.length;s++)(!1&o||a>=o)&&Object.keys(n.O).every((e=>n.O[e](r[s])))?r.splice(s--,1):(f=!1,o<a&&(a=o));if(f){e.splice(l--,1);var c=i();void 0!==c&&(t=c)}}return t}o=o||0;for(var l=e.length;l>0&&e[l-1][2]>o;l--)e[l]=e[l-1];e[l]=[r,i,o]}})(),n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var f=2&i&&r;"object"==typeof f&&!~e.indexOf(f);f=t(f))Object.getOwnPropertyNames(f).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,n.d(o,a),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/dapp-demo/",(()=>{var e={792:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var i,o,a=r[0],f=r[1],s=r[2],c=0;if(a.some((t=>0!==e[t]))){for(i in f)n.o(f,i)&&(n.m[i]=f[i]);if(s)var l=s(n)}for(t&&t(r);c<a.length;c++)o=a[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(l)},r=self.webpackChunk_repo_dapp_demo=self.webpackChunk_repo_dapp_demo||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),n.nc=void 0;var r=n.O(void 0,[96,738],(()=>n(78438)));r=n.O(r)})();